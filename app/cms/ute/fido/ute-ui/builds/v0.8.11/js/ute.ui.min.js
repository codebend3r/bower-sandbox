function count(e,t){var n,r=!1,i=0;switch(!0){case null===e||"undefined"==typeof e:return 0;case!isArray(e)&&!isObject(e):r=!0}switch(!0){case e.hasOwnProperty("length"):return e.length}switch(!0){case r:return 1}switch(!0){case"COUNT_RECURSIVE"===t:t=1}switch(!0){case 1!=t:t=0}for(n in e)switch(!0){case e.hasOwnProperty(n):switch(i++,!0){case 1==t&&e[n]&&(isArray(e[n])||isObject(e[n])):i+=this.count(e[n],1)}}return i}function in_array(e,t,n){var r="",i=!!n;if(i){for(r in t)if(t[r]===e)return!0}else for(r in t)if(t[r]==e)return!0;return!1}function array_search(e,t,n){var r=!!n,i="";if(t&&"object"==typeof t&&t.change_key_case)return t.search(e,n);if("object"==typeof e&&e.exec){if(!r){var o="i"+(e.global?"g":"")+(e.multiline?"m":"")+(e.sticky?"y":"");e=new RegExp(e.source,o)}for(i in t)if(e.test(t[i]))return i;return!1}for(i in t)if(r&&t[i]===e||!r&&t[i]==e)return i;return!1}function array_keys(e,t,n){var r="undefined"!=typeof t,i=[],o=!!n,a=!0,s="";if(e&&"object"==typeof e&&e.change_key_case)return e.keys(t,n);for(s in e)e.hasOwnProperty(s)&&(a=!0,r&&(o&&e[s]!==t?a=!1:e[s]!=t&&(a=!1)),a&&(i[i.length]=s));return i}function array_values(e){var t=[],n="";if(e&&"object"==typeof e&&e.change_key_case)return e.values();for(n in e)t[t.length]=e[n];return t}function array_combine(e,t){var n={},r=e&&e.length,i=0;if("object"!=typeof e||"object"!=typeof t||"number"!=typeof r||"number"!=typeof t.length||!r)return!1;if(r!=t.length)return!1;for(i=0;r>i;i++)n[e[i]]=t[i];return n}function implode(e,t){var n=Array.prototype.slice.call(arguments),r=n[2],i="",o="",a="";if(1===arguments.length&&(t=e,e=""),"object"==typeof t){if(r)for(i=0;i<count(t);i++)o+=a+t[i],a=e;else for(i in t)o+=a+t[i],a=e;return o}return t}function explode(e,t,n){if(arguments.length<2||"undefined"==typeof e||"undefined"==typeof t)return null;if(""===e||e===!1||null===e)return!1;if("function"==typeof e||"object"==typeof e||"function"==typeof t||"object"==typeof t)return{0:""};e===!0&&(e="1"),e+="",t+="";var r=t.split(e);return"undefined"==typeof n?r:(0===n&&(n=1),n>0?n>=r.length?r:r.slice(0,n-1).concat([r.slice(n-1).join(e)]):-n>=r.length?[]:(r.splice(r.length+n),r))}function urlencode(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function strrpos(e,t,n){var r=-1;return n?(r=(e+"").slice(n).lastIndexOf(t),-1!==r&&(r+=n)):r=(e+"").lastIndexOf(t),r>=0?r:!1}function uasort(e,t){var n=[],r="",i=0,o=!1,a={};"string"==typeof t?t=this[t]:"[object Array]"===Object.prototype.toString.call(t)&&(t=this[t[0]][t[1]]),this.php_js=this.php_js||{},this.php_js.ini=this.php_js.ini||{},o=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&"off"!==this.php_js.ini["phpjs.strictForIn"].local_value,a=o?e:a;for(r in e)e.hasOwnProperty(r)&&(n.push([r,e[r]]),o&&delete e[r]);for(n.sort(function(e,n){return t(e[1],n[1])}),i=0;i<n.length;i++)a[n[i][0]]=n[i][1];return o||a}function microtime(e){var t=(new Date).getTime()/1e3,n=parseInt(t,10);return e?t:Math.round(1e3*(t-n))/1e3+" "+n}function substr_count(e,t){var n=t.replace(/(?=[\\^$*+?.\(\)|{\}[\]])/g,"\\"),r=new RegExp(""+n,"g"),i=e.match(r);return i?i.length:0}function isString(e){return"string"==typeof e}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function isBool(e){return e===!0||e===!1}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isObject(e){switch(!0){case isArray(e):return!1}var t;for(var n in e)if(e.hasOwnProperty(n)){t=!1;break}switch(t=isBool(t)?t:!0,!0){case"object"==typeof e&&t===!1:return!0}return!1}function isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}function arrayToInteger(e){var t,n,r=[],i=[],o=[],a=[];r=array_keys(e),i=array_values(e),n=count(e);for(var s=0;n>s;s++)t=parseInt(i[s]),o.push(t);return a=array_combine(r,o)}function arrayHasDuplicates(e){for(var t={},n=count(e),r=0;n>r;++r){var i=e[r];if(Object.prototype.hasOwnProperty.call(t,i))return!0;t[i]=!0}return!1}function getValueAfterExplode(e,t,n){var r=explode(t,e);return r[n]}function getSortedKeys(e){for(var t=[],n=0;n<e.length;n++)t.push({key:n,value:e[n]});t.sort(function(e,t){return e.value<t.value?-1:e.value>t.value?1:0});for(var r=[],n=0;n<t.length;n++)r.push(t[n].key);return r}function getClosestNumberMatchArray(e,t){var n,r,i,o,a=Array.prototype.slice.call(arguments),s=isBool(a[2])?a[2]:!1,c=isBool(a[3])?a[3]:!0,u=isNumber(a[4])?a[4]:0,l=[],d=[];e=arrayToInteger(e),t=parseInt(t);for(var p=0;p<count(e);p++)n=t-e[p],n=Math.abs(n),d.push(n);switch(l=getSortedKeys(d),r=l[0],i=e[r],o=i-t,o=Math.abs(o),!0){case t>i:c=u>=o?!1:c,r=c?r+1:r}return i=e[r],s?r:i}function isEvenDecimal(e){var t,n,r=Array.prototype.slice.call(arguments),i=isBool(r[1])?r[1]:!1;switch(t=0>e&&i?-1*e:e,n=t%1,!0){case!isNumber(t)||1>t||0==n:return!1}return t=Math.floor(t),n=t%2,!(0!=n)}function getUrl(){var e,t=Array.prototype.slice.call(arguments),n=isString(t[0])&&""!=t[0]?t[0]:"",r=isString(t[1])&&""!=t[1]?t[1]:document.URL,i=[],o=/\?+/.test(r),a=r.match(/^([h|f]{1}[t]{0,1}tp[s]{0,1}\:\/\/)([^ ]+?)\?([^ ]*)/i);switch(!0){case"basepath"==n||"bp"==n:return o?a[1]+a[2]:r;case"basedir"==n||"bd"==n:return e=o?a[1]+a[2]:r,i=explode("/",e),i.pop(),implode("/",i);case"query"==n||"q"==n:return o?a[3]:"";default:return r}}function TagContainerLoader(){var e=this,t=e.w=window;e.d=t.document,e._c="s_l",t.s_c_il||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e.timeout=5e3,e.to=new Function("var t=s_c_il["+e._in+"];if(t.mt)t.mt(0)"),e.loadTagContainer=function(){var e,t,n=this,r=n.d.body,i=n.tagContainerServer?n.tagContainerServer:"www.adobetag.com",o=n.tagContainerServerSecure?n.tagContainerServerSecure:i,a=n.d.cookie,s=n.tagContainerEnv?n.tagContainerEnv:a?a.indexOf("s_tagEnv=dev")>=0?"dev":a.indexOf("s_tagEnv=stage")>=0?"stage":"live":"live",c=(n.w.location.protocol.toLowerCase().indexOf("https")>=0?"https://"+o:"http://"+i)+"/"+(n.tagContainerDC?n.tagContainerDC+"/":"")+n.tagContainerNamespace+"/"+s+"/"+n.tagContainerName+".js";n.tagContainerURL&&(c=n.tagContainerURL),n.timeout&&(n.ti=setTimeout(n.to,n.timeout)),n.d.getElementsByTagName?(e=n.d.getElementsByTagName("HEAD"),e&&e[0]&&(r=e[0])):r=0,r&&!n.tagContainerSynchronous?(t=n.d.createElement("SCRIPT"),t&&(t.type="text/javascript",t.setAttribute("async","async"),t.src=c,r.firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t))):n.d.write('<script language="JavaScript" type="text/javascript" src="'+c+'"></script>')},e.fs=function(e,t){if(e&&t){var n,r,i=e.split(","),o=t.split(",");for(n=0;n<i.length;n++)for(r=0;r<o.length;r++)if(i[n]==o[r])return 1}return 0},e.aa=function(e){var t,n=0;if(e)for(n=[],t=0;t<e.length;t++)n[t]=e[t];return n},e.wl=[],e.wq=[],e.createAsynchronousCustomTagHandler=function(e,t){var n,r,i=this;for(t?(i.w[e]||(i.w[e]={}),n=i.wl[e]=i.w[e]):(t=e,e=0,n=i.w),"object"!=typeof t&&(t=[t]),r=0;r<t.length;r++)n[t[r]]||(n[t[r]]=new Function("var t=s_c_il["+i._in+"];t.wq[t.wq.length]={"+(e?'o:"'+e+'",':"")+'f:"'+t[r]+'",a:t.aa(arguments)}'))},e.as=function(e){var t,n=[];for(t=1;t<e.length;t++)n[n.length]=e[t];return n},e.s=0,e.contextData={},e.retrieveLightData={},t.s_giq||(t.s_giq=[]),e._gi=t.s_gi,t.s_gi=new Function("u","var t=s_c_il["+e._in+'],w=t.w,l=t._il,i,j,x,s;u=u.toLowerCase();if(l)for(j=0;j<2;j++)for(i=0;i<l.length;i++){s=l[i];x=s._c;if((!x||x=="s_c"||(j>0&&x=="s_l"))&&s.oun&&(s.oun==u||(s.fs&&s.sa&&s.fs(s.oun,u)))){if(s.sa)s.sa(u);return s}}if(!t.oun){t.sa(u);return t}if(t._gi)return t._gi(u);s=new TagContainerLoader();s.tagContainerName="s_tca_"+w.s_giq.length;s.sa(u);w.s_giq[w.s_giq.length]=s;return s'),e.sa=function(e){var t=this;t.s&&t.s.sa(e),t.un=e,t.oun?t.fs(t.oun,e)||(t.oun+=","+e):t.oun=e},e.tq=[],e.track=e.t=function(e){var t,n=this;if(n.s)return n.s.t(e);e||(e={});for(t in n)("un"!=t||n.u!=n.un)&&(e[t]=n[t]);return n.tq[n.tq.length]=e,n.lnk=n.linkName=n.linkType="",""},e.trackLink=e.tl=function(e,t,n,r){var i=this;return i.s?i.s.tl(e,t,v,r):(i.lnk=e,i.linkType=t,i.linkName=n,i.t(r))},e.trackLight=function(e,t,n,r){var i=this;return i.s?i.s.trackLight(e,t,n,r):(i.lightProfileID=e,i.lightStoreForSeconds=t,i.lightIncrementBy=n,i.t(r))},e.lmq=[],e.loadModule=function(e,t,n){var r=this;return r.s?r.s.loadModule(e,t,n):(r.lmq[r.lmq.length]={n:e,u:t,d:n},0)},e.ml=[],e.mmq=[],e.mo=function(e,t){var n,r=this;if(r.ml[e]=r[e]={},t)for(n=0;n<t.length;n++)r[e][t[n]]=new Function("var t=s_c_il["+r._in+'];t.mmq[t.mmq.length]={m:"'+e+'",f:"'+t[n]+'",a:t.aa(arguments)}')},e.mo("Media",["open","play","stop","close","track"]),e.mo("Survey",["launch"]),e.mci=[],e.mn=[],e.mc=function(e,t,n,r){var i,o=this,a=0;if("undefined"!=typeof mboxFactoryDefault&&null!=o.d.getElementById(t)){if(!mboxFactoryDefault.isEnabled())return clearInterval(o.mci[r]),o.mt(!0),void 0;"undefined"!=typeof mboxFactoryDefault.get(o.mn[0],0)&&(a=mboxFactoryDefault.get(o.mn[0],0).isShown()),(0==r||a)&&(clearInterval(o.mci[r]),i=mboxFactoryDefault.create(e,n.split("&")),i&&i.load())}},t.mboxCreate||t.mboxDefine||t.mboxUpdate||(t.mboxVersion="mini",e.d.getElementById("mboxScriptContainer")||e.d.write('<div id="mboxScriptContainer" style="display:none;visibility:hidden;"></div><style>.mboxDefault{visibility:hidden;}</style>'),e.mt=function(e){var t,n,r,i=this;if("undefined"==typeof mboxFactoryDefault||e){for(t in i.mci)clearInterval(i.mci[t]);r=i.d.getElementsByClassName?i.d.getElementsByClassName("mboxDefault"):i.d.getElementsByTagName("div");for(n in r)"mboxDefault"==r[n].className&&(r[n].style.visibility="visible")}},e.mpi={},e.mp=function(e,t){var n=this;n.mpi[e]=setInterval(function(){"undefined"!=typeof mboxFactoryDefault&&(t(),clearInterval(n.mpi[e]))},13)},t.mboxCreate=function(t){var n,r,i,o,a=0;for(n in e.mn)e.mn[n]==t&&a++;e.mn[e.mn.length]=t,r="mboxMarker-default-"+t+"-"+a,e.d.write('<div id="'+r+'" style="visibility:hidden;display:none">&nbsp;</div>'),i=e.as(arguments).join("&"),o=e.mci.length,e.mci[o]=setInterval(function(){e.mc(t,r,i,o)},5)},t.mboxDefine=function(t,n){var r=e.as(arguments);e.mp("define_"+n,function(){mboxFactoryDefault.create(n,r,t)})},t.mboxUpdate=function(t){var n,r=e.as(arguments);n="update_"+t,e.mpi[n]=setInterval(function(){"undefined"!=typeof mboxFactoryDefault&&"undefined"!=typeof mboxFactoryDefault.get(t)&&(mboxFactoryDefault.update(t,r),clearInterval(e.mpi[n]))},13)},t.mboxLoadSCPlugin=function(e){!function(){return"undefined"==typeof mboxFactoryDefault||"undefined"==typeof mboxExternalLoadSCPlugin||"s_l"==e._c&&!e.s?(setTimeout(arguments.callee,19),void 0):("s_l"==e._c&&(e=e.s),mboxExternalLoadSCPlugin(e),void 0)}()})}angular.module("ute.ui.livesite").run(["$templateCache",function(e){e.put("header.html",'<header role="banner" class="navbar  module-nav copy-3" ng-class="[headerTypeClass()]">\n  <div ng-switch on=\'headerType\'>\n    <div ng-switch-default>\n      <div id="oldBrowserMsg" style="display: none">\n        <div class="container">\n          <div class="row">\n            <div class="col-sm-12">\n              <div id="oldBrowserMsgShort">\n                <p>\n                  We noticed that you\'re not using the latest version of your browser. You\'ll still be able to use\n                  our site, but it might not work or look the way it\'s supposed to. We recommend upgrading your browser.\n                  <a target="_blank" href="http://www.mozilla.org/en-US/firefox/new/">Firefox</a>,\n                  <a target="_blank" href="https://www.google.com/intl/en/chrome/browser/">Chrome</a>,\n                  <a target="_blank" href="http://support.apple.com/downloads/#safari">Safari</a>,\n                  <a target="_blank" href="http://www.opera.com/download">Opera</a>\n                  or the <a target="_blank" href="http://windows.microsoft.com/en-us/internet-explorer/download-ie">latest version of Internet Explorer</a>.\n                  [<a href="#" class="oldBrowserToggle">details</a>]\n                </p>\n              </div>\n              <div id="oldBrowserMsgLong">\n                <p>We noticed that you\'re not using the latest version of Internet Explorer. You\'ll still be able to use our site,\n                  but it might not work or look the way it\'s supposed to. We recommend upgrading your browser.\n                </p>\n\n                <p>Click on an icon below to download the latest version of Internet Explorer or another browser now.</p>\n\n                <div class="options">\n                  <a href="http://windows.microsoft.com/en-us/internet-explorer/download-ie" target="_blank">\n                    <img src="http://www.rogers.com/cms/images/en/Common/Logos/ie_y_70x60.jpg" alt="Internet Explorer">\n                    <span>Internet&nbsp;Explorer</span>\n                  </a>\n                  <a href="http://www.mozilla.org/en-US/firefox/new/" target="_blank">\n                    <img src="http://www.rogers.com/cms/images/en/Common/Logos/ff_y_70x60.jpg" alt="Firefox">\n                    <span>Firefox</span>\n                  </a>\n                  <a href="https://www.google.com/intl/en/chrome/browser/" target="_blank">\n                    <img src="http://www.rogers.com/cms/images/en/Common/Logos/chrome_y_70x60.jpg" alt="Chrome">\n                    <span>Chrome</span>\n                  </a>\n                  <a href="http://support.apple.com/downloads/#safari" target="_blank">\n                    <img src="http://www.rogers.com/cms/images/en/Common/Logos/safari_y_70x60.jpg" alt="Safari">\n                    <span>Safari</span>\n                  </a>\n                  <a href="http://www.opera.com/download" target="_blank">\n                    <img src="http://www.rogers.com/cms/images/en/Common/Logos/opera_y_70x60.jpg" alt="Opera">\n                    <span>Opera</span>\n                  </a>\n                </div>\n                <p>If you\'re unable to download the latest version of Internet Explorer, please ensure you have compatibility view turned off.</p>\n\n                <p>\n                  <strong>How to disable compatibility view</strong>\n                </p>\n                <ol>\n                  <li>Open Internet Explorer.</li>\n                  <li>Click on the <strong>Tools</strong> menu (you may have to press <em>Alt</em> to bring up the menu).</li>\n                  <li>If the <strong>Compatibility View</strong> box is checked, click to remove checkmark.</li>\n                  <li>Click <strong>Tools</strong> again.</li>\n                  <li>\n                    Select <strong>Compatibility View Settings</strong>.\n                    <ul>\n                      <li>Make sure "rogers.com" is not listed under "Websites you\'ve added to Compatibility View."</li>\n                    </ul>\n                  </li>\n                  <li>Close and reopen Internet Explorer.</li>\n                  <li>Go to rogers.com.</li>\n                </ol>\n                <a href="#" class="oldBrowserToggle">[close]</a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="ute-nav-agent">\n        <div class="container">\n          <div ng-if="ruiMethods.user.is.agent()" class="user-status">\n            <div>Agent Logged in : <span>{{ruiMethods.agent.name()}}</span></div>\n            <div>\n              <div class="pull-left"> Session Time Remaining\n                <timer end-time="userInfo.expiry" ng-if="userInfo.expiry" max-time-unit="second">{{mminutes}}:{{sseconds}}</timer>\n              </div>\n              <div class="pull-left ute-agent-nav-links"><a ng-href="{{ ruiMethods.agent.homeURL() }}">\n                <ins translate="agent-home-page"></ins>\n              </a> | <a class="user-sign-out" ng-click="ruiMethods.agent.signOut();">\n                <ins translate=\'sign-out\'></ins>\n              </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div id="header" class="ute-nav-primary">\n        <div class="container">\n          <div class="navbar-header">\n            <button id="mobile-menu-btn" ng-class="{\'collapsed\': !mobileNavOpen }" ng-click="ruiMethods.toggleMobileMenu()" type="button" class="navbar-toggle" title="Menu">\n              <span class="sr-only">Toggle navigation</span>\n              <i class="ute-icon-mobile-menu"></i>\n            </button>\n            <a href="#/" class="navbar-brand" title="fido">fido</a>\n          </div>\n          <div class="shadow"></div>\n          <nav class="navbar-collapse bs-navbar-collapse" id="main-menu" ng-class="{\'in\': mobileNavOpen }">\n            <ul class="nav navbar-nav" id="nav-main">\n              <li class="visible-xs"><a href="/web/content/store-locator">FIND A STORE</a></li>\n\n              <!--<li ng-if="!ruiMethods.user.is.agent()" ui-sref-active=\'active\'>\n                <a ui-sref=\'wireless\'>\n                  <ins translate="states-wireless"></ins>\n                </a>\n              </li>-->\n\n              <!--Added li to maintain appearance-->\n              <li>\n                &nbsp;\n              </li>\n\n              <li ui-sref-active=\'active\'>\n                <a ui-sref=\'myAccount.internet({accountNumber: commonService.internetAccountNumber, subscriberNo: commonService.internetSubscriberNo})\' ute-tracking="eclipse-click-1" ng-show="ruiMethods.user.is.loggedIn() && commonService.customerHasInternetService && commonService.internetSubscriberNo">\n                  <ins translate="states-internet"></ins>\n                </a>\n                <a ui-sref=\'internet\' ute-tracking="eclipse-click-1" ng-hide="ruiMethods.user.is.loggedIn() && commonService.customerHasInternetService && commonService.internetSubscriberNo && useHref">\n                  <ins translate="states-internet"></ins>\n                </a>\n                <a href="http://google.com" ute-tracking="eclipse-click-1" ng-hide="ruiMethods.user.is.loggedIn() && commonService.customerHasInternetService && commonService.internetSubscriberNo || !useHref">\n                  <ins translate="states-internet"></ins>\n                </a>\n              </li>\n              \n              \n              <li ng-if="!ruiMethods.user.is.agent()" ui-sref-active=\'active\'>\n                <a ui-sref=\'myAccount.tv({accountNumber: commonService.tvAccountNumber, subscriberNo: commonService.tvSubscriberNo})\' ng-show="ruiMethods.user.is.loggedIn() && commonService.customerHasTVService && commonService.tvSubscriberNo">\n                  <ins translate="states-tv"></ins>\n                </a>\n                <a ui-sref=\'tv\' ng-hide="ruiMethods.user.is.loggedIn() && commonService.customerHasTVService && commonService.tvSubscriberNo && useHref">\n                  <ins translate="states-tv"></ins>\n                </a>\n                <a href="http://google.com" ng-hide="ruiMethods.user.is.loggedIn() && commonService.customerHasTVService && commonService.tvSubscriberNo || !useHref">\n                  <ins translate="states-tv"></ins>\n                </a>\n              </li>\n              \n              \n              \n              <li ui-sref-active=\'active\'>\n                <a ui-sref=\'rewards\' ng-hide="useHref">\n                  <ins translate="states-rewards"></ins>\n                </a>\n                <a href="http://google.com" ng-hide="!useHref">\n                  <ins translate="states-rewards"></ins>\n                </a>\n              </li>\n              \n              \n              <li ui-sref-active=\'active\'>\n                <a ui-sref=\'support\' ng-hide="useHref">\n                  <ins translate="states-support"></ins>\n                </a>\n                <a href="http://google.com" ng-hide="!useHref">\n                  <ins translate="states-support"></ins>\n                </a>\n              </li>\n              \n              \n              \n              <li class="nav-my-account" ng-show="ruiMethods.showMyAccountLink()" ui-sref-active=\'active\'>\n                <a ui-sref=\'myAccount.overview\'>\n                  <ins translate="states-dashboard"></ins>\n                  <i class="ute-icon-circle-down visible-xs"></i>\n                </a>\n\n                <div ng-class="{\'active\':state.current.data.showSubHeading===true}" class="ute-nav-secondary container">\n                  <div class="row">\n                    <div class="col-sm-3 hidden-xs">\n                      <h4>MY ACCOUNT</h4>\n                    </div>\n                    <div class="col-sm-9">\n                      <ul class="header-4">\n                        <li><a ui-sref=\'myAccount.overview\' ui-sref-active="active">Overview</a></li>\n                        <li><a ui-sref="myAccount.paymentHistory({accountNumber: accountDetails[0].accountNumber})" ui-sref-active="active" ng-show="(accountDetails || []).length>0 && accountDetails[0].accountNumber">Billing & Payments</a></li>\n                        <li class="services"><a ui-sref-active="active" href="">Services <i class="ute-icon-circle-down"></i></a>\n                          <ul>\n                            <li ng-show="internetSubscriberNo"><a ui-sref="myAccount.internet({accountNumber: internetAccountNumber, subscriberNo: internetSubscriberNo})" ui-sref-active="active">Internet</a></li>\n                            <li ng-show="tvSubscriberNo"><a ui-sref="myAccount.tv({accountNumber: tvAccountNumber, subscriberNo: tvSubscriberNo})" ui-sref-active="active">Tv</a></li>\n                            <li ng-show="wirelessSubscriberNo"><a ui-sref-active="active">Wireless</a></li>\n                          </ul>\n                        </li>\n                        <li><a ui-sref="myAccount.viewProfile" ui-sref-active="active">Profile</a></li>\n                        <li><a ui-sref="myAccount.internetUsage.notification({accountNumber: internetAccountNumber, subscriberNo: internetSubscriberNo})" ui-sref-active="active" ng-show="internetSubscriberNo||tvSubscriberNo||wirelessSubscriberNo">Notifications <span class="badge count-badge">{{internetNotificationsCount}}</span></a></li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n\n              </li>\n            </ul>\n            <ul class="nav navbar-nav" id="nav-context-bar">\n              <li id="username">\n                <div ng-if="!(ruiMethods.user.is.agent() && !ruiMethods.agent.has.customerContext())" class="user-status">\n                  <a ng-hide="ruiMethods.user.is.loggedIn() || ruiMethods.user.is.agent()" class=\'login-btn btn-default btn-sm\' style=\'margin-right:10px\' ng-click="login()">\n                    <ins translate="signin"></ins>\n                  </a>\n\n                  <div class="user-name" ng-show="ruiMethods.user.is.loggedIn() || ruiMethods.agent.has.customerContext()">\n                    <span ng-show="userinfo.firstName" class="user-label"><ins translate=\'user\'></ins></span>\n                    <span ng-show="userinfo.firstName">:</span>\n                    <a ui-sref="myAccount.viewProfile"><span class="user-name text-capitalize">{{ userInfo.firstName + \' \' + userInfo.lastName }}</span></a>\n                    <!--Show sign out for consumer-->\n                    <a ng-if="!ruiMethods.user.is.agent()" class="user-sign-out" ng-click="logout()">\n                      <ins translate=\'sign-out\'></ins>\n                    </a>\n                    <!--Show close account for agent-->\n                    <a ng-if="ruiMethods.user.is.agent()" class="user-sign-out" ng-click="ruiMethods.agent.signOut();">\n                      <ins translate=\'close-account\'></ins>\n                    </a>\n                  </div>\n                </div>\n              </li>\n              <li class="dropdown" id="province">\n                <rg-province-selector></rg-province-selector>\n              </li>\n              <li>\n                <rg-language-selector></rg-language-selector>\n              </li>\n              <li id="search">\n                <!-- data-target="#modal-typeahead" data-toggle="modal">!-->\n                <!--<a href="http://www.fido.ca/web/Fido.portal?_nfpb=true&_pageLabel=fido_search&Ntt=" title="Search"><i class="ute-icon-search"></i></a>!-->\n                <a ng-click="openSearch()" title="Search"><i class="ute-icon-search"></i></a>\n              </li>\n              <li id="shopcart"><a class="shop-btn"\n                                   ute-popover\n                                   popover-class="mini-shopping-cart"\n                                   popover-backdrop="true"\n                                   popover-close-target="#close-popover"\n                                   popover-insert-mode="after"\n                                   popover-placement="bottom"\n                                   popover-content="<ute-mini-cart></ute-mini-cart>">\n                <i class="ute-icon-cart"><span ng-show="getQuantity()" class="cart-badge"><i class="ute-icon-cart-badge"></i>{{getQuantity() === 0 ? \'\' : getQuantity()}}</span></i>\n              </a></li>\n            </ul>\n          </nav>\n          <div id="nav-actions">\n            <div id="search-mob" class="inline-block"><a ng-click="openSearch()" title="Search"><i class="ute-icon-search"></i></a></div>\n            <div id="shopcart-mob" class=\'inline-block\'>\n              <a class="shop-btn"\n                 ute-popover\n                 popover-class="mini-shopping-cart"\n                 popover-backdrop="true"\n                 popover-close-target="#close-popover"\n                 popover-insert-mode="after"\n                 popover-placement="bottom"\n                 popover-content="<ute-mini-cart></ute-mini-cart>">\n                <i class="ute-icon-cart"><span ng-show="getQuantity()" class=\'cart-badge\'>{{getQuantity() === 0 ? \'\' : getQuantity()}}</span></i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div ng-include="\'scripts/ute-ui-extended/html/janrain-signin.html\'"></div>\n    </div>\n  </div>\n</header>\n'),e.put("custom-modal.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><span class="ute-icon-circle-x"></span></span>\n  </button>\n  <h2 class="modal-title">{{title}}</h2>\n</div>\n\n<div class="modal-body">\n  <p>{{message}}</p>\n  <ul>\n    <li ng-repeat="stuff in listOfStuff">{{stuff}}</li>\n  </ul>\n</div>\n\n<div class="modal-footer">\n  <a data-dismiss="modal" class="ute-link" ng-click="cancel()">Cancel</a>\n  <button class="btn btn-default ute-btn-primary" ng-click="ok()">OK</button>\n</div>'),e.put("global-search.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><span class="ute-icon-circle-x"></span></span>\n  </button>\n  <h2 class="modal-title">What are you looking for?</h2>\n</div>\n\n<div class="modal-body" data-ng-app="typeahead" data-ng-controller="typeAheadCtrl" id="modal-search" data-config-service="/fido/data/search-samsung.json" />\n<form id="modal-search-form" method="GET" action="search.shtml" autocomplete="off">\n<input type="text" \nname="q" \nplaceholder="Ask us!"\ndata-ng-model="criteria" />\n<div class="rui-searchbox-submit">\n<i class="rui-icon-search"></i>\n<input type="submit" value="Search" />\n</div>\n<div class="rui-ngtypeahead">\n<h4 data-ng-if="results.links.length > 0">Related Searches</h4>\n<ul class="links">\n<li data-ng-repeat="link in results.links track by $index" data-ng-if="$index < max.links">\n<a href="{{urls.search + link.label}}" alt="{{link.label}}">{{link.label}}</a>\n</li>\n</ul>\n<h4 data-ng-if="results.quicklinks.length > 0">Quick Links</h4>\n<ul class="related">\n<li data-ng-repeat="link in results.quicklinks track by $index" data-ng-if="$index < max.quicklinks">\n<a href="{{link.navigationState}}" alt="{{link.label}}">\n<img src="" />\n<span data-ng-bind-html="link.label | to_trusted"></span>\n</a>\n</li> \n</ul>\n</div>\n</form>\n</div>\n\n<div class="modal-footer">\n</div>'),e.put("modal.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><span class="ute-icon-circle-x"></span></span></button>\n  <h2 class="modal-title">{{title}}</h2>\n</div>\n\n<div class="modal-body">\n  <p>{{message}}</p>\n</div>\n\n<div class="modal-footer">\n  <a data-dismiss="modal" class="ute-link" ng-click="cancel()">{{cancelButtonLabel}}</a>\n  <button class="btn btn-default ute-btn-primary" ng-click="ok()">{{okButtonLabel}}</button>\n</div>'),e.put("processing-request.html",'<!-- typically from 0-10s -->\n<div ng-if="loadingView === true">\n  <div class="modal-header">\n    <!-- <h2 class="modal-title">Processing...</h2> -->\n  </div>\n  <div class="modal-body">\n    <!-- <p>Processing your request now...</p> -->\n    <div class="row">\n      <div class="col-xs-12 col-md-3 text-center">\n        <img src="/html-fido/cms/ute/fido/images/brand/fido/loading-2.gif"/>\n      </div>\n\n      <div class="col-xs-12 col-md-8 col-md-offset-1">\n\n        <h2 class="modal-title" id="myModalLabel6">Processing Your Request</h2>\n        <p>This might take some time. Please be patient.</p>\n\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- typically from 10-30s -->\n<div ng-if="processingView === true">\n  <div class="modal-header">\n    <!-- <h2 class="modal-title">Processing...</h2> -->\n  </div>\n  <div class="modal-body">\n    <!-- <p>Still processing. Please be patient.</p> -->\n    <div class="row">\n      <div class="col-xs-12 col-md-3 text-center">\n        <img src="/html-fido/cms/ute/fido/images/brand/fido/loading-2.gif"/>\n      </div>\n\n      <div class="col-xs-12 col-md-8 col-md-offset-1">\n        <h2 class="modal-title" id="myModalLabel6">Still Processing Your Request</h2>\n        <p>Please wait..</p>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- request has timed out / or any other SS errors -->\n<div ng-if="errorView === true">\n  <div class="modal-header">\n    <button type="button" ng-click="cancel()" class="close" data-dismiss="modal" aria-label="Close">\n      <span aria-hidden="true"><span class="ute-icon-circle-x"></span></span>\n    </button>\n    <h2 class="modal-title">Error</h2>\n  </div>\n  <div class="modal-body">\n    <p>Something went wrong. Please try again later. You can <a href="" ng-click="makeRequest();">click here</a> to try again.</p>\n  </div>\n  <div class="modal-footer">\n    <a data-dismiss="modal" class="ute-link" ng-click="cancel()"><ins translate="Close"></ins></a>\n  </div>\n</div>\n'),e.put("search.html",'<div class="modal-header">\n  <button type="button" ng-click="cancel()" class="close" data-dismiss="modal" aria-label="Close">\n    <span aria-hidden="true"><span class="ute-icon-circle-x"></span></span>\n  </button>\n  <!--<h2 class="modal-title"><ins translate="confirm-internet-package-remove"></ins>What are you looking for?</h2>!-->\n</div>\n\n<div class="modal-body">\n  <form name="formCheckAvailability" ng-submit="submitSearch(search)" action="http://www.fido.ca/web/Fido.portal" method="GET" novalidate>\n    <div class="input-group ute-input-search">\n\n      <h4>\n        <ins translate="search-title"></ins>\n      </h4>\n      <br/>\n\n      <input type="hidden" name="_nfpb" value="true"/>\n      <input type="hidden" name="_pageLabel" value="fido_search"/>\n      <input\n        id="siteSearch"\n        name="Ntt"\n        locale="en-ca"\n        class="ute-input-text form-control address"\n        type="search"\n        ng-model="search"\n        autocomplete="off"\n        placeholder=""/>\n      <span class="input-group-btn">\n        <button class="ute-icon-search" type="submit" ng-disabled="lookupDisabled"></button>\n      </span>\n\n    </div>\n  </form>\n</div>\n\n<div class="modal-footer">\n  <!--<a data-dismiss="modal" class="ute-link clickable" ng-click="cancel()" ute-tracking="eclipse-click-6"><ins translate="global.cta.cancel"></ins></a>\n  <button class="ute-btn-primary" ng-click="ok()"><ins translate="global.cta.confirmRemoval"></ins></button>!-->\n</div>'),e.put("janrain-signin.html",'<!-- signIn:\nThis is the starting point for sign in and registration. This screen is\nrendered by default. In order to change this behavior, the Flow must be\nedited.\n-->\n<div style="display:none;" id="signIn">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      <ins translate="login"></ins>\n    </h4>\n  </div>\n  <div class="capture_signin">\n\n    <div id="capture_signIn_signInForm_successMessages" style="display:none;">\n      <div class="capture_form_success"></div>\n    </div>\n    {* #signInForm *}\n    {* userID *}\n    {* currentPassword *}\n    <div class="capture_form_item">\n      <a data-capturescreen="forgotPassword">\n        <ins translate="forgot-password"></ins>\n        ?</a>\n    </div>\n    <div class="capture_rightText">\n      <button class="capture_secondary capture_btn capture_primary" type="{{\'submit\' | translate}}"><span class="janrain-icon-16 janrain-icon-key"></span>\n        <ins translate="login-button"></ins>\n      </button>\n      <p class="clearfix">\n        <ins translate="new-to-fido"></ins>\n        <a id="capture_signIn_createAccountButton" data-capturescreen="traditionalRegistration" class="capture_secondary capture_createAccountButton capture_btn capture_primary">\n          <ins translate="register-now"></ins>\n        </a></p>\n    </div>\n    {* /signInForm *}\n  </div>\n</div>\n\n<div style="display:none;" id="forgotPassword">\n  <div id=\'forgotPasswordForm\'>\n    <div class="capture_header">\n      <h4 class="modal-title header-3">\n        <ins translate="login-forgotpswd-create-new"></ins>\n      </h4>\n    </div>\n    {* #forgotPasswordForm *}\n    <p class="modal-forgot-password-prompt">\n      <ins translate="login-forgotpswd-enter-username"></ins>\n    </p>\n    {* resetPasswordUserID *}\n    <div class="capture_footer">\n      <div class="capture_left">\n        {* backButton *}\n      </div>\n      <div class="capture_right">\n        <input value="{{\'global.cta.continue\' | translate}}" type="submit" id=\'forgotFormSubmit\' class="capture_btn capture_primary" onclick=\'validateForgotPassword(event)\'>\n        <!-- <input value="Submit" type=\'button\' id=\'forgotFormButton\' class="capture_btn capture_primary" onclick=\'validateForgotPassword()\' > onclick=\'validateForgotPassword(event)\' -->\n      </div>\n    </div>\n    {* /forgotPasswordForm *}\n  </div>\n\n  <div id=\'forgotPasswordGroupFailure\' style="display:none;">\n    <div class="capture_header">\n      <h4 class="modal-title header-3">\n        <ins translate="group-id-password"></ins>\n      </h4>\n    </div>\n    <p>\n      <ins translate="please-chat-customer-agent-reset-password"></ins>\n    </p>\n  </div>\n\n</div>\n\n<!-- forgotPasswordSuccess:\n  When the user submits an email address on the forgotPassword screen,\n  this screen is rendered.\n-->\n<div style="display:none;" id="forgotPasswordSuccess">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      <ins translate="password-reset-sent-success-header"></ins>\n    </h4>\n  </div>\n  <p>\n    <ins translate="password-reset-sent-success"></ins>\n  </p>\n  <div class="capture_footer">\n    <a onclick="janrain.capture.ui.modal.close()" class="capture_btn capture_primary">\n      <ins translate="global.cta.close"></ins>\n    </a>\n  </div>\n</div>\n\n<!-- returnTraditional:\nThis is the screen the user sees in place of the signIn screen if they\'ve\nalready signed in with a traditional account on this site. Rendering of this\nscreen is defined in the Flow only when the \'janrainLastAuthMethod\' cookie\nis set to\'traditionalSignin\'.\n-->\n<div style="display:none;" id="returnTraditional">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      Sign In\n    </h4>\n  </div>\n  <h4 class="capture_centerText"><span id="traditionalWelcomeName">Welcome back!</span></h4>\n  <div class="capture_backgroundColor">\n    {* #signInForm *}\n    {* userID *}\n    {* currentPassword *}\n    <div class="capture_form_item capture_rightText">\n      <button class="capture_secondary capture_btn capture_primary" type="submit"><span class="janrain-icon-16 janrain-icon-key"></span> Sign In</button>\n    </div>\n    {* /signInForm *}\n    <div class="capture_centerText switchLink"><a data-cancelcapturereturnexperience="true">Use another account</a></div>\n  </div>\n</div>\n\n<!-- accountDeactivated:\n  This screen is rendered if the user\'s account is deactivated. Screen\n  rendering is handled in janrain-init.js.\n-->\n<div style="display:none;" id="accountDeactivated">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      Deactivated Account\n    </h4>\n  </div>\n  <div class="content_wrapper">\n    <p>\n      <ins translate="login-account-locked"></ins>\n    </p>\n  </div>\n  <div class="text-right">\n    <button class="ute-btn-primary ute-sm" onclick="janrain.capture.ui.renderScreen(\'signIn\');">\n      <ins translate="global.cta.okay"></ins>\n    </button>\n  </div>\n</div>\n\n<!--\n============================================================================\n  REGISTRATION SCREENS:\n  The following screens are part of the registration user workflow. For a\n  complete out-of-the-box registration experience, these screens must be\n  included on the page where you are implementing sign in and\n  registration.\n============================================================================\n-->\n\n<!-- traditionalRegistration:\n  When a user clicks the \'Create Account\' button this screen is rendered.\n-->\n<div style="display:none;" id="traditionalRegistration">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      <ins translate="registration"></ins>\n    </h4>\n    <div class="registration-please-confirm">\n      <ins translate="registration-please-confirm"></ins>\n    </div>\n  </div>\n  {* #registrationForm *}\n  {* emailAddress *}\n  {* emailConfirm *}\n  {* newPassword *}\n  <div class="ute-message">\n    <ins translate="registration-password-criteria"></ins>\n  </div>\n  <!-- <ins translate="registration-password-criteria"></ins> -->\n  {* newPasswordConfirm *}\n  {* securityQuestion *}\n  {* securityAnswer *}\n  <!-- hidden fields -->\n  {* msisdn *}\n  <div class="capture_footer">\n    <div class="capture_left">\n      <a class="ute-link ute-sm text-uppercase" onclick="janrain.capture.ui.renderScreen(\'signIn\')">\n        <ins translate="global.cta.cancel"></ins>\n      </a>\n    </div>\n    <div class="capture_right">\n      <input value="{{\'global.cta.continue\' | translate}}" type="submit" class="capture_btn capture_primary">\n    </div>\n  </div>\n  {* /registrationForm *}\n</div>\n\n<!-- emailNotVerified:\n  This screen is rendered if a user attempts to login with an unverified\n  email address.\n-->\n<div style="display:none;" id="emailNotVerified">\n  <div class=\'thankYouRegisteration\' style="display:none;">\n    <!-- N.B.\n      <span id="emailRegisteredRecently"></span>, to which the Janrain e-mail is bound, is part of the property value of the property name "sign-up-thank-you-note", which can be found in the language JSON files.\n    -->\n    <ins translate="sign-up-thank-you-note"></ins>\n    <div class="text-right">\n      <button class="ute-btn-primary ute-sm" onclick="janrain.capture.ui.renderScreen(\'signIn\');">\n        <ins translate="cool"></ins>\n      </button>\n    </div>\n  </div>\n\n  <div class=\'emailVerifiedForm\' style="display:none;">\n    <div class="capture_header">\n      <h4 class="modal-title header-3">\n        <ins translate="please-validate-email"></ins>\n      </h4>\n    </div>\n    <p>\n      <ins translate="your-email"></ins>\n      <strong class=\'notVerifiedEmail\'></strong>\n      <ins translate="has-not-been-validated"></ins>\n    </p>\n    <p>\n      <ins translate="check-email-validation-link"></ins>\n      {* #resendVerificationForm *}\n    <div style=\'display:none\'> {* signInEmailAddress *}</div>\n    <input value="{{\'send-me-link\' | translate}}" type="submit" class="capture_btn">\n\n    {* /resendVerificationForm *}</p>\n    <p>\n      <ins translate="login-not-email-address"></ins>\n    </p>\n  </div>\n</div>\n\n<!--\n============================================================================\n  EMAIL VERIFICATION SCREENS:\n  The following screens are part of the email verification user workflow.\n  For a complete out-of-the-box email verification experience, these\n  screens must be included on page where you are implementing email\n  verification.\n============================================================================\n-->\n\n<!-- verifyEmail:\n  This is the landing screen after a user clicks on the link in the\n  verification email sent to the user when they\'ve registered with a\n  non-verified email address.\n\n  HOW IT WORKS: The code that is generated by Capture and included in the\n  link sent in the verification email is sent to the server and, if valid,\n  the user\'s email will be marked as valid and the verifyEmailSuccess\n  screen will be rendered. If the code is not accepted for any reason,\n  the verifyEmail screen is shown and the user has another opportunity\n  to have the verification email sent to them.\n\n  NOTE: The links generated in the emails sent to users are based on\n  Capture settings found in Janrain\'s Capture Dashboard. In addition to\n  entering the URL of your email verification page, you will need to add\n  \'screenToRender\' as a parameter in the URL with a value of \'verifyEmail\'\n  which is this screen.\n-->\n<div style="display:none;" id="verifyEmail">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      Resend Email Verification\n    </h4>\n  </div>\n  <p>Sorry we could not verify that email address. Enter your email below and we\'ll send you another email.</p>\n  {* #resendVerificationForm *}\n  {* signInEmailAddress *}\n  <div class="capture_footer">\n    <input value="Submit" type="submit" class="capture_btn capture_primary">\n  </div>\n  {* /resendVerificationForm *}\n</div>\n\n<!-- resendVerificationSuccess:\n  This screen is rendered when a user enters an email address from the\n  verifyEmail screen.\n-->\n<div style="display:none;" id="resendVerificationSuccess">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      <ins translate="thanks-for-signing"></ins>\n    </h4>\n  </div>\n  <div class="hr"></div>\n  <p>\n    <ins translate="we-have-sent-email"></ins>\n    <span id="resendVerificationEmail"></span>.\n    <ins translate="please-check-email-activate"></ins>\n  </p>\n  <div class="capture_footer">\n    <button onclick="janrain.capture.ui.modal.close()">\n      <ins translate="global.cta.close"></ins>\n    </button>\n  </div>\n</div>\n\n<!-- verifyEmailSuccess:\n  This screen is rendered if the verification code provided in the link\n  sent to the user in the verification email is accepted and the user\'s\n  email address has been verified.\n-->\n<div style="display:none;" id="verifyEmailSuccess">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      You did it!\n    </h4>\n  </div>\n  <p>Thank you for verifiying your email address.</p>\n  <div class="capture_footer">\n    <a href="../../../index.html" class="capture_btn capture_primary">Sign in</a>\n  </div>\n</div>\n\n<!--\n============================================================================\n  RESET PASSWORD SCREENS:\n  The following screens are part of the password reset user workflow.\n  For a complete out-of-the-box password reset experience, these screens\n  must be included on the page where you are implementing password reset\n  functionality.\n\n  NOTE: The order in which these screens are rendered is as follows:\n  resetPasswordRequestCode\n  resetPasswordRequestCodeSuccess\n  resetPassword\n  resetPasswordSuccess\n============================================================================\n-->\n\n<!-- resetPassword:\n  This screen is rendered when the user clicks the link in provided in the\n  password reset email and the code in the link is valid.\n-->\n<div style="display:none;" id="resetPassword">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      Change password\n    </h4>\n  </div>\n  {* #changePasswordFormNoAuth *}\n  {* newPassword *}\n  {* newPasswordConfirm *}\n  <div class="capture_footer">\n    <input value="Submit" type="submit" class="capture_btn capture_primary">\n  </div>\n  {* /changePasswordFormNoAuth *}\n</div>\n\n<!-- resetPasswordSuccess:\n  This screen is rendered when the user successfully changes their\n  password from the resetPassword screen.\n-->\n<div style="display:none;" id="resetPasswordSuccess">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      Your password has been changed\n    </h4>\n  </div>\n  <p>Password has been successfully updated.</p>\n  <div class="capture_footer">\n    <a href="../../../index.html" class="capture_btn capture_primary">Sign in</a>\n  </div>\n</div>\n\n<!-- resetPasswordRequestCode:\n  This is the landing screen for the password reset workflow. When the\n  user clicks the link provided in the reset password email, a code is\n  supplied and is passed to Capture for verification. If the code is valid\n  the resetPassword screen is rendered immediately and the content of\n  this screen is not presented. If the code is not accepted for any reason\n  this screen is then presented, allowing the user to re-enter their\n  email address.\n-->\n<div style="display:none;" id="resetPasswordRequestCode">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      <ins translate="login-forgotpswd-create-new"></ins>\n    </h4>\n  </div>\n  <p>We didn\'t recognize that password reset code. Enter your email address to get a new one.</p>\n  {* #resetPasswordForm *}\n  {* resetPasswordUserID *}\n  <div class="capture_footer">\n    <input value="Send" type="submit" class="capture_btn capture_primary">\n  </div>\n  {* /resetPasswordForm *}\n</div>\n\n<!-- resetPasswordRequestCodeSuccess:\n  This screen is rendered if the user submitted an email address on the\n  resetPasswordRequestCode screen.\n-->\n<div style="display:none;" id="resetPasswordRequestCodeSuccess">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      <ins translate="login-forgotpswd-create-new"></ins>\n    </h4>\n  </div>\n  <p>We\'ve sent an email with instructions to create a new password. Your existing password has not been changed.</p>\n  <div class="capture_footer">\n    <a onclick="janrain.capture.ui.modal.close()" class="capture_btn capture_primary">Close</a>\n  </div>\n</div>\n\n<!--\n============================================================================\n  EDIT PROFILE SCREENS:\n  The following screens are part of the profile editing user workflow.\n  For a complete out-of-the-box profile editing experience, these screens\n  must be included on the page where you are implementing profile editing\n  functionality.\n============================================================================\n-->\n\n<div style="display:none;" id="confirmAccountDeactivation">\n  <div class="capture_header">\n    <h4 class="modal-title header-3">\n      Deactivate your Account\n    </h4>\n  </div>\n  <div class="content_wrapper">\n    <p>Are you sure you want to deactivate your account? You will no longer have access to your profile.</p>\n    {* deactivateAccountForm *}\n    <div class="capture_footer">\n      <input value="Yes" type="submit" class="capture_btn capture_primary">\n      <a id="capture_confirmAccountDeactivation_noButton" onclick="janrain.capture.ui.modal.close()" class="capture_btn capture_primary">No</a>\n    </div>\n    {* /deactivateAccountForm *}\n  </div>\n</div>\n\n<!--\n============================================================================\n  MERGE ACCOUNT SCREENS:\n  The following screens are part of the account merging user workflow. For\n  a complete out-of-the-box account merging experience, these screens must\n  be included on the page where you are implementing account merging\n  functionality.\n============================================================================\n-->\n\n<!-- mergeAccounts:\n  This screen is rendered if the user created their account through\n  traditional registration and then tries to sign in with an IDP that\n  shares the same email address that exists in their user record.\n\n  NOTE! You will notice special tags you see on this screen. These tags,\n  such as \'{| current_displayName |}\' are rendered by the Janrain Capture\n  Widget in a way similar to JTL tags, but are more limited. We currently\n  only support modifying the text in this screen through the Flow. You\n  can, however, add your own markup and text throughout this screen as you\n  see fit.\n-->\n<div style="display:none;" id="mergeAccounts">\n  {* mergeAccounts {"custom": true} *}\n  <div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">\n    <div class="capture_header">\n      <div class="capture_icon_col">\n        {| rendered_current_photo |}\n      </div>\n      <div class="capture_displayName_col">\n        {| current_displayName |}<br/>\n        {| current_emailAddress |}\n      </div>\n      <span class="capture_mergeProvider janrain-provider-icon-24 janrain-provider-icon-{| current_provider_lowerCase |}"></span>\n    </div>\n    <div class="capture_dashed">\n      <div class="capture_mergeCol capture_centerText capture_left">\n        <p class="capture_bigText">{| foundExistingAccountText |} <b>{| current_emailAddress |}</b>.</p>\n        <div class="capture_hover">\n          <div class="capture_popup_container">\n            <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}<br/>\n            {| existing_displayName |} - {| existing_provider |} : {| existing_siteName |} {| existing_createdDate |}\n          </div>\n          {| moreInfoText |}\n        </div>\n      </div>\n      <div class="capture_mergeCol capture_mergeExisting_col capture_right">\n        <div class="capture_shadow capture_backgroundColor capture_border">\n          {| rendered_existing_provider_photo |}\n          <div class="capture_displayName_col">\n            {| existing_displayName |}<br/>\n            {| existing_provider_emailAddress |}\n          </div>\n          <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>\n          <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>\n        </div>\n      </div>\n    </div>\n    <div id="capture_mergeAccounts_form_collection_mergeAccounts_mergeRadio" class="capture_form_collection_merge_radioButtonCollection capture_form_collection capture_elementCollection capture_form_collection_mergeAccounts_mergeRadio" data-capturefield="undefined">\n      <div id="capture_mergeAccounts_form_item_mergeAccounts_mergeRadio_1_0" class="capture_form_item capture_form_item_mergeAccounts_mergeRadio capture_form_item_mergeAccounts_mergeRadio_1_0 capture_toggled" data-capturefield="undefined">\n        <label for="capture_mergeAccounts_mergeAccounts_mergeRadio_1_0">\n          <input id="capture_mergeAccounts_mergeAccounts_mergeRadio_1_0" data-capturefield="undefined" data-capturecollection="true" value="1" type="radio" class="capture_mergeAccounts_mergeRadio_1_0 capture_input_radio" checked="checked" name="mergeAccounts_mergeRadio">\n          {| connectLegacyRadioText |}\n        </label>\n      </div>\n      <div id="capture_mergeAccounts_form_item_mergeAccounts_mergeRadio_2_1" class="capture_form_item capture_form_item_mergeAccounts_mergeRadio capture_form_item_mergeAccounts_mergeRadio_2_1" data-capturefield="undefined">\n        <label for="capture_mergeAccounts_mergeAccounts_mergeRadio_2_1">\n          <input id="capture_mergeAccounts_mergeAccounts_mergeRadio_2_1" data-capturefield="undefined" data-capturecollection="true" value="2" type="radio" class="capture_mergeAccounts_mergeRadio_2_1 capture_input_radio" name="mergeAccounts_mergeRadio">\n          {| createRadioText |} {| current_provider |}\n        </label>\n      </div>\n      <div class="capture_tip" style="display:none;">\n      </div>\n      <div class="capture_tip_validating" data-elementname="mergeAccounts_mergeRadio">Validating</div>\n      <div class="capture_tip_error" data-elementname="mergeAccounts_mergeRadio"></div>\n    </div>\n    <div class="capture_footer">\n      {| connect_button |}\n      {| create_button |}\n    </div>\n  </div>\n</div>\n'),e.put("mini-cart.html",'<div class=\'container-fluid mini-cart\'>\n  <div class="row cart-summary">\n    <div class="pull-left">\n      <span class="pull-left mini-cart-total-icon">{{cartItems[lang].services.internet.quantity || "0"}}</span>\n      <h3 class="margin-0 pull-left">\n        <ins translate="your-cart"></ins>\n        <small>(\n          <ins translate="subtotal:"></ins>\n          )\n        </small>\n      </h3>\n    </div>\n    <div class="pull-right">\n      <ute-currency class="ute-price ute-price-secondary" font-size="3rem" frequency="global.label.priceFrequency.{{totalPriceFrequency}}" price="{{cartItems.total.sub}}"></ute-currency>\n    </div>\n  </div>\n\n  <!-- if cart\'s empty -->\n  <div class="row" ng-show="!cartItems || cartItems.quantity === 0">\n    <div class="col-xs-12">\n      <p class="empty-cart text-center">\n        <ins translate="global.message.emptyCart"></ins>\n      </p>\n    </div>\n  </div>\n\n  <!-- if there\'s anything in the cart -->\n  <div class="row" ng-show="cartItems.quantity > 0">\n    <!-- <div class="row">\n       <div class="cart-product-heading">\n         <div class="title"><h5>Internet{{cartItems[lang].services.internet.tier.name}}</h5></div>\n       </div>\n     </div>-->\n    <div class="mini-cart-items">\n      <div class="row cart-line-item-product" ng-repeat="item in cartItems[lang].services.internet.tier">\n        <div ng-repeat="product in item.products">\n          <div class="" ng-repeat="offer in product.offers">\n            <!-- <p class="pull-left copy-1">{{item.name}}</p>-->\n            <h5 class="pull-left">Internet{{cartItems[lang].services.internet.tier.name}}</h5>\n            <button type="button" class="minus pull-right" ng-click="removeOfferFromCart(tier.tierId, product.id, offer.offerId)"><span class="ute-icon-circle-solid-minus"></span>remove!!!</button>\n            <ute-currency class="ute-price ute-price-tertiary pull-right" font-size="2.4rem" frequency="global.label.priceFrequency.{{offer.offerPrice.priceFrequency}}" price="{{offer.offerPrice.price}}"></ute-currency>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="row cart-actions">\n      <div class="col-xs-12 text-center">\n        <a ng-if="isCartSummary()" class="ute-btn-primary ute-xs" ng-click="checkout()">\n          <ins translate="checkout"></ins>\n        </a>\n        <a ui-sref="cartSummary" ng-if="!isCartSummary()" class="ute-btn-primary ute-xs" ng-click="hide()">\n          <ins translate="view-cart"></ins>\n        </a>\n      </div>\n    </div>\n  </div>\n  <button ng-click="hide()" type="button" class="close pull-right"><span class="ute-icon-details-indicator  ute-icon-bg-light"></span></button>\n</div>'),e.put("language-selector.html","\\<div class='language-selector' ng-click=\"changeLanguage()\">\n  <span class=\"lang-{{acr | lowercase}} text-uppercase\" ng-repeat=\"(acr,name) in languages\">{{ acr | uppercase }}</span>\n  <button class='btn btn-default active' type='button' ute-language-selector='{{rui.language | lowercase}}'>\n    <span class='language-abbrv'></span>\n  </button>\n</div>\n"),e.put("province-selector.html",'<div>\n  <a aria-expanded="false" role="button" data-toggle="dropdown" class="dropdown-toggle" href="#">{{ selectedProvince | uppercase }} <i class="ute-icon-circle-down"></i></a>\n  <ul role="menu" class="dropdown-menu">\n    <li class="region-header">Select A Province</li>\n    <li ng-repeat="(index, province) in provinces" ng-class="{ active: province === selectedProvince }">\n      <a id="{{province | uppercase}}" name="{{province | uppercase}}" href="#" ng-click="saveProvince(province)">\n        <ins translate="global.province.{{province}}.name"></ins>\n      </a>\n    </li>\n  </ul>\n  <select ng-change="saveProvince(selectedProvince)" ng-model="selectedProvince" ng-selected="province==selectedProvince" ng-options="province for province in provinces">\n    <!-- <option  value="{{province}}" ng-repeat="(index, province) in provinces" >{{province}}</option>-->\n  </select>\n</div>\n')
}]),function(){"use strict";angular.module("ute.ui",["pascalprecht.translate","angularMoment","ngCookies","oc.lazyLoad","ui.bootstrap","ngTable"])}(),function(){"use strict";"undefined"==typeof $.prototype.hasAttr&&($.prototype.hasAttr=function(e){return null!==this.attr(e)&&void 0!==this.attr(e)})}(),function(){"use strict";String.prototype.toCamelCase=function(){return this.replace(/^([A-Z])|\s(\w)/g,function(e,t,n){return n?n.toUpperCase():t.toLowerCase()}).replace(/(’|'|"|!|$|%|^|&)/g,"")}}(),function(){function e(e,t,n){return e&t|~e&n}function t(e,t,n){return e&n|t&~n}function n(e,t,n){return e^t^n}function r(e,t,n){return t^(e|~n)}function i(e){return String.fromCharCode(255&e)+String.fromCharCode(e>>>8&255)+String.fromCharCode(e>>>16&255)+String.fromCharCode(e>>>24&255)}function o(e){for(;0>e;)e+=4294967296;for(;e>4294967295;)e-=4294967296;return e}function a(e,t,n,r,i){var a,s,c,u,d,p,f,m,h;a=r[0],s=r[1],c=r[2],u=r[3],d=i[0],p=i[1],f=i[2],h=n(t[s],t[c],t[u]),m=t[a]+h+e[d]+l[f],m=o(m),m=m<<p|m>>>32-p,m+=t[s],t[a]=o(m)}function s(e){for(var t,n=-1,r=(e=e.split("")).length,i=String.fromCharCode;++n<r;e[n]=(t=e[n].charCodeAt(0))>=127?i(192|t>>>6)+i(128|63&t):e[n]);return e.join("")}function c(e){var t,n,r,c,u,l,d,p,f,m,g,v,y;if(/[\x80-\xFF]/.test(e)&&(e=s(e)),r=new Array(1732584193,4023233417,2562383102,271733878),u=e.length,l=63&u,d=56>l?56-l:120-l,d>0)for(e+="",m=0;d-1>m;m++)e+="\x00";for(e+=i(8*u),e+=i(0),u+=d+8,t=new Array(0,1,2,3),n=new Array(16),c=new Array(4),v=0;u>v;v+=64){for(m=0,g=v;16>m;m++,g+=4)n[m]=e.charCodeAt(g)|e.charCodeAt(g+1)<<8|e.charCodeAt(g+2)<<16|e.charCodeAt(g+3)<<24;for(m=0;4>m;m++)c[m]=r[m];for(m=0;4>m;m++)for(p=h[m][0],f=h[m][1],g=0;16>g;g++)a(n,c,p,t,f[g]),y=t[0],t[0]=t[3],t[3]=t[2],t[2]=t[1],t[1]=y;for(m=0;4>m;m++)r[m]+=c[m],r[m]=o(r[m])}return i(r[0])+i(r[1])+i(r[2])+i(r[3])}function u(e){var t,n,r,i;for(i=c(e),n="",t=0;16>t;t++)r=i.charCodeAt(t),n+="0123456789abcdef".charAt(r>>4&15),n+="0123456789abcdef".charAt(15&r);return n}var l=new Array(0,3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329,4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562,4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645,4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745),d=new Array(new Array(0,7,1),new Array(1,12,2),new Array(2,17,3),new Array(3,22,4),new Array(4,7,5),new Array(5,12,6),new Array(6,17,7),new Array(7,22,8),new Array(8,7,9),new Array(9,12,10),new Array(10,17,11),new Array(11,22,12),new Array(12,7,13),new Array(13,12,14),new Array(14,17,15),new Array(15,22,16)),p=new Array(new Array(1,5,17),new Array(6,9,18),new Array(11,14,19),new Array(0,20,20),new Array(5,5,21),new Array(10,9,22),new Array(15,14,23),new Array(4,20,24),new Array(9,5,25),new Array(14,9,26),new Array(3,14,27),new Array(8,20,28),new Array(13,5,29),new Array(2,9,30),new Array(7,14,31),new Array(12,20,32)),f=new Array(new Array(5,4,33),new Array(8,11,34),new Array(11,16,35),new Array(14,23,36),new Array(1,4,37),new Array(4,11,38),new Array(7,16,39),new Array(10,23,40),new Array(13,4,41),new Array(0,11,42),new Array(3,16,43),new Array(6,23,44),new Array(9,4,45),new Array(12,11,46),new Array(15,16,47),new Array(2,23,48)),m=new Array(new Array(0,6,49),new Array(7,10,50),new Array(14,15,51),new Array(5,21,52),new Array(12,6,53),new Array(3,10,54),new Array(10,15,55),new Array(1,21,56),new Array(8,6,57),new Array(15,10,58),new Array(6,15,59),new Array(13,21,60),new Array(4,6,61),new Array(11,10,62),new Array(2,15,63),new Array(9,21,64)),h=new Array(new Array(e,d),new Array(t,p),new Array(n,f),new Array(r,m));md5=function(e){return u(e)}}(),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,s=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;o>n;n+=1)a[n]=str(n,c)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,c),i&&a.push(quote(r)+(gap?": ":":")+i));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(i=str(r,c),i&&a.push(quote(r)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){function n(e,n){r.addType(e,function(o,a,s){var c,u,l,d,p=a,f=(new Date).getTime();if(!o){p={},d=[],l=0;try{for(o=n.length;o=n.key(l++);)i.test(o)&&(u=JSON.parse(n.getItem(o)),u.expires&&u.expires<=f?d.push(o):p[o.replace(i,"")]=u.data);for(;o=d.pop();)n.removeItem(o)}catch(m){}return p}if(o="__amplify__"+o,a===t){if(c=n.getItem(o),u=c?JSON.parse(c):{expires:-1},!(u.expires&&u.expires<=f))return u.data;n.removeItem(o)}else if(null===a)n.removeItem(o);else{u=JSON.stringify({data:a,expires:s.expires?f+s.expires:null});try{n.setItem(o,u)}catch(m){r[e]();try{n.setItem(o,u)}catch(m){throw r.error()}}}return p})}var r=e.store=function(e,t,n){var i=r.type;return n&&n.type&&n.type in r.types&&(i=n.type),r.types[i](e,t,n||{})};r.types={},r.type=null,r.addType=function(e,t){r.type||(r.type=e),r.types[e]=t,r[e]=function(t,n,i){return i=i||{},i.type=e,r(t,n,i)}},r.error=function(){return"amplify.store quota exceeded"};var i=/^__amplify__/;for(var o in{localStorage:1,sessionStorage:1})try{window[o].setItem("__amplify__","x"),window[o].removeItem("__amplify__"),n(o,window[o])}catch(a){}if(!r.types.localStorage&&window.globalStorage)try{n("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===r.type&&(r.type="globalStorage")}catch(a){}!function(){if(!r.types.localStorage){var e=document.createElement("div"),n="amplify";e.style.display="none",document.getElementsByTagName("head")[0].appendChild(e);try{e.addBehavior("#default#userdata"),e.load(n)}catch(i){return e.parentNode.removeChild(e),void 0}r.addType("userData",function(i,o,a){e.load(n);var s,c,u,l,d,p=o,f=(new Date).getTime();if(!i){for(p={},d=[],l=0;s=e.XMLDocument.documentElement.attributes[l++];)c=JSON.parse(s.value),c.expires&&c.expires<=f?d.push(s.name):p[s.name]=c.data;for(;i=d.pop();)e.removeAttribute(i);return e.save(n),p}if(i=i.replace(/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-"),i=i.replace(/^-/,"_-"),o===t){if(s=e.getAttribute(i),c=s?JSON.parse(s):{expires:-1},!(c.expires&&c.expires<=f))return c.data;e.removeAttribute(i)}else null===o?e.removeAttribute(i):(u=e.getAttribute(i),c=JSON.stringify({data:o,expires:a.expires?f+a.expires:null}),e.setAttribute(i,c));try{e.save(n)}catch(m){null===u?e.removeAttribute(i):e.setAttribute(i,u),r.userData();try{e.setAttribute(i,c),e.save(n)}catch(m){throw null===u?e.removeAttribute(i):e.setAttribute(i,u),r.error()}}return p})}}(),function(){function e(e){return e===t?t:JSON.parse(JSON.stringify(e))}var n={},i={};r.addType("memory",function(r,o,a){return r?o===t?e(n[r]):(i[r]&&(clearTimeout(i[r]),delete i[r]),null===o?(delete n[r],null):(n[r]=o,a.expires&&(i[r]=setTimeout(function(){delete n[r],delete i[r]},a.expires)),o)):e(n)})}()}(this.amplify=this.amplify||{}),function(e){function t(){a.setAttribute("content",p),f=!0}function n(){a.setAttribute("content",d),f=!1}function r(r){e.orientation;return 90==Math.abs(e.orientation)?(f&&t(),void 0):(u=r.accelerationIncludingGravity,s=Math.abs(u.x),c=Math.abs(u.y),0==c||s/c>1.2?f&&n():f||t(),void 0)}var i=navigator.userAgent.toLowerCase();if(/iphone|ipad|ipod/.test(navigator.platform.toLowerCase())&&/os [1-5]_[0-9_]* like mac os x/i.test(i)&&i.indexOf("applewebkit")>-1&&-1==i.indexOf("crios")){var o=e.document;if(o.querySelector){var a=o.querySelector("meta[name=viewport]");if(a){var s,c,u,l=a&&a.getAttribute("content"),d=l+",maximum-scale=1",p=l+",maximum-scale=10",f=!0;e.addEventListener("orientationchange",t,!1),e.addEventListener("devicemotion",r,!1)}}}}(this),function(e,t,n){"$:nomunge";function r(){i=t[s](function(){o.each(function(){var t=e(this),n=t.width(),r=t.height(),i=e.data(this,u);(n!==i.w||r!==i.h)&&t.trigger(c,[i.w=n,i.h=r])}),r()},a[l])}var i,o=e([]),a=e.resizecontainer=e.extend(e.resize,{}),s="setTimeout",c="resizecontainer",u=c+"-special-event",l="delay",d="throttleWindow";a[l]=250,a[d]=!0,e.event.special[c]={setup:function(){if(!a[d]&&this[s])return!1;var t=e(this);o=o.add(t),e.data(this,u,{w:t.width(),h:t.height()}),1===o.length&&r()},teardown:function(){if(!a[d]&&this[s])return!1;var t=e(this);o=o.not(t),t.removeData(u),o.length||clearTimeout(i)},add:function(t){function r(t,r,o){var a=e(this),s=e.data(this,u);s.w=r!==n?r:a.width(),s.h=o!==n?o:a.height(),i.apply(this,arguments)}if(!a[d]&&this[s])return!1;var i;return e.isFunction(t)?(i=t,r):(i=t.handler,t.handler=r,void 0)}}}(jQuery,window),function(e){window.elementIsChildOf=function(t,n){var r=!1,i=e(""+t),o=e(""+n);switch(!0){case-1!=e(o).parents().index(i):r=!0}return r},window.getSelector=function(t){var n=e(t),r=n.attr("id");if(r)return"#"+r;var i=n[0].nodeName.toLowerCase();if("html"==i||"body"==i)return i;var o=n.parents().map(function(){return this.tagName}).get().reverse().join(" ");o&&(o+=" "+n[0].nodeName);var a=n.attr("class");a&&(o+="."+e.trim(a).replace(/\s/gi,"."));var s=n.attr("name");if(s&&(o+="[name='"+s+"']"),!s){var c=n.index();c&&(c+=1,o+=":nth-child("+c+")")}return o}}(jQuery);var Restive=function(e,t,n){function r(){c("rstv_timestamp_curr",microtime(!0)),c("rstv_timestamp_init",c("rstv_timestamp_curr")),i(),A(),c("rstv_ort_init",Y()),c("rstv_ort_curr",Y())}function i(){c("rstv_var_doc_client_w",gt.clientWidth),c("rstv_var_doc_client_h",gt.clientHeight),c("rstv_var_win_outer_w",e.outerWidth),c("rstv_var_win_outer_h",e.outerHeight),c("rstv_var_win_screen_w",yt.width),c("rstv_var_win_screen_h",yt.height)}function o(){var e=parseInt(c("rstv_loaded_count"));switch(!0){case!isNumber(e):e=0}e++,c("rstv_loaded_count",e,"",{expires:1500})}function a(){var e=parseInt(c("rstv_loaded_count")),t=c("rstv_ffld_is_init");switch(!0){case e>1:switch(c("rstv_viewportW rstv_viewportW_dip rstv_viewportH rstv_viewportH_dip rstv_screenW rstv_screenH",null),c("rstv_is_ios rstv_is_android rstv_is_blackberry rstv_is_symbian rstv_is_windows rstv_is_windows_phone",null),c("rstv_is_android_1_ rstv_is_android_2_ rstv_is_android_3_",null),c("rstv_is_phone rstv_is_tablet rstv_is_tv rstv_is_pc",null),c("rstv_ort_curr rstv_timestamp_curr rstv_is_portrait rstv_is_landscape",null),c("rstv_multi_count rstv_multi_bpm_idx rstv_cache_bpm rstv_cache_bpm_lock rstv_cache_req rstv_cache_bpm_viewport_diff",null),c("rstv_user_agent",null),c("rstv_timestamp_curr",microtime(!0)),c("rstv_ort_curr",Y()),!0){case!t:c("rstv_timestamp_init",c("rstv_timestamp_curr")),c("rstv_ort_init",Y()),c("rstv_ffld_is_init",!0)}}}function s(){try{localStorage.setItem("__test","data")}catch(e){if(/QUOTA_?EXCEEDED/i.test(e.name))return!0}return!1}function c(){var t,n,r=Array.prototype.slice.call(arguments),i=e.rstv_store.main.rstv_is_priv_browsing,o=r[0],a=r[1],s="undefined"!=typeof r[2]&&null!==r[2]&&isString(r[2])&&""!=r[2]?r[2]:"ss",c=r[3],u=[],l=isString(o)&&""!=o?!1:!0,d=!("undefined"==typeof a||null===a||!(isString(a)&&""!=a||isNumber(a)||isArray(a)&&count(a)>0||isBool(a)||isObject(a))),p=!(null!==a);try{switch(!0){case i:t="storage",n=e.rstv_store[t];break;default:switch(!0){case"ls"==s:t="localStorage";break;default:t="sessionStorage"}switch(n=amplify.store[t],!0){case!e.sessionStorage||!e.localStorage:n=amplify.store}switch(!0){case l:return n()}}switch(!0){case!d&&!p:return n(o)}switch(!0){case p:u=explode(" ",o);for(var f=0;f<count(u);f++)n(u[f],null);return null}n(o,null),n(o,a,c)}catch(m){}}function u(e,t){var r,i,o=Array.prototype.slice.call(arguments),a=isString(o[2])&&""!=o[2]?o[2]:"ck",s=isBool(o[3])?o[3]:!1,u=isNumber(o[4])||isString(o[4])?parseInt(o[4]):"",l=isNumber(o[4])||isString(o[4])?parseInt(o[4]):30,d=isBool(o[5])?o[5]:!0,p=isString(o[6])&&""!=o[6]?o[6]:"-!",f=isNumber(o[7])||isString(o[7])?parseInt(o[7]):60,m=[],h=[];switch(r="ls"==a?c(e):n.cookie(e),!0){case null===r||"undefined"==typeof r:return"ls"==a?c(e,t,"",{expires:u}):n.cookie(e,t,{expires:l,path:"/"}),!0;case"undefined"!=typeof r&&null!==r&&""!=r:switch(m=explode(p,r),!0){case in_array(t,m)&&s:return!1;default:switch(!0){case d:m.unshift(t),h=m.slice(0,f),i=implode(p,h);break;default:m.push(t),i=implode(p,m)}return"ls"==a?c(e,i,"",{expires:u}):n.cookie(e,i,{expires:l,path:"/"}),!0}}}function l(e,t){var r=Array.prototype.slice.call(arguments),i=isString(r[2])&&""!=r[2]?r[2]:"ck",o=isString(r[3])&&""!=r[3]?r[3]:"-!",a="ls"==i?c(t):n.cookie(t);switch(!0){case"undefined"!=typeof a&&null!==a&&""!=a:var s=[];switch(s=explode(o,a),!0){case in_array(e,s):return!0;default:return!1}break;default:return!1}}function d(e){var t=Array.prototype.slice.call(arguments),n=t[1],r=c(""+e),i=!("undefined"==typeof n||null===n),o=!1;switch(!0){case isBool(r)||null!==r&&"undefined"!=typeof r&&""!=r:o=!0}switch(!0){case!i:return o}switch(!0){case!o:c(e,n)}}function p(e){var t,n=Array.prototype.slice.call(arguments),r=isNumber(n[1])?n[1]:1,i=isBool(n[2])?n[2]:!1;switch(t=parseInt(c(e)),!0){case!isNumber(t):return!1}return t=i?t-r:t+r,c(e,t),t}function f(e){var t=[120,128,160,200,240,272,300,320,352,360,480,540,576,600,640,720,768,800,864,900,1024,1050,1080,1152,1200,1440,1536,1600,1800,2048,2160,2400,3072,3200,4096,4320,4800],n=[160,240,260,320,400,432,480,640,720,800,854,960,1024,1136,1152,1280,1360,1366,1400,1440,1600,1680,1920,2048,2560,2880,3200,3840,4096,5120,6400,7680];switch(!0){case"w"==e:return t;case"h"==e:return n}}function m(e){var t,n,r,i=Array.prototype.slice.call(arguments),o=isBool(i[1])?i[1]:!0,a=!1,s=!(!V()&&!q()),u=I(),l=c("rstv_var_win_outer_w"),d=c("rstv_var_win_outer_h"),p=c("rstv_var_doc_client_w"),m=c("rstv_var_doc_client_h"),h=c("rstv_var_win_screen_w"),g=c("rstv_var_win_screen_h");switch(!0){case s:switch(!0){case"vW"==e:t=p;break;case"vH"==e:t=m;break;case"sW"==e:t=h;break;case"sH"==e:t=g}switch(!0){case"vW"==e||"vH"==e:t=u>=1.5?t*u:t}return t=Math.floor(t)}var v,y,b,w,_,S,C,k,A,x,E=R(),T=/opera.+(mini|mobi)/i.test(E),P=!!D(),M=!!O(),N=!!j(),$=!!L(),z=!!L("1."),F=!!L("2."),U=!!(z||F||M||N),B=h,W=g,H=B,Y=f("w"),J=f("h"),Q=Y,G=J;switch(!0){case U:v=0>=l?p:l,y=0>=d?m:d,b=v,w=y;break;default:v=p,y=m,b=p,w=m}switch(!0){case(F||M)&&!T:B=0>=l?B:l,W=0>=d?W:d}switch(S=B/W,_=B-v,_=Math.abs(_),x=T&&260>v?4>=_&&S>=1?!0:!1:!0,k=!!(b>=w&&x),A=!!(B>=W),!0){case P:Q=Q.slice(7),G=G.slice(6);break;case $:Q=Q.slice(4),G=G.slice(3);break;case M:Q=Q.slice(4)}switch(!0){case k:Y=G,J=Q;break;default:Y=Q,J=G}switch(!0){case"vW"==e:t=v;break;case"vH"==e:t=y;break;case"sW"==e:C=!!(k===!0&&A===!1||k===!1&&A===!0),t=C?W:B,H=C?W:B,n=t*u,a=o?in_array(t,Y)||in_array(n,Y)?!1:!0:!1;break;case"sH"==e:C=!!(k===!0&&A===!1||k===!1&&A===!0),t=C?B:W,H=C?W:B,n=t*u,a=o?in_array(t,J)||in_array(n,J)?!1:!0:!1}switch(r=H/v,!0){case 1>=u&&1.1>=r:switch(!0){case"sW"==e&&a:t=getClosestNumberMatchArray(Y,t,"","",8);break;case"sH"==e&&a:t=getClosestNumberMatchArray(J,t,"","",8)}return t}switch(!0){case P:t*=u;break;default:switch(!0){case!F:switch(!0){case 1>=u&&r>1.1:t=in_array(e,["vW","vH"])?t*r:t;break;case u>1&&1.1>=r:switch(!0){case 1.1>=u:switch(!0){case in_array(e,["vW","vH"]):t*=u,t=isEvenDecimal(t)?Math.floor(t):t}break;default:t*=u}break;case u>1&&r>1.1:switch(!0){case in_array(e,["vW","vH"]):t*=u,t=isEvenDecimal(t)?Math.floor(t):Math.ceil(t)}}}switch(!0){case"sW"==e&&a:t=getClosestNumberMatchArray(Y,t,"","",8);break;case"sH"==e&&a:t=getClosestNumberMatchArray(J,t,"","",8)}}return t=Math.floor(t)}function h(e){var t,n=!("w"!=e),r=!(!V()&&!q()),i=I();switch(!0){case r:i=1.5>=i?1:i}return t=n?b()/i:w()/i,Math.round(t)}function g(e,t){var n,r=Array.prototype.slice.call(arguments),i=isString(r[2])&&""!=r[2]?r[2]:"d",o=isBool(r[3])?r[3]:!1;switch(t=t.toLowerCase(),!0){case"w"==t:switch(!0){case"i"==i:n=e.innerWidth();break;case"o"==i:n=e.outerWidth();break;default:n=e.width()}break;case"h"==t:switch(!0){case"i"==i:n=e.innerHeight();break;case"o"==i:n=e.outerHeight();break;default:n=e.height()}break;default:n=!1}switch(!0){case o===!1:n*=I()}return n}function v(e){var t=Array.prototype.slice.call(arguments),n=t[1],r=t[2];return g(e,"w",n,r)}function y(e){var t=Array.prototype.slice.call(arguments),n=t[1],r=t[2];return g(e,"h",n,r)}function b(){return d("rstv_viewportW")?c("rstv_viewportW"):m("vW",c("rstv_is_getdim_screen_adj"))}function w(){return d("rstv_viewportH")?c("rstv_viewportH"):m("vH",c("rstv_is_getdim_screen_adj"))}function _(){return d("rstv_screenW")?c("rstv_screenW"):m("sW",c("rstv_is_getdim_screen_adj"))}function S(){return d("rstv_screenH")?c("rstv_screenH"):m("sH",c("rstv_is_getdim_screen_adj"))}function C(){return d("rstv_viewportW_dip")?c("rstv_viewportW_dip"):h("w")}function k(){return d("rstv_viewportH_dip")?c("rstv_viewportH_dip"):h("h")}function A(){c("rstv_viewportW rstv_viewportW_dip rstv_viewportH rstv_viewportH_dip rstv_screenW rstv_screenH",null),c("rstv_viewportW",b()),c("rstv_viewportH",w()),c("rstv_screenW",_()),c("rstv_screenH",S()),c("rstv_viewportW_dip",C()),c("rstv_viewportH_dip",k())}function I(e){switch(!0){case d("rstv_pixel_ratio"):return c("rstv_pixel_ratio")}var t,n,r,i,o=R(),a=/opera.+(mini|mobi)/i.test(o),s=c("rstv_var_doc_client_w"),u=c("rstv_var_win_outer_w"),l=c("rstv_var_win_screen_w"),p=!!O(),f=!!j(),m=!!L("1."),h=!!L("2."),g=!!(m||h||p||f),v=!(!f&&!p),y=g?0>=u?s:u:s,b=!h&&!p||a?l:0>=u?l:u;switch(n=ht.devicePixelRatio,!0){case 0>=n||"undefined"==typeof n||null===n:switch(r=b/y,t=r,!0){case v:switch(!0){case t>.5&&1.2>t:t=1;break;case t>=1.2&&2>t:t=1.5;break;case t>=2&&3>t:t=2;break;case t>=3:t=3;break;default:t=1}}c("rstv_pixel_ratio_virtual",r);break;default:t=n}switch(!0){case!isNumber(e):return i=t||(I(3)?3:I(2)?2:I(1.5)?1.5:I(1)?1:0),c("rstv_pixel_ratio",i),i}switch(!0){case!isFinite(e):return!1}switch(!0){case t&&t>0:return t>=e}switch(e="only all and (min--moz-device-pixel-ratio:"+e+")",!0){case bt(e).matches:return!0}return!!bt(e.replace("-moz-","")).matches}function x(){var e=I();switch(!0){case e>=2:return!0}return!1}function E(e){return function(t,n){var r,i=Array.prototype.slice.call(arguments),o=i[2],a=!(!isObject(o)||"undefined"==typeof o||null===o),s=i[3],c=i[4],u=a?e(o,s,c):e();return r=u>=(t||0),n?r&&n>=u:r}}function R(){switch(!0){case d("rstv_user_agent"):return c("rstv_user_agent")}var e,t=navigator.userAgent.toLowerCase();switch(e=/mozilla.+x11/i.test(t),!0){case e:n.ajax({type:"GET",async:!1,crossDomain:!0,url:"http://www.restive.io/ping/ua.php",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},success:function(e){t=e},error:function(){}})}return c("rstv_user_agent",t),t}function T(){switch(!0){case P("ios"):return"ios";case P("android"):return"android";case P("symbian"):return"symbian";case P("blackberry"):return"blackberry";case P("windows"):return"windows";default:return"other"}}function P(e){var t=Array.prototype.slice.call(arguments),n=!(!isString(t[1])||""==t[1]),r="",i="",o="";switch(!0){case n:r=t[1],r=r.replace(/^\s+|\s+$/g,""),i=" "+r,o="_"+r.replace(".","_")}switch(!0){case d("rstv_is_"+e+o):return c("rstv_is_"+e+o)}var a=R(),s=!1;switch(!0){case"ios"==e:s=/\bipad|\biphone|\bipod/i.test(a);break;case"android"==e:var u=new RegExp("\\bandroid"+i,"i");s=u.test(a);break;case"symbian"==e:s=/series(4|6)0|symbian|symbos|syb-[0-9]+|\bs60\b/i.test(a);break;case"blackberry"==e:s=/bb[0-9]+|blackberry|playbook|rim +tablet/i.test(a);break;case"windows"==e:s=/window mobile|windows +(ce|phone)|windows +nt.+arm|windows +nt.+touch|xblwp7|zunewp7/i.test(a);break;case"windows_phone"==e:s=/windows +phone|xblwp7|zunewp7/i.test(a);break;default:return!1}return c("rstv_is_"+e+o,s),!!s}function D(){return P("ios")}function M(){return P("ios")}function L(){var e=Array.prototype.slice.call(arguments),t=e[0];return P("android",t)}function O(){return P("symbian")}function N(){return P("blackberry")}function j(){return P("windows")}function $(){return P("windows_phone")}function z(e){return/android|android.+mobile|avantgo|bada\/|\bbb[0-9]+|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|\bip(hone|od|ad)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|motorola|mobile.+firefox|netfront|nokia|nintendo +3ds|opera m(ob|in)i|palm|palm( os)?|phone|p(ixi|re)\/|playbook|rim +tablet|playstation.+vita|plucker|pocket|psp|samsung|(gt\-|bgt\-|sgh\-|sph\-|sch\-)[a-z][0-9]+|series(4|6)0|symbian|symbos|\bs60\b|treo|up\.(browser|link)|vertu|vodafone|wap|windows (ce|phone)|windows +nt.+arm|windows +nt.+touch|xda|xiino|xblwp7|zunewp7/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb|b\-[0-9]+)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}function F(){var e="";switch(!0){case B():e="tablet";break;case q():e="tv";break;default:switch(!0){case U():e="phone";break;default:e="pc"}}return e}function U(){switch(!0){case d("rstv_is_phone"):return c("rstv_is_phone")}switch(!0){case B(!0)||q():return c("rstv_is_phone",!1),!1}switch(!0){case z(R()||navigator.vendor.toLowerCase()||e.opera):return c("rstv_is_phone",!0),!0}return c("rstv_is_phone",!1),!1}function B(){var e=Array.prototype.slice.call(arguments),t=isBool(e[0])?e[0]:!1;switch(!0){case d("rstv_is_tablet"):return c("rstv_is_tablet")}var n,r,i,o=R(),a=parseInt(c("rstv_viewportW_dip")),s=parseInt(c("rstv_viewportH_dip")),u=c("rstv_is_portrait")?a:s;switch(r=new RegExp("ipad|playbook|rim +tablet","i"),i=r.test(o),!0){case i:return t||c("rstv_is_tablet",!0),!0}switch(r=new RegExp("windows +nt.+arm|windows +nt.+touch","i"),i=r.test(o),!0){case i:switch(!0){case isNumber(u)&&520>=u:return t||(c("rstv_is_tablet",!1),c("rstv_is_phone")===!1&&c("rstv_is_phone",!0)),!1;default:return t||c("rstv_is_tablet",!0),!0}}switch(n="android.+kindle|kindle +fire|android.+silk|silk.*accelerated|android.+nexus +(7|10)|samsung.*tablet|galaxy.*tab|sc-01c|gt-p1000|gt-p1003|gt-p1010|gt-p3105|gt-p6210|gt-p6800|gt-p6810|gt-p7100|gt-p7300|gt-p7310|gt-p7500|gt-p7510|sch-i800|sch-i815|sch-i905|sgh-i957|sgh-i987|sgh-t849|sgh-t859|sgh-t869|sph-p100|gt-p3100|gt-p3108|gt-p3110|gt-p5100|gt-p5110|gt-p6200|gt-p7320|gt-p7511|gt-n8000|gt-p8510|sgh-i497|sph-p500|sgh-t779|sch-i705|sch-i915|gt-n8013|gt-p3113|gt-p5113|gt-p8110|gt-n8010|gt-n8005|gt-n8020|gt-p1013|gt-p6201|gt-p7501|gt-n5100|gt-n5110|shv-e140k|shv-e140l|shv-e140s|shv-e150s|shv-e230k|shv-e230l|shv-e230s|shw-m180k|shw-m180l|shw-m180s|shw-m180w|shw-m300w|shw-m305w|shw-m380k|shw-m380s|shw-m380w|shw-m430w|shw-m480k|shw-m480s|shw-m480w|shw-m485w|shw-m486w|shw-m500w|gt-i9228|sch-p739|sch-i925|gt-i9200|gt-i9205|gt-p5200|gt-p5210|sm-t311|sm-t310|sm-t210|sm-t210r|sm-t211|sm-p600|sm-p601|sm-p605|sm-p900|sm-t217|sm-t217a|sm-t217s|sm-p6000|sm-t3100|sgh-i467|xe500|htc flyer|htc jetstream|htc-p715a|htc evo view 4g|pg41200|xoom|sholest|mz615|mz605|mz505|mz601|mz602|mz603|mz604|mz606|mz607|mz608|mz609|mz615|mz616|mz617|transformer|^.*padfone((?!mobile).)*$|tf101|tf201|tf300|tf700|tf701|tf810|me171|me301t|me302c|me371mg|me370t|me372mg|me172v|me173x|me400c|slider *sl101|android.+nook|nookcolor|nook browser|bnrv200|bnrv200a|bntv250|bntv250a|bntv400|bntv600|logicpd zoom2|android.*\\b(a100|a101|a110|a200|a210|a211|a500|a501|a510|a511|a700|a701|w500|w500p|w501|w501p|w510|w511|w700|g100|g100w|b1-a71|b1-710|b1-711|a1-810)\\b|w3-810|android.*(at100|at105|at200|at205|at270|at275|at300|at305|at1s5|at500|at570|at700|at830)|toshiba.*folio|\\bl-06c|lg-v900|lg-v905|lg-v909|android.+(xenta.+tab|tab210|tab211|tab224|tab250|tab260|tab264|tab310|tab360|tab364|tab410|tab411|tab420|tab424|tab450|tab460|tab461|tab464|tab465|tab467|tab468|tab469)|android.+\\boyo\\b|life.*(p9212|p9514|p9516|s9512)|lifetab|an10g2|an7bg3|an7fg3|an8g3|an8cg3|an7g3|an9g3|an7dg3|an7dg3st|an7dg3childpad|an10bg3|an10bg3dt|android.+archos|\\b(101g9|80g9|a101it)\\b|qilive 97r|novo7|novo7aurora|novo7basic|novo7paladin|novo8|novo9|novo10|sony tablet|sony tablet s|sgpt12|sgpt121|sgpt122|sgpt123|sgpt111|sgpt112|sgpt113|sgpt211|sgpt213|ebrd1101|ebrd1102|ebrd1201|sgpt311|sgpt312|sonyso-03e|android.*(k8gt|u9gt|u10gt|u16gt|u17gt|u18gt|u19gt|u20gt|u23gt|u30gt)|cube u8gt|mid1042|mid1045|mid1125|mid1126|mid7012|mid7014|mid7034|mid7035|mid7036|mid7042|mid7048|mid7127|mid8042|mid8048|mid8127|mid9042|mid9740|mid9742|mid7022|mid7010|android.*(\\bmid\\b|mid-560|mtv-t1200|mtv-pnd531|mtv-p1101|mtv-pnd530)|android.*(rk2818|rk2808a|rk2918|rk3066)|rk2738|rk2808a|t-hub2|iq310|fly vision|bq.*(elcano|curie|edison|maxwell|kepler|pascal|tesla|hypatia|platon|newton|livingstone|cervantes|avant)|mediapad|ideos s7|s7-201c|s7-202u|s7-101|s7-103|s7-104|s7-105|s7-106|s7-201|s7-slim|\\bn-06d|\\bn-08d|pantech.*p4100|broncho.*(n701|n708|n802|a710)|touchpad.*[78910]|\\btouchtab\\b|z1000|z99 2g|z99|z930|z999|z990|z909|z919|z900|tb07sta|tb10sta|tb07fta|tb10fta|android.*\\bnabi|playstation.*(portable|vita)|dell.*streak|milagrow +tab.*top|android.+(ideapad|ideatab|lenovo +a1|s2110|s6000|k3011|a3000|a1000|a2107|a2109|a1107)|android.+f8-sup|android.*(k080|arc|vox)|android.*(msi.+enjoy|enjoy +7|enjoy +10)|dropad.+a8|android.+c906|android.+iberry.+auxus|android.+aigopad|android.*(airpad|liquid metal)|android.+hcl.+tablet|connect-3g-2.0|connect-2g-2.0|me tablet u1|me tablet u2|me tablet g1|me tablet x1|me tablet y2|me tablet sync|android.*(a39|a37|a34|st8|st10|st7|smarttab|smart +tab)|android.*(micromax.+funbook|funbook|p250|p275|p300|p350|p362|p500|p600)|micromax.*(p250|p275|p350|p362|p500|p600)|funbook|android.+penta|android.*(celkon.+ct|ct-[0-9])|android.+i-buddy|android.*(viewbook|viewpad)|android.*(v9|zte.+v8110|light tab|light pro|beeline|base.*tab)|chagall|android.*(vandroid|t3i)|android.*(ziio7|ziio10)|android.*(v-t100|v-tw100|v-tr200|v-t300)|android.+vtab1008|bookeen|cybook|android.*lifetab_(s9512|p9514|p9516)|m702pro|irulu-al101|pmp3170b|pmp3270b|pmp3470b|pmp7170b|pmp3370b|pmp3570c|pmp5870c|pmp3670b|pmp5570c|pmp5770d|pmp3970b|pmp3870c|pmp5580c|pmp5880d|pmp5780d|pmp5588c|pmp7280c|pmp7280|pmp7880d|pmp5597d|pmp5597|pmp7100d|per3464|per3274|per3574|per3884|per5274|per5474|pmp5097cpro|pmp5097|pmp7380d|pmp5297c|pmp5297c_quad|allview.*(viva|alldro|city|speed|all tv|frenzy|quasar|shine|tx1|ax1|ax2)|megafon +v9|android.+(z7c|z7h|z7s)|android.+iball.+slide.+(3g *7271|3g *7334|3g *7307|3g *7316|i7119|i7011)|android.+iball.+i6012|navipad|tb-772a|tm-7045|tm-7055|tm-9750|tm-7016|tm-7024|tm-7026|tm-7041|tm-7043|tm-7047|tm-8041|tm-9741|tm-9747|tm-9748|tm-9751|tm-7022|tm-7021|tm-7020|tm-7011|tm-7010|tm-7023|tm-7025|tm-7037w|tm-7038w|tm-7027w|tm-9720|tm-9725|tm-9737w|tm-1020|tm-9738w|tm-9740|tm-9743w|tb-807a|tb-771a|tb-727a|tb-725a|tb-719a|tb-823a|tb-805a|tb-723a|tb-715a|tb-707a|tb-705a|tb-709a|tb-711a|tb-890hd|tb-880hd|tb-790hd|tb-780hd|tb-770hd|tb-721hd|tb-710hd|tb-434hd|tb-860hd|tb-840hd|tb-760hd|tb-750hd|tb-740hd|tb-730hd|tb-722hd|tb-720hd|tb-700hd|tb-500hd|tb-470hd|tb-431hd|tb-430hd|tb-506|tb-504|tb-446|tb-436|tb-416|tb-146se|tb-126se|android.*\\bg1\\b|tx-a1301|tx-m9002|q702|ly-f528|android.+dslide.*\\b(700|701r|702|703r|704|802|970|971|972|973|974|1010|1012)\\b|m9701|m9000|m9100|m806|m1052|m806|t703|mid701|mid713|mid710|mid727|mid760|mid830|mid728|mid933|mid125|mid810|mid732|mid120|mid930|mid800|mid731|mid900|mid100|mid820|mid735|mid980|mid130|mid833|mid737|mid960|mid135|mid860|mid736|mid140|mid930|mid835|mid733|android.*\\b(f-01d|f-05e|f-10d|m532|q572)\\b|android.+casiatab8|android.+hudl|android.*(polaroid.*tablet|pmid1000|pmid10c|pmid800|pmid700|pmid4311|pmid701c|pmid701i|pmid705|pmid706|pmid70dc|pmid70c|pmid720|pmid80c|pmid901|ptab7200|ptab4300|ptab750|midc010|midc407|midc409|midc410|midc497|midc700|midc800|midc801|midc802|midc901)|e-boda.+(supreme|impresspeed|izzycomm|essential)|hp slate 7|hp elitepad 900|hp-tablet|elitebook.*touch|fine7 genius|fine7 shine|fine7 air|fine8 style|fine9 more|fine10 joy|fine11 wide|android.*\\b(n10|n10-4core|n78|n79|n83|n90 ii)\\b|\\b(pem63|plt1023g|plt1041|plt1044|plt1044g|plt1091|plt4311|plt4311pl|plt4315|plt7030|plt7033|plt7033d|plt7035|plt7035d|plt7044k|plt7045k|plt7045kb|plt7071kg|plt7072|plt7223g|plt7225g|plt7777g|plt7810k|plt7849g|plt7851g|plt7852g|plt8015|plt8031|plt8034|plt8036|plt8080k|plt8082|plt8088|plt8223g|plt8234g|plt8235g|plt8816k|plt9011|plt9045k|plt9233g|plt9735|plt9760g|plt9770g)\\b|bq1078|bc1003|bc1077|rk9702|bc9730|bc9001|it9001|bc7008|bc7010|bc708|bc728|bc7012|bc7030|bc7027|bc7026|tpc7102|tpc7103|tpc7105|tpc7106|tpc7107|tpc7201|tpc7203|tpc7205|tpc7210|tpc7708|tpc7709|tpc7712|tpc7110|tpc8101|tpc8103|tpc8105|tpc8106|tpc8203|tpc8205|tpc8503|tpc9106|tpc9701|tpc97101|tpc97103|tpc97105|tpc97106|tpc97111|tpc97113|tpc97203|tpc97603|tpc97809|tpc97205|tpc10101|tpc10103|tpc10106|tpc10111|tpc10203|tpc10205|tpc10503|android.*(roverpad|rp3wg70)|tab-p506|tab-navi-7-3g-m|tab-p517|tab-p-527|tab-p701|tab-p703|tab-p721|tab-p731n|tab-p741|tab-p825|tab-p905|tab-p925|tab-pr945|tab-pl1015|tab-p1025|tab-pi1045|tab-p1325|tab-protab[0-9]+|tab-protab25|tab-protab26|tab-protab27|tab-protab26xl|tab-protab2-ips9|tab-protab30-ips9|tab-protab25xxl|tab-protab26-ips10|tab-protab30-ips10|android.*ov-(steelcore|newbase|basecore|baseone|exellen|quattor|edutab|solution|action|basictab|teddytab|magictab|stream|tb-08|tb-09)|dps dream 9|dps dual 7|v97 hd|i75 3g|visture v4( hd)?|visture v5( hd)?|visture v10|ctp(-)?810|ctp(-)?818|ctp(-)?828|ctp(-)?838|ctp(-)?888|ctp(-)?978|ctp(-)?980|ctp(-)?987|ctp(-)?988|ctp(-)?989|android.*\\b97d\\b|tablet(?!.*pc)|viewpad7|lg-v909|mid7015|bntv250a|logicpd zoom2|\\ba7eb\\b|catnova8|a1_07|ct704|ct1002|\\bm721\\b|rk30sdk|\\bevotab\\b|smarttabii10|smarttab10",r=new RegExp(n,"i"),i=r.test(o),!0){case i:return t||c("rstv_is_tablet",!0),!0
}var l=/android/i.test(o),p=!/mobile/i.test(o);switch(!0){case l:switch(!0){case isNumber(u)&&u>=520&&810>=u:return t||(c("rstv_is_tablet",!0),c("rstv_is_phone")&&c("rstv_is_phone",!1)),!0}switch(!0){case p:return t||c("rstv_is_tablet",!0),!0}}return t||c("rstv_is_tablet",!1),!1}function q(){switch(!0){case d("rstv_is_tv"):return c("rstv_is_tv")}var e=R(),t=/googletv|smart\-tv|smarttv|internet +tv|netcast|nettv|appletv|boxee|kylo|roku|vizio|dlnadoc|ce\-html|ouya|xbox|playstation *(3|4)|wii/i.test(e);switch(!0){case t:return c("rstv_is_tv",!0),!0}return c("rstv_is_tv",!1),!1}function V(){switch(!0){case d("rstv_is_pc"):return c("rstv_is_pc")}switch(!0){case W()===!1&&q()===!1:return c("rstv_is_pc",!0),!0}return c("rstv_is_pc",!1),!1}function W(){switch(!0){case U()||B(!0):return!0;default:return!1}}function H(){switch(!0){case!W():return!0;default:return!1}}function Y(){var e,t=Array.prototype.slice.call(arguments),n=isBool(t[0])?t[0]:!1;switch(!0){case d("rstv_ort_curr")&&!n:return c("rstv_ort_curr")}switch(!0){case n:c("rstv_viewportW rstv_viewportW_dip rstv_viewportH rstv_viewportH_dip rstv_screenW rstv_screenH",null)}var r,i,o=R(),a=/opera.+(mini|mobi)/i.test(o),s=b(),u=w(),l=_(),p=S(),f=l/p,m=l-s;switch(m=Math.abs(m),r=a&&260>s?4>=m&&f>=1?!0:!1:!0,i=!!(s>=u&&r),!0){case i:switch(e="landscape",!0){case!n:c("rstv_is_portrait",!1),c("rstv_is_landscape",!0)}break;default:switch(e="portrait",!0){case!n:c("rstv_is_portrait",!0),c("rstv_is_landscape",!1)}}return e}function J(){c("rstv_ort_curr rstv_is_portrait rstv_is_landscape",null),c("rstv_ort_curr",Y())}function Q(){switch(!0){case d("rstv_is_portrait"):return c("rstv_is_portrait")}return!("portrait"!=Y())}function G(){switch(!0){case d("rstv_is_landscape"):return c("rstv_is_landscape")}return!("landscape"!=Y())}function K(){var e,t,n=G(),r=_(),i=S(),o=n?f("h"):f("w"),a=n?f("w"):f("h"),s=getClosestNumberMatchArray(o,r),c=getClosestNumberMatchArray(a,i),u=X();switch(!0){case s>=c:e=c+"_"+s;break;default:e=s+"_"+c}return t=array_search(e,u)}function Z(){switch(!0){case d("rstv_is_cache_res_list"):return c("rstv_cache_res_list")}var e=["qqvga","qqvgax1","hqvga","hqvgax1","hqvgax2","hvgax1","qvga","wqvga","wqvga1","hvga","hvga1","hvga2","hvga3","hvgax1","hvgax2","vga","wvga","wvgax1","fwvga","svga","dvga","dvgax1","wsvga","wsvga1","xga","wxga","wxga1","wxga2","wxga3","wxga4","wxga5","xga+","wxga+","sxga","sxga+","wsxga+","uxga","wuxga","qwxga","qxga","wqxga","qsxga","wqsxga","quxga","wquxga","hxga","whxga","hsxga","whsxga","huxga","whuxga","nhd","nhdx1","qhd","hd","720p","fhd","1080p","1080i","wqhd","mbprhd","4kuhd","8kuhd"];return c("rstv_is_cache_res_list",!0),c("rstv_cache_res_list",e),e}function X(){switch(!0){case d("rstv_is_cache_res_matrix"):return c("rstv_cache_res_matrix")}var e={qqvga:"120_160",qqvgax1:"128_160",hqvga:"160_240",hqvgax1:"240_240",hqvgax2:"240_260",qvga:"240_320",wqvga:"240_400",wqvga1:"240_432",hvga:"320_480",hvga1:"360_480",hvga2:"272_480",hvga3:"240_640",hvgax1:"200_640",hvgax2:"300_640",hvgax3:"360_400",vga:"480_640",wvga:"480_800",wvgax1:"352_800",fwvga:"480_854",svga:"600_800",dvga:"640_960",dvgax1:"640_1136",wsvga:"576_1024",wsvga1:"600_1024",xga:"768_1024",wxga:"768_1280",wxga1:"720_1280",wxga2:"800_1280",wxga3:"768_1360",wxga4:"768_1366",wxga5:"720_720","xga+":"864_1152","wxga+":"900_1440",sxga:"1024_1280","sxga+":"1050_1400","wsxga+":"1050_1680",uxga:"1200_1600",wuxga:"1200_1920",qwxga:"1152_2048",qxga:"1536_2048",wqxga:"1600_2560","wqxga+":"1800_3200",qsxga:"2048_2560",wqsxga:"2048_3200",quxga:"2400_3200",wquxga:"2400_3840",hxga:"3072_4096",whxga:"3200_5120",hsxga:"4096_5120",whsxga:"4096_6400",huxga:"4800_6400",whuxga:"4800_7680",nhd:"360_640",nhdx1:"320_640",qhd:"540_960",hd:"720_1280","720p":"720_1280",fhd:"1080_1920","1080p":"1080_1920","1080i":"1080_1920",wqhd:"1440_2560",mbprhd:"1800_2880","4kuhd":"2160_3840","8kuhd":"4320_7680"};return c("rstv_is_cache_res_matrix",!0),c("rstv_cache_res_matrix",e),e}function et(e,t){try{var n,r,i,o,a,s,c,u=[],l="",d="",p="",f=[],m="",h=[],g="",v=[],y=[],b=[],w=[],_=!1,S=!1,C=0,k="",A=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","ao","ap","aq","ar","as","at","au","av","aw","ax"],I=[],x=[],E=count(e),R=count(t),T=count(u);switch(!0){case!isArray(e):throw new Error("The first argument must be an array!");case isArray(e)&&0==E:throw new Error("The first argument must not be empty!")}switch(!0){case R>0&&T>0:throw new Error("You can only define either 'Classes' or 'Attributes' settings!")}switch(!0){case R>0:switch(_=!0,!0){case R!==E:throw new Error("The number items for 'Breakpoints' and 'Classes' settings must match")}}switch(!0){case T>0:switch(S=!0,!0){case T!==E:throw new Error("The number items for 'Breakpoints' and 'Attributes' settings must match")}}n=Z(),r=X();for(var P=0;E>P;P++){switch(i=e[P],k=A[P],!0){case/-+/i.test(i)&&!/^[^-]*-[^-]*$/i.test(i):p+="2"}switch(l="",d="",!0){case substr_count(i,"-p")>0:l="p",d="-p",y.push("p");break;case substr_count(i,"-l")>0:l="l",d="-l",y.push("l");break;default:y.push("x")}switch(o=i.replace(""+d,""),!0){case in_array(o,n):switch(a=r[""+o],w=arrayToInteger(explode("_",a)),m=parseInt(w[0]),g=parseInt(w[1]),s=m,c=g,!0){case"l"==l:s=g,c=m}f[k]=s,h[k]=c,v.push("r");break;case/[0-9]+/i.test(o):f[k]=parseInt(o),h[k]=parseInt(o),v.push("v");break;default:p+="1"}I.push(k),C++}switch(!0){case/[1]+/i.test(p):throw new Error("There are errors in your 'Breakpoints' settings!");case/[2]+/i.test(p):throw new Error("There are errors in your 'Breakpoints' settings with regard to the way you have defined orientation markers e.g. -p or -l!")}var D,M,L=function(e,t){return e==t?0:t>e?-1:1},O=[],N=[],j=[],$=[],z=[],F=[],U=[];F=u,O=uasort(f,L),x=array_keys(O);for(var B=count(O),P=0;B>P;P++)D=x[P],M=array_search(D,I),N[D]=h[D],j[P]=v[M],$[P]=y[M],z[P]=t[M],U[P]=F[M];switch(b.bp_w=implode("|",O),b.bp_h=implode("|",N),b.bp_o=implode("|",$),b.bp_t=implode("|",j),!0){case _:var q=implode("|",z);b.bp_c=q}switch(!0){case S:var V=implode("|",U);b.bp_a=V}return b}catch(W){"There was an error: "+W.message}}function tt(e,t){var n=[];return n=et(e,t)}function nt(){var t=Array.prototype.slice.call(arguments),r=isNumber(t[0])?"_"+t[0]:"",o=function(){var t=c("rstv_viewportW"),o=c("rstv_viewportH");i();var a,s,u,l,d,p,f,m,h=W(),g=Y(!0),v=c("rstv_ort_curr"),y=!1;switch(A(),!0){case h:switch(a=c("rstv_viewportW"),s=c("rstv_viewportH"),u=a-t,p=s-o,l=Math.abs(u),f=Math.abs(p),d=l/t*100,m=f/o*100,!0){case 1>d:switch(!0){case m>35&&0>p:y=!0;break;case m>35&&p>0:y=!0;break;case m>12&&35>=m&&p>0:y=!0;break;case 0==m:y=!0}}}switch(!0){case!y:switch(!0){case v!==g:J(),n(e).trigger("change_orientation"+r);break;default:switch(!0){case!h:n(e).trigger("resize_viewport"+r)}}}};it(o)}function rt(t){var r=Array.prototype.slice.call(arguments),i=isNumber(r[1])?"_"+r[1]:"",o=function(){n(e).trigger("resize_container"+i)};ot(t,o)}function it(e){return vt.on("resize",e),at}function ot(e,t){return e.on("resizecontainer",t),at}switch(!0){case"function"!=typeof n:throw"Restive.JS requires JQuery to run!"}var at,st,ct,ut,lt,dt,pt,ft,mt,ht=e,gt=t.documentElement,vt=n(ht),yt=ht.screen,bt=ht.matchMedia||ht.msMatchMedia||Object;e.rstv_store={main:{}},e.parent.rstv_store={main:{}},e.rstv_store.storage=function(){var t=Array.prototype.slice.call(arguments),n=t[0],r=t[1],i=!("undefined"==typeof r||null===r||!(isString(r)&&""!=r||isNumber(r)||isArray(r)&&count(r)>0||isBool(r)||isObject(r))),o=!(null!==r);switch(!0){case i:return e.rstv_store.main[""+n]=r,void 0;case o:return e.rstv_store.main[""+n]=null,void 0;default:return e.rstv_store.main[""+n]}};var wt=function(){e.rstv_store.main.rstv_is_priv_browsing=!!s();var t,n=c("rstv_is_init");switch(!0){case n:c("rstv_timestamp_curr",microtime(!0)),c("rstv_url",getUrl("bp")),o(),a(),i(),A(),J(),t=!1;break;default:c("rstv_timestamp_curr",microtime(!0)),c("rstv_timestamp_init",c("rstv_timestamp_curr")),c("rstv_loaded_count",0,"",{expires:1500}),c("rstv_is_init",!0),c("rstv_url",getUrl("bp")),c("rstv_url_hash",md5(getUrl("bp"))),i(),A(),c("rstv_ort_init",Y()),c("rstv_ort_curr",Y()),o(),t=!0}return t};return st=E(b),ct=E(w),dt=E(_),pt=E(S),ut=E(C),lt=E(k),ft=E(v),mt=E(y),at={init:wt(),reInit:r,getUserAgent:R,isStorageValueSet:d,store:c,storeVarTracker:u,storeVarValidator:l,incrementStorageValue:p,getBreakpoints:tt,viewportW:b,viewportH:w,screenW:_,screenH:S,pixelW:C,pixelH:k,vSpan:st,vPitch:ct,dSpan:dt,dPitch:pt,cSpan:ut,cPitch:lt,eSpan:ft,ePitch:mt,isRetina:x,getPixelRatio:I,getPlatform:T,getFormFactor:F,getOrientation:Y,getResolution:K,isPortrait:Q,isLandscape:G,viewportMonitor:nt,containerMonitor:rt,isMobile:W,isNonMobile:H,isPhone:U,isTablet:B,isPC:V,isTV:q,isIOS:D,isApple:M,isAndroid:L,isSymbian:O,isBlackberry:N,isWindows:j,isWindowsPhone:$,resize:it,resizeContainer:ot}}(window,document,jQuery);!function(e,t,n){Function.prototype.getFuncBody=function(){var e=this.toString().match(/\{([\s\S]*)\}/m)[1];return e.replace(/^\s*\/\/.*$/gm,"")};var r={init:function(t){try{r._multiConstructorCounter(),r._multiConstructorManager();var i,o,a=t,s=["all","ios","android","symbian","blackberry","windows"],c=["all","pc","tv","tablet","phone"],u=t.platform,l=t.formfactor,d=Restive.store("rstv_multi_start"),p=Restive.store("rstv_multi_count"),f=Restive.store("rstv_multi_abort_2");switch(!0){case in_array(u,s)===!1:return r._error("rstv_error_001",'"'+u+'" is not a valid Platform option!'),!1}switch(!0){case in_array(l,c)===!1:return r._error("rstv_error_002",'"'+l+'" is not a valid Form Factor option!'),!1}switch(!0){case f:return r._error("rstv_error_003","If you are calling the Restive.JS Constructor more than once, you must call $.restive.endMulti() at the end!"),!1}var m=[],h=[],g=[];h=t.breakpoints,g=t.classes,m=r.getBreakpoints(h,g);var v=[];switch(v.platform=r.getPlatform(),v.formfactor=r.getFormFactor(),v.is_mobile=r.isMobile(),v.pixelratio=r.getPixelRatio(),v.orientation=r.getOrientation(),v.selector=getSelector(this),v.tagname=this.prop("tagName").toLowerCase(),i=r._responsiveBasis(a,v),o=!("c"!=i),v.is_resp_basis_container=o,!0){case o:r._containerMonitor(m,this,a,v);break;default:switch(!0){case!d:r._viewportMonitor(m,this,a,v),r._callbackManager(a,["ready","init"]);break;default:e.parent.rstv_store.main["rstv_breakpoints_"+p]=m,e.parent.rstv_store.main["rstv_this_"+p]=this,e.parent.rstv_store.main["rstv_options_"+p]=a,e.parent.rstv_store.main["rstv_core_info_"+p]=v,e.rstv_store.main=e.parent.rstv_store.main}}return Restive.store("rstv_turbo_classes_reflow_status_in",null),this.each(function(){var e=n(this);r.setBreakpoints(m,e,a,v)})}catch(y){}},_error:function(e,t){var n=!("true"!==String(Restive.store(e+"_init")).toLowerCase());switch(!0){case!n:throw Restive.store(e+"_init",!0),new Error(t)}},_callbackManager:function(){var e,t,i=Array.prototype.slice.call(arguments),o=i[0],a=i[1];switch(!0){case in_array("ready",a):var s=o.onReady,c=o.onReady.getFuncBody().length;switch(!0){case n.isFunction(s)&&c>0:s()}}switch(!0){case in_array("resize",a):var u=o.onResize,l=o.onResize.getFuncBody().length;switch(!0){case n.isFunction(u)&&l>0:u()}}switch(!0){case in_array("turboclassesreflow",a):var d=a[1],p=o.onTurboClassReflow,f=o.onTurboClassReflow.getFuncBody().length;switch(!0){case n.isFunction(p)&&f>0:p()}var m=o.onTurboClassReflowIn,h=o.onTurboClassReflowIn.getFuncBody().length;switch(!0){case n.isFunction(m)&&h>0:switch(!0){case"in"==d:m()}}var g=o.onTurboClassReflowOut,v=o.onTurboClassReflowOut.getFuncBody().length;switch(!0){case n.isFunction(g)&&v>0:switch(!0){case"out"==d:g()}}}switch(!0){case in_array("rotate",a):var y=Restive.getOrientation(),b=o.onRotate,w=o.onRotate.getFuncBody().length;switch(!0){case n.isFunction(b)&&w>0:b()}var _=o.onRotateToP,S=o.onRotateToP.getFuncBody().length;switch(!0){case n.isFunction(_)&&S>0:switch(!0){case"portrait"==y:_()}}var C=o.onRotateToL,k=o.onRotateToL.getFuncBody().length;switch(!0){case n.isFunction(C)&&k>0:switch(!0){case"landscape"==y:C()}}}switch(!0){case in_array("addclass",a)||in_array("removeclass",a):var A=a[0],I=a[1],x={addclass:"onAddClass",removeclass:"onRemoveClass"};switch(e=o[x[""+A]],t=e.getFuncBody().length,!0){case n.isFunction(e)&&t>0:e(I)}}switch(!0){case in_array("init",a):switch(!0){case in_array("init",a):for(var E=["onPortrait","onLandscape","onRetina","onPhone","onTablet","onPC","onTV","onIOS","onAndroid","onSymbian","onBlackberry","onWindows","onWindowsPhone","onMobile","onNonMobile"],R=["isPortrait","isLandscape","isRetina","isPhone","isTablet","isPC","isTV","isIOS","isAndroid","isSymbian","isBlackberry","isWindows","isWindowsPhone","isMobile","isNonMobile"],T=0;T<count(R);T++)switch(e=o[E[T]],t=e.getFuncBody().length,!0){case n.isFunction(e)&&t>0:var P=r[R[T]],D=P();switch(!0){case D:e()}}}}},_URLMonitor:function(){var e=Restive.store("rstv_url"),t=Restive.store("rstv_url_hash"),n=md5(e);switch(!0){case n!=t:Restive.store("rstv_multi_bpm_idx rstv_cache_bpm rstv_cache_bpm_lock rstv_cache_req rstv_cache_bpm_viewport_diff",null),Restive.store("rstv_url_hash",n)}},_responsiveBasis:function(e,t){var n,r=t.selector,i=/^#[^\s]+$/i.test(r),o=elementIsChildOf("body",r),a=e.anchor;try{switch(!0){case o&&("element"==a||"e"==a):switch(!0){case!i:throw new Error("You must use only the JQuery ID selector when the 'anchor' option is set to 'e' or 'element'!")}n="c";break;default:n="v",Restive.store("rstv_resp_basis_viewport_init",!0)}return n}catch(s){}},_viewportMonitor:function(t,i,o,a){var s="resize_viewport",c="change_orientation";n(e).on(s,function(){r._onResizeViewport(t,i,o,a)}),n(e).on(c,function(){r._onChangeOrientation(t,i,o,a)}),Restive.viewportMonitor()},_containerMonitor:function(e,t,n,i){var o="resizecontainer";t.on(o,function(){r._onResizeContainer(e,t,n,i)})},_onResizeViewport:function(e,t,i,o){try{return t.each(function(){var t=n(this);r.setBreakpoints(e,t,i,o,"rv"),r._callbackManager(i,["resize"])})}catch(a){}},_onResizeContainer:function(e,t,i,o){try{return t.each(function(){var t=n(this);r.setBreakpoints(e,t,i,o,"rc")})}catch(a){}},_onChangeOrientation:function(e,t,i,o){try{return t.each(function(){var t=n(this);r.setBreakpoints(e,t,i,o,"co"),r._callbackManager(i,["rotate"])})}catch(a){}},getBreakpoints:function(e,t){return Restive.getBreakpoints(e,t)},setBreakpoints:function(){var e=Array.prototype.slice.call(arguments),t=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=!1,c=!1,u=!1,l=o.is_resp_basis_container,d=Restive.store("rstv_multi_abort_1");switch(!0){case"co"==a:s=!0}switch(!0){case"rv"==a:c=!0}switch(!0){case"rc"==a:u=!0}switch(!0){case d:return r._error("rstv_error_004","If you are calling the Restive.JS Constructor more than once, you must call $.restive.startMulti() before calling these constructors!"),!1}var p=Restive.store("rstv_multi_start"),f=parseInt(Restive.store("rstv_multi_count")),m=parseInt(Restive.store("rstv_multi_bpm_idx")),h=Restive.store("rstv_cache_bpm_lock");switch(!0){case!l:switch(!0){case p&&!s&&h:switch(!0){case isNumber(f)&&isNumber(m)&&f!=m:return!1}}}var g,v,y,b,w,_,S,C=(Restive.getUserAgent(),i.platform,i.formfactor,i.force_dip),k=o.platform,A=o.formfactor,I=(o.pixelratio,1==o.is_mobile?"true":"false",Restive.store("rstv_ort_init"),Restive.store("rstv_ort_curr"),Restive.isPortrait()),x=I===!0?!1:!0,E=[],R=!1,T=t.bp_w,P=t.bp_h,D=t.bp_o,M=t.bp_t,L=t.bp_c,O=[],N=[],j=[],$=[];switch(g=Restive.viewportW(),S=g,v=Restive.viewportH(),y=Restive.screenW(),b=Restive.screenH(),w=Restive.pixelW(),_=Restive.pixelH(),!0){case 1==C:S=Restive.pixelW()}switch(O=arrayToInteger(explode("|",T)),N=arrayToInteger(explode("|",P)),j=explode("|",D),$=explode("|",M),!0){case"undefined"!=typeof L||null!=L:R=!0,E=explode("|",L)}var z,F,U,B,q,V,W,H,Y,J,Q,G,K,Z,X,et,tt,nt,rt,it,ot="",at=!0,st=!0,ct=!1,ut=!1,lt=!1,dt=!0,pt=!0,ft="",mt=count(O);z=arrayHasDuplicates(O),F=z?!1:!0;for(var ht=0;mt>ht;ht++){switch(!0){case"all"!=i.platform&&i.platform!=k:dt=!1}switch(!0){case"all"!=i.formfactor&&i.formfactor!=A:pt=!1}if(!dt||!pt)break;var gt=ht-1;switch(U=O[ht],!0){case ht>0:B=O[gt];break;default:B=0,q=0}switch(Y=N[ht],Z=$[ht],X=j[ht],st=at,!0){case"p"==X:rt=I?!0:!1,ct=!0,at=rt,ot=st===!1?q:ot;break;case"l"==X:rt=x?!0:!1,ct=!0,at=rt,ot=st===!1?q:ot;break;default:ot=ct===!0&&st===!1?q:ot,q=ht>0?U:0,rt=!0,at=rt}switch(!0){case 0==ht:V=0,ot=U;break;case ht>=1:switch(!0){case U!==B:ot=U+"-!"+ot}V=parseInt(getValueAfterExplode(ot,"-!",1))}switch(et=E[ht],!0){case 0==ht:W=V,H=U;break;default:W=0==V?V:V+1,H=U}switch(!0){case l:nt=Restive.eSpan(W,H,n,i.anchor_e_df,i.force_dip);break;default:nt=1==C?Restive.cSpan(W,H):Restive.vSpan(W,H)}switch(!0){case nt&&rt:switch(!0){case l:ut=!0;break;default:switch(J=H-S,Q=Math.abs(J),G=S-W,K=.1*H,K=Math.round(K),!0){case s:switch(!0){case J>K:ft="4";break;default:ft="2"}break;default:switch(!0){case J>K:ft="3";break;default:ft="1"}}switch(ut=!0,!0){case ut:switch(lt=!0,tt=et,!0){case"x"!=X:F=!0}}}break;default:ut=!1}if(ut&&F)break}switch(!0){case lt:ut=!0,et=tt}switch(!0){case!ut:switch(!0){case l:return r.unsetElementDOM(n,i),void 0}switch(W=0,H=0,!0){case!Restive.store("rstv_multi_start")||s:r.unsetElementDOM(n,i)}switch(!0){case!dt&&pt:ft="7";break;case!pt&&dt:ft="8";break;case!pt&&!dt:ft="9";break;default:switch(!0){case s:ft="6";break;default:ft="5"}}switch(it=r._addTurboClasses("",i.turbo_classes),it=r._addTurboClassesReflow(it,i),!0){case!Restive.store("rstv_multi_start")||s:r.setElementDOM(n,it,i)}Restive.store("rstv_breakpoint_match_curr",!1);break;case ut:switch(it=r._addTurboClasses(et,i.turbo_classes),it=r._addTurboClassesReflow(it,i),!0){case l:return r.setElementDOM(n,it,i),void 0}switch(!0){case Restive.store("rstv_multi_start"):var vt=parseInt(Restive.store("rstv_bpm_h_counter"));switch(!0){case s:r.setElementDOM(n,it,i);break;default:switch(!0){case vt>1:var yt=parseInt(Restive.store("rstv_cache_bpm_viewport_diff"));switch(!0){case yt>Q:switch(r.setElementDOM(n,it,i),!0){case!h:Restive.store("rstv_multi_bpm_idx",f)}Restive.store("rstv_cache_bpm_viewport_diff",Q)}break;default:switch(r.setElementDOM(n,it,i),!0){case!h:Restive.store("rstv_multi_bpm_idx",f)}Restive.store("rstv_cache_bpm_viewport_diff",Q)}vt++,Restive.store("rstv_bpm_h_counter",vt,"",{expires:1e3})}break;default:r.setElementDOM(n,it,i)}Restive.store("rstv_breakpoint_match_curr",!0)}var bt=Restive.store("rstv_cache_bpm_lock");switch(!0){case p&&!s&&!(isString(bt)&&""!=bt||isBool(bt)):Restive.store("rstv_breakpoint_match_curr")?r._extVarTracker("rstv_cache_bpm","h","ls",!1,"",!1):r._extVarTracker("rstv_cache_bpm","m","ls",!1,"",!1)}switch(!0){case ut:return!0}return!1},_addTurboClassesReflow:function(e,t){switch(!0){case r.isPC():switch(!0){case t.turbo_classes_reflow&&isString(t.turbo_classes)&&""!=t.turbo_classes:var n,i,o,a,s,c,u,l,d,p=[],f=[],m=e,h=!1,g=Restive.store("rstv_turbo_classes_reflow_status_in");switch(p=explode(",",t.turbo_classes_reflow_limits),c=parseInt(p[0]),s=parseInt(p[1]),n=/is_mobile=/i.test(t.turbo_classes),!0){case n:f=explode(",",t.turbo_classes);for(var v=0;v<count(f);v++){switch(l=getValueAfterExplode(f[v],"=",0),d=getValueAfterExplode(f[v],"=",1),!0){case"is_mobile"==l:switch(i=1==t.force_dip?Restive.cSpan(0,s):Restive.vSpan(0,s),!0){case i:switch(m+=" "+d,h=!0,!0){case!g&&h:Restive.store("rstv_turbo_classes_reflow_status_in",!0),r._callbackManager(t,["turboclassesreflow","in"])}break;default:switch(h=!1,!0){case g&&!h:Restive.store("rstv_turbo_classes_reflow_status_in",!1),r._callbackManager(t,["turboclassesreflow","out"])}}}switch(!0){case"is_phone"==l:o=1==t.force_dip?Restive.cSpan(0,c):Restive.vSpan(0,c),m=o?m+" "+d:m}switch(!0){case"is_tablet"==l:u=c+1,a=1==t.force_dip?Restive.cSpan(u,s):Restive.vSpan(u,s),m=a?m+" "+d:m}}return m}}}return e},_addTurboClasses:function(e,t){switch(!0){case!isString(t)||""==t:return e}var n,i,o,a,s=[],c=[],u="",l="",d={is_mobile:"isMobile",is_non_mobile:"isNonMobile",is_retina:"isRetina",is_phone:"isPhone",is_tablet:"isTablet",is_tv:"isTV",is_pc:"isPC",is_portrait:"isPortrait",is_landscape:"isLandscape"};s=explode(",",t);for(var p=0;p<count(s);p++)switch(n=getValueAfterExplode(s[p],"=",0),i=getValueAfterExplode(s[p],"=",1),o=d[n],!0){case isString(o)&&""!=o:switch(a=r[o],!0){case a():c.push(i)}}return u=implode(" ",c,!0),l=""!=u?u+" "+e:e},setElementDOM:function(e,t,n){var i,o=md5(getSelector(e)),a="rstv_bpm_class_"+o;switch(i=isString(Restive.store(a))&&""!=Restive.store(a)?Restive.store(a):"",!0){case""!=i:switch(e.removeClass(i).addClass(t),!0){case i!=t:r._callbackManager(n,["removeclass",""+i])}break;default:e.addClass(t)}Restive.store(a,t),r._callbackManager(n,["addclass",""+t])},unsetElementDOM:function(e,t){var n,i=md5(getSelector(e)),o="rstv_bpm_class_"+i;n=isString(Restive.store(o))&&""!=Restive.store(o)?Restive.store(o):"",e.removeClass(n),r._callbackManager(t,["removeclass",""+n])},_extVarTracker:function(e,t){var n=Array.prototype.slice.call(arguments),r=isString(n[2])&&""!=n[2]?n[2]:"ck",i=isBool(n[3])?n[3]:!1,o=isNumber(n[4])||isString(n[4])?parseInt(n[4]):"",a=isBool(n[5])?n[5]:!0,s=isString(n[6])&&""!=n[6]?n[6]:"-!",c=isNumber(n[7])||isString(n[7])?parseInt(n[7]):80;return Restive.storeVarTracker(e,t,r,i,o,a,s,c)},_multiConstructorSelectPos:function(){var e,t=Restive.store("rstv_cache_bpm"),n=explode("-!",t),r=parseInt(Restive.store("rstv_multi_bpm_idx"));e=implode("",n);var i,o,a=new RegExp("^[^h]*h[^h]*$","gi"),s=new RegExp("^m+$","gi");switch(!0){case a.test(e):i=strrpos(e,"h");break;case s.test(e):Restive.store("rstv_cache_bpm_all_miss",!0,"",{expires:2e3}),i=strrpos(e,"m");break;case substr_count(e,"h")>1:i=r-1}return o=i+1,Restive.store("rstv_multi_bpm_idx",o),i},_multiConstructorManageEvents:function(t){n(e).off("resize");var i=parseInt(t)+1,o=e.parent.rstv_store.main["rstv_breakpoints_"+i],a=e.parent.rstv_store.main["rstv_this_"+i],s=e.parent.rstv_store.main["rstv_options_"+i],c=e.parent.rstv_store.main["rstv_core_info_"+i];switch(!0){case Restive.store("rstv_resp_basis_viewport_init"):r._viewportMonitor(o,a,s,c),r._callbackManager(s,["ready","init"])}},_multiConstructorFinalize:function(){var e=r._multiConstructorSelectPos();r._multiConstructorManageEvents(e),Restive.store("rstv_cache_bpm_lock",!0),Restive.store("rstv_cache_req",null),Restive.store("rstv_multi_count",null)},_multiConstructorStart:function(){switch(Restive.store("rstv_multi_count",0),Restive.store("rstv_multi_start",!0),Restive.store("rstv_multi_abort_1",!1),Restive.store("rstv_multi_abort_2",!1),Restive.store("rstv_bpm_h_counter",1,"",{expires:1e3}),Restive.store("rstv_bpm_m_counter",1,"",{expires:1e3}),!0){case!Restive.isStorageValueSet("rstv_multi_start_count"):Restive.store("rstv_multi_start_count",1),Restive.store("rstv_multi_end",!1);break;default:Restive.incrementStorageValue("rstv_multi_start_count")}},_multiConstructorManager:function(){var e=Restive.store("rstv_multi_start"),t=Restive.store("rstv_multi_end"),n=parseInt(Restive.store("rstv_multi_count")),i=parseInt(Restive.store("rstv_multi_start_count"));switch(!0){case n>1:switch(!0){case e===!1:Restive.store("rstv_multi_abort_1",!0)}}switch(!0){case i>1&&t===!1:Restive.store("rstv_multi_abort_2",!0)}r._URLMonitor()},_multiConstructorCounter:function(){Restive.incrementStorageValue("rstv_multi_count")},_multiConstructorEnd:function(){Restive.store("rstv_multi_start_count",0),Restive.store("rstv_multi_end",!0),r._multiConstructorFinalize()},getUserAgent:function(){return Restive.getUserAgent()},getPlatform:function(){return Restive.getPlatform()},getFormFactor:function(){return Restive.getFormFactor()},getOrientation:function(){return Restive.getOrientation()},getResolution:function(){return Restive.getResolution()},getPixelRatio:function(e){return Restive.getPixelRatio(e)},getViewportW:function(){return Restive.viewportW()},getViewportH:function(){return Restive.viewportH()},getScreenW:function(){return Restive.screenW()},getScreenH:function(){return Restive.screenH()},getPixelW:function(){return Restive.pixelW()},getPixelH:function(){return Restive.pixelH()},isRetina:function(){return Restive.isRetina()},isMobile:function(){return Restive.isMobile()},isNonMobile:function(){return Restive.isNonMobile()},isPhone:function(){return Restive.isPhone()},isTablet:function(){return Restive.isTablet()},isTV:function(){return Restive.isTV()},isPC:function(){return Restive.isPC()},isIOS:function(){return Restive.isIOS()},isApple:function(){return Restive.isApple()},isAndroid:function(){return Restive.isAndroid()},isSymbian:function(){return Restive.isSymbian()},isBlackberry:function(){return Restive.isBlackberry()},isWindows:function(){return Restive.isWindows()},isWindowsPhone:function(){return Restive.isWindowsPhone()},isPortrait:function(){return Restive.isPortrait()},isLandscape:function(){return Restive.isLandscape()}};n.fn.restive=function(e){if(r[e])return r[e].apply(this,Array.prototype.slice.call(arguments,1));if("object"==typeof e||!e){var t=n.extend({},n.fn.restive.defaults,e),i=new Array(t);return r.init.apply(this,i)}n.error("Method "+e+" does not exist on Restive.JS")},n.fn.restive.defaults={breakpoints:[],classes:[],anchor:"window",anchor_e_df:"w",platform:"all",formfactor:"all",turbo_classes:"",turbo_classes_reflow:!1,turbo_classes_reflow_limits:"480,960",force_dip:!1,onReady:function(){},onResize:function(){},onRotate:function(){},onRotateToP:function(){},onRotateToL:function(){},onPortrait:function(){},onLandscape:function(){},onRetina:function(){},onPhone:function(){},onTablet:function(){},onPC:function(){},onTV:function(){},onIOS:function(){},onAndroid:function(){},onSymbian:function(){},onBlackberry:function(){},onWindows:function(){},onWindowsPhone:function(){},onMobile:function(){},onNonMobile:function(){},onTurboClassReflow:function(){},onTurboClassReflowIn:function(){},onTurboClassReflowOut:function(){},onAddClass:function(){},onRemoveClass:function(){}};var i=n.restive=function(){};n.extend(i,{getUserAgent:function(){return r.getUserAgent()},getPlatform:function(){return r.getPlatform()},getFormFactor:function(){return r.getFormFactor()},getOrientation:function(){return r.getOrientation()},getResolution:function(){return r.getResolution()},getPixelRatio:function(e){return r.getPixelRatio(e)},getViewportW:function(){return r.getViewportW()},getViewportH:function(){return r.getViewportH()},getScreenW:function(){return r.getScreenW()},getScreenH:function(){return r.getScreenH()},getPixelW:function(){return r.getPixelW()},getPixelH:function(){return r.getPixelH()},isRetina:function(){return r.isRetina()},isMobile:function(){return r.isMobile()},isNonMobile:function(){return r.isNonMobile()},isPhone:function(){return r.isPhone()},isTablet:function(){return r.isTablet()},isTV:function(){return r.isTV()},isPC:function(){return r.isPC()},isIOS:function(){return r.isIOS()},isApple:function(){return r.isIOS()},isAndroid:function(){return r.isAndroid()},isSymbian:function(){return r.isSymbian()},isBlackberry:function(){return r.isBlackberry()},isWindows:function(){return r.isWindows()},isWindowsPhone:function(){return r.isWindowsPhone()},isPortrait:function(){return r.isPortrait()},isLandscape:function(){return r.isLandscape()},startMulti:function(){r._multiConstructorStart()},endMulti:function(){r._multiConstructorEnd()}})}(window,document,jQuery),function(e){function t(){}function n(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function i(t,n){e.fn[t]=function(i){if("string"==typeof i){for(var a=r.call(arguments,1),s=0,c=this.length;c>s;s++){var u=this[s],l=e.data(u,t);if(l)if(e.isFunction(l[i])&&"_"!==i.charAt(0)){var d=l[i].apply(l,a);if(void 0!==d)return d}else o("no such method '"+i+"' for "+t+" instance");else o("cannot call methods on "+t+" prior to initialization; attempted to call '"+i+"'")}return this}return this.each(function(){var r=e.data(this,t);r?(r.option(i),r._init()):(r=new n(this,i),e.data(this,t,r))})}}if(e){var o="undefined"==typeof console?t:function(){};return e.bridget=function(e,t){n(t),i(e,t)},e.bridget}}var r=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):"object"==typeof exports?n(require("jquery")):n(e.jQuery)}(window),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,r=function(){};n.addEventListener?r=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(r=function(e,n,r){e[n+r]=r.handleEvent?function(){var n=t(e);r.handleEvent.call(r,n)}:function(){var n=t(e);r.call(e,n)},e.attachEvent("on"+n,e[n+r])});var i=function(){};n.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=void 0}});var o={bind:r,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",o):"object"==typeof exports?module.exports=o:e.eventie=o}(window),function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,o=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),o="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(o?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&(r=t(o[i],n),-1!==r&&o[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,o,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(r=a[i].length;r--;)n=a[i][r],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:i.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof r[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,i=0,o=n.length;o>i;i++)if(t=n[i]+e,"string"==typeof r[t])return t
}}var n="Webkit Moz ms Ms O".split(" "),r=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e),n=-1===e.indexOf("%")&&!isNaN(t);return n&&t}function n(){}function r(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=a.length;n>t;t++){var r=a[t];e[r]=0}return e}function i(n){function i(){if(!p){p=!0;var r=e.getComputedStyle;if(u=function(){var e=r?function(e){return r(e,null)}:function(e){return e.currentStyle};return function(t){var n=e(t);return n||o("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),l=n("boxSizing")){var i=document.createElement("div");i.style.width="200px",i.style.padding="1px 2px 3px 4px",i.style.borderStyle="solid",i.style.borderWidth="1px 2px 3px 4px",i.style[l]="border-box";var a=document.body||document.documentElement;a.appendChild(i);var s=u(i);d=200===t(s.width),a.removeChild(i)}}}function s(e){if(i(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var n=u(e);if("none"===n.display)return r();var o={};o.width=e.offsetWidth,o.height=e.offsetHeight;for(var s=o.isBorderBox=!(!l||!n[l]||"border-box"!==n[l]),p=0,f=a.length;f>p;p++){var m=a[p],h=n[m];h=c(e,h);var g=parseFloat(h);o[m]=isNaN(g)?0:g}var v=o.paddingLeft+o.paddingRight,y=o.paddingTop+o.paddingBottom,b=o.marginLeft+o.marginRight,w=o.marginTop+o.marginBottom,_=o.borderLeftWidth+o.borderRightWidth,S=o.borderTopWidth+o.borderBottomWidth,C=s&&d,k=t(n.width);k!==!1&&(o.width=k+(C?0:v+_));var A=t(n.height);return A!==!1&&(o.height=A+(C?0:y+S)),o.innerWidth=o.width-(v+_),o.innerHeight=o.height-(y+S),o.outerWidth=o.width+b,o.outerHeight=o.height+w,o}}function c(t,n){if(e.getComputedStyle||-1===n.indexOf("%"))return n;var r=t.style,i=r.left,o=t.runtimeStyle,a=o&&o.left;return a&&(o.left=t.currentStyle.left),r.left=n,n=r.pixelLeft,r.left=i,a&&(o.left=a),n}var u,l,d,p=!1;return s}var o="undefined"==typeof console?n:function(){},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],i):"object"==typeof exports?module.exports=i(require("desandro-get-style-property")):e.getSize=i(e.getStyleProperty)}(window),function(e){function t(e){"function"==typeof e&&(t.isReady?e():a.push(e))}function n(e){var n="readystatechange"===e.type&&"complete"!==o.readyState;t.isReady||n||r()}function r(){t.isReady=!0;for(var e=0,n=a.length;n>e;e++){var r=a[e];r()}}function i(i){return"complete"===o.readyState?r():(i.bind(o,"DOMContentLoaded",n),i.bind(o,"readystatechange",n),i.bind(e,"load",n)),t}var o=e.document,a=[];t.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],i):"object"==typeof exports?module.exports=i(require("eventie")):e.docReady=i(e.eventie)}(window),function(e){"use strict";function t(e,t){return e[a](t)}function n(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function r(e,t){n(e);for(var r=e.parentNode.querySelectorAll(t),i=0,o=r.length;o>i;i++)if(r[i]===e)return!0;return!1}function i(e,r){return n(e),t(e,r)}var o,a=function(){if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0,r=t.length;r>n;n++){var i=t[n],o=i+"MatchesSelector";if(e[o])return o}}();if(a){var s=document.createElement("div"),c=t(s,"div");o=c?t:i}else o=r;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return o}):"object"==typeof exports?module.exports=o:window.matchesSelector=o}(Element.prototype),function(e,t){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(n,r){return t(e,n,r)}):"object"==typeof exports?module.exports=t(e,require("doc-ready"),require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.docReady,e.matchesSelector)}(window,function(e,t,n){var r={};r.extend=function(e,t){for(var n in t)e[n]=t[n];return e},r.modulo=function(e,t){return(e%t+t)%t};var i=Object.prototype.toString;r.isArray=function(e){return"[object Array]"==i.call(e)},r.makeArray=function(e){var t=[];if(r.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t},r.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},r.removeFrom=function(e,t){var n=r.indexOf(e,t);-1!=n&&e.splice(n,1)},r.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},r.setText=function(){function e(e,n){t=t||(void 0!==document.documentElement.textContent?"textContent":"innerText"),e[t]=n}var t;return e}(),r.getParent=function(e,t){for(;e!=document.body;)if(e=e.parentNode,n(e,t))return e},r.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},r.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.filterFindElements=function(e,t){e=r.makeArray(e);for(var i=[],o=0,a=e.length;a>o;o++){var s=e[o];if(r.isElement(s))if(t){n(s,t)&&i.push(s);for(var c=s.querySelectorAll(t),u=0,l=c.length;l>u;u++)i.push(c[u])}else i.push(s)}return i},r.debounceMethod=function(e,t,n){var r=e.prototype[t],i=t+"Timeout";e.prototype[t]=function(){var e=this[i];e&&clearTimeout(e);var t=arguments,o=this;this[i]=setTimeout(function(){r.apply(o,t),delete o[i]},n||100)}},r.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()};e.console;return r.htmlInit=function(n,i){t(function(){for(var t=r.toDashed(i),o=document.querySelectorAll(".js-"+t),a="data-"+t+"-options",s=0,c=o.length;c>s;s++){var u,l=o[s],d=l.getAttribute(a);try{u=d&&JSON.parse(d)}catch(p){continue}var f=new n(l,u),m=e.jQuery;m&&m.data(l,i,f)}})},r}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(n,r,i,o){return t(e,n,r,i,o)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(e.Outlayer={},e.Outlayer.Item=t(e,e.EventEmitter,e.getSize,e.getStyleProperty,e.fizzyUIUtils))}(window,function(e,t,n,r,i){"use strict";function o(e){for(var t in e)return!1;return t=null,!0}function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}function s(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var c=e.getComputedStyle,u=c?function(e){return c(e,null)}:function(e){return e.currentStyle},l=r("transition"),d=r("transform"),p=l&&d,f=!!r("perspective"),m={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],h=["transform","transition","transitionDuration","transitionProperty"],g=function(){for(var e={},t=0,n=h.length;n>t;t++){var i=h[t],o=r(i);o&&o!==i&&(e[i]=o)}return e}();i.extend(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(e){var t=this.element.style;for(var n in e){var r=g[n]||n;t[r]=e[n]}},a.prototype.getPosition=function(){var e=u(this.element),t=this.layout.options,n=t.isOriginLeft,r=t.isOriginTop,i=e[n?"left":"right"],o=e[r?"top":"bottom"],a=parseInt(i,10),s=parseInt(o,10),c=this.layout.size;a=-1!=i.indexOf("%")?a/100*c.width:a,s=-1!=o.indexOf("%")?s/100*c.height:s,a=isNaN(a)?0:a,s=isNaN(s)?0:s,a-=n?c.paddingLeft:c.paddingRight,s-=r?c.paddingTop:c.paddingBottom,this.position.x=a,this.position.y=s},a.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={},r=t.isOriginLeft?"paddingLeft":"paddingRight",i=t.isOriginLeft?"left":"right",o=t.isOriginLeft?"right":"left",a=this.position.x+e[r];n[i]=this.getXValue(a),n[o]="";var s=t.isOriginTop?"paddingTop":"paddingBottom",c=t.isOriginTop?"top":"bottom",u=t.isOriginTop?"bottom":"top",l=this.position.y+e[s];n[c]=this.getYValue(l),n[u]="",this.css(n),this.emitEvent("layout",[this])},a.prototype.getXValue=function(e){var t=this.layout.options;return t.percentPosition&&!t.isHorizontal?e/this.layout.size.width*100+"%":e+"px"},a.prototype.getYValue=function(e){var t=this.layout.options;return t.percentPosition&&t.isHorizontal?e/this.layout.size.height*100+"%":e+"px"},a.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,r=this.position.y,i=parseInt(e,10),o=parseInt(t,10),a=i===this.position.x&&o===this.position.y;if(this.setPosition(e,t),a&&!this.isTransitioning)return this.layoutPosition(),void 0;var s=e-n,c=t-r,u={};u.transform=this.getTranslate(s,c),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.getTranslate=function(e,t){var n=this.layout.options;return e=n.isOriginLeft?e:-e,t=n.isOriginTop?t:-t,e=this.getXValue(e),t=this.getYValue(t),f?"translate3d("+e+", "+t+", 0)":"translate("+e+", "+t+")"},a.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},a.prototype.moveTo=p?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},a.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},a.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(e),void 0;var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);var r=this.element.offsetHeight;r=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var v="opacity,"+s(g.transform||"transform");a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(m,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},a.prototype.onotransitionend=function(e){this.ontransitionend(e)};var y={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=y[e.propertyName]||e.propertyName;if(delete t.ingProperties[n],o(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd){var r=t.onEnd[n];r.call(this),delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(m,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var b={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(b)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var e=this;this.once("transitionEnd",function(){e.removeElem()}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={},n=this.getHideRevealTransitionEndProperty("visibleStyle");t[n]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},a.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},a.prototype.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={},n=this.getHideRevealTransitionEndProperty("hiddenStyle");t[n]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},a.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,r,i,o,a){return t(e,n,r,i,o,a)}):"object"==typeof exports?module.exports=t(e,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=t(e,e.eventie,e.EventEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,function(e,t,n,r,i,o){"use strict";function a(e,t){var n=i.getQueryElement(e);if(n){this.element=n,s&&(this.$element=s(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t);var r=++u;this.element.outlayerGUID=r,l[r]=this,this._create(),this.options.isInitLayout&&this.layout()}}var s=(e.console,e.jQuery),c=function(){},u=0,l={};return a.namespace="outlayer",a.Item=o,a.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},i.extend(a.prototype,n.prototype),a.prototype.option=function(e){i.extend(this.options,e)},a.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},a.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},a.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,r=[],i=0,o=t.length;o>i;i++){var a=t[i],s=new n(a,this);r.push(s)}return r},a.prototype._filterFindItemElements=function(e){return i.filterFindElements(e,this.options.itemSelector)},a.prototype.getItemElements=function(){for(var e=[],t=0,n=this.items.length;n>t;t++)e.push(this.items[t].element);return e},a.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},a.prototype._init=a.prototype.layout,a.prototype._resetLayout=function(){this.getSize()},a.prototype.getSize=function(){this.size=r(this.element)},a.prototype._getMeasurement=function(e,t){var n,o=this.options[e];o?("string"==typeof o?n=this.element.querySelector(o):i.isElement(o)&&(n=o),this[e]=n?r(n)[t]:o):this[e]=0},a.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},a.prototype._getItemsForLayout=function(e){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n];i.isIgnored||t.push(i)}return t},a.prototype._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){for(var n=[],r=0,i=e.length;i>r;r++){var o=e[r],a=this._getItemLayoutPosition(o);a.item=o,a.isInstant=t||o.isLayoutInstant,n.push(a)}this._processLayoutQueue(n)}},a.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},a.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];this._positionItem(r.item,r.x,r.y,r.isInstant)}},a.prototype._positionItem=function(e,t,n,r){r?e.goTo(t,n):e.moveTo(t,n)},a.prototype._postLayout=function(){this.resizeContainer()},a.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},a.prototype._getContainerSize=c,a.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},a.prototype._emitCompleteOnItems=function(e,t){function n(){i.dispatchEvent(e+"Complete",null,[t])}function r(){a++,a===o&&n()}var i=this,o=t.length;if(!t||!o)return n(),void 0;for(var a=0,s=0,c=t.length;c>s;s++){var u=t[s];u.once(e,r)}},a.prototype.dispatchEvent=function(e,t,n){var r=t?[t].concat(n):n;if(this.emitEvent(e,r),s)if(this.$element=this.$element||s(this.element),t){var i=s.Event(t);i.type=e,this.$element.trigger(i,n)}else this.$element.trigger(e,n)},a.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},a.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},a.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;n>t;t++){var r=e[t];this.ignore(r)}}},a.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,n=e.length;n>t;t++){var r=e[t];i.removeFrom(this.stamps,r),this.unignore(r)}},a.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=i.makeArray(e)):void 0},a.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var n=this.stamps[e];this._manageStamp(n)}}},a.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},a.prototype._manageStamp=c,a.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,i=r(e),o={left:t.left-n.left-i.marginLeft,top:t.top-n.top-i.marginTop,right:n.right-t.right-i.marginRight,bottom:n.bottom-t.bottom-i.marginBottom};return o},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.bindResize=function(){this.isResizeBound||(t.bind(e,"resize",this),this.isResizeBound=!0)},a.prototype.unbindResize=function(){this.isResizeBound&&t.unbind(e,"resize",this),this.isResizeBound=!1},a.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},a.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},a.prototype.needsResizeLayout=function(){var e=r(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},a.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},a.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},a.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},a.prototype.reveal=function(e){this._emitCompleteOnItems("reveal",e);for(var t=e&&e.length,n=0;t&&t>n;n++){var r=e[n];r.reveal()}},a.prototype.hide=function(e){this._emitCompleteOnItems("hide",e);for(var t=e&&e.length,n=0;t&&t>n;n++){var r=e[n];r.hide()}},a.prototype.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},a.prototype.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},a.prototype.getItem=function(e){for(var t=0,n=this.items.length;n>t;t++){var r=this.items[t];if(r.element===e)return r}},a.prototype.getItems=function(e){e=i.makeArray(e);for(var t=[],n=0,r=e.length;r>n;n++){var o=e[n],a=this.getItem(o);a&&t.push(a)}return t},a.prototype.remove=function(e){var t=this.getItems(e);if(this._emitCompleteOnItems("remove",t),t&&t.length)for(var n=0,r=t.length;r>n;n++){var o=t[n];o.remove(),i.removeFrom(this.items,o)}},a.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;n>t;t++){var r=this.items[t];r.destroy()}this.unbindResize();var i=this.element.outlayerGUID;delete l[i],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace)},a.data=function(e){e=i.getQueryElement(e);var t=e&&e.outlayerGUID;return t&&l[t]},a.create=function(e,t){function n(){a.apply(this,arguments)}return Object.create?n.prototype=Object.create(a.prototype):i.extend(n.prototype,a.prototype),n.prototype.constructor=n,n.defaults=i.extend({},a.defaults),i.extend(n.defaults,t),n.prototype.settings={},n.namespace=e,n.data=a.data,n.Item=function(){o.apply(this,arguments)},n.Item.prototype=new o,i.htmlInit(n,e),s&&s.bridget&&s.bridget(e,n),n},a.Item=o,a}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],t):"object"==typeof exports?module.exports=t(require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window,function(e){"use strict";function t(){e.Item.apply(this,arguments)}t.prototype=new e.Item,t.prototype._create=function(){this.id=this.layout.itemGUID++,e.Item.prototype._create.call(this),this.sortData={}},t.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e=this.layout.options.getSortData,t=this.layout._sorters;for(var n in e){var r=t[n];this.sortData[n]=r(this.element,this)}}};var n=t.prototype.destroy;return t.prototype.destroy=function(){n.apply(this,arguments),this.css({display:""})},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):"object"==typeof exports?module.exports=t(require("get-size"),require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window,function(e,t){"use strict";function n(e){this.isotope=e,e&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}return function(){function e(e){return function(){return t.prototype[e].apply(this.isotope,arguments)}}for(var r=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],i=0,o=r.length;o>i;i++){var a=r[i];n.prototype[a]=e(a)}}(),n.prototype.needsVerticalResizeLayout=function(){var t=e(this.isotope.element),n=this.isotope.size&&t;return n&&t.innerHeight!=this.isotope.size.innerHeight},n.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},n.prototype.getSegmentSize=function(e,t){var n=e+t,r="outer"+t;if(this._getMeasurement(n,r),!this[n]){var i=this.getFirstItemSize();this[n]=i&&i[r]||this.isotope.size["inner"+t]}},n.prototype.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},n.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(e,t){function r(){n.apply(this,arguments)}return r.prototype=new n,t&&(r.options=t),r.prototype.namespace=e,n.modes[e]=r,r},n}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):e.Masonry=t(e.Outlayer,e.getSize,e.fizzyUIUtils)}(window,function(e,t,n){var r=e.create("masonry");return r.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},r.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var r=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,o=i/r,a=r-i%r,s=a&&1>a?"round":"floor";o=Math[s](o),this.cols=Math.max(o,1)},r.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},r.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,r=t&&1>t?"round":"ceil",i=Math[r](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var o=this._getColGroup(i),a=Math.min.apply(Math,o),s=n.indexOf(o,a),c={x:this.columnWidth*s,y:a},u=a+e.size.outerHeight,l=this.cols+1-o.length,d=0;l>d;d++)this.colYs[s+d]=u;return c},r.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],n=this.cols+1-e,r=0;n>r;r++){var i=this.colYs.slice(r,r+e);t[r]=Math.max.apply(Math,i)}return t},r.prototype._manageStamp=function(e){var n=t(e),r=this._getElementOffset(e),i=this.options.isOriginLeft?r.left:r.right,o=i+n.outerWidth,a=Math.floor(i/this.columnWidth);a=Math.max(0,a);var s=Math.floor(o/this.columnWidth);s-=o%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var c=(this.options.isOriginTop?r.top:r.bottom)+n.outerHeight,u=a;s>=u;u++)this.colYs[u]=Math.max(c,this.colYs[u])},r.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},r.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},r.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},r}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],t):"object"==typeof exports?module.exports=t(require("../layout-mode"),require("masonry-layout")):t(e.Isotope.LayoutMode,e.Masonry)}(window,function(e,t){"use strict";function n(e,t){for(var n in t)e[n]=t[n];return e}var r=e.create("masonry"),i=r.prototype._getElementOffset,o=r.prototype.layout,a=r.prototype._getMeasurement;n(r.prototype,t.prototype),r.prototype._getElementOffset=i,r.prototype.layout=o,r.prototype._getMeasurement=a;var s=r.prototype.measureColumns;r.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,s.call(this)};var c=r.prototype._manageStamp;return r.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,c.apply(this,arguments)},r}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("fitRows");return t.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth+this.gutter,n=this.isotope.size.innerWidth+this.gutter;0!==this.x&&t+this.x>n&&(this.x=0,this.y=this.maxY);var r={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=t,r},t.prototype._getContainerSize=function(){return{height:this.maxY}},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("vertical",{horizontalAlignment:0});return t.prototype._resetLayout=function(){this.y=0},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,n=this.y;return this.y+=e.size.outerHeight,{x:t,y:n}},t.prototype._getContainerSize=function(){return{height:this.y}},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(n,r,i,o,a,s){return t(e,n,r,i,o,a,s)}):"object"==typeof exports?module.exports=t(e,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):e.Isotope=t(e,e.Outlayer,e.getSize,e.matchesSelector,e.fizzyUIUtils,e.Isotope.Item,e.Isotope.LayoutMode)}(window,function(e,t,n,r,i,o,a){function s(e,t){return function(n,r){for(var i=0,o=e.length;o>i;i++){var a=e[i],s=n.sortData[a],c=r.sortData[a];if(s>c||c>s){var u=void 0!==t[a]?t[a]:t,l=u?1:-1;return(s>c?1:-1)*l}}return 0}}var c=e.jQuery,u=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},l=document.documentElement,d=l.textContent?function(e){return e.textContent}:function(e){return e.innerText},p=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});p.Item=o,p.LayoutMode=a,p.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var e in a.modes)this._initLayoutMode(e)},p.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},p.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),n=0,r=e.length;r>n;n++){var i=e[n];i.id=this.itemGUID++}return this._updateItemsSortData(e),e},p.prototype._initLayoutMode=function(e){var t=a.modes[e],n=this.options[e]||{};this.options[e]=t.options?i.extend(t.options,n):n,this.modes[e]=new t(this)},p.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?(this.arrange(),void 0):(this._layout(),void 0)},p.prototype._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},p.prototype.arrange=function(e){function t(){r.reveal(n.needReveal),r.hide(n.needHide)}this.option(e),this._getIsInstant();var n=this._filter(this.items);this.filteredItems=n.matches;var r=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(t):t(),this._sort(),this._layout()},p.prototype._init=p.prototype.arrange,p.prototype._getIsInstant=function(){var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=e,e},p.prototype._bindArrangeComplete=function(){function e(){t&&n&&r&&i.dispatchEvent("arrangeComplete",null,[i.filteredItems])}var t,n,r,i=this;this.once("layoutComplete",function(){t=!0,e()}),this.once("hideComplete",function(){n=!0,e()}),this.once("revealComplete",function(){r=!0,e()
})},p.prototype._filter=function(e){var t=this.options.filter;t=t||"*";for(var n=[],r=[],i=[],o=this._getFilterTest(t),a=0,s=e.length;s>a;a++){var c=e[a];if(!c.isIgnored){var u=o(c);u&&n.push(c),u&&c.isHidden?r.push(c):u||c.isHidden||i.push(c)}}return{matches:n,needReveal:r,needHide:i}},p.prototype._getFilterTest=function(e){return c&&this.options.isJQueryFiltering?function(t){return c(t.element).is(e)}:"function"==typeof e?function(t){return e(t.element)}:function(t){return r(t.element,e)}},p.prototype.updateSortData=function(e){var t;e?(e=i.makeArray(e),t=this.getItems(e)):t=this.items,this._getSorters(),this._updateItemsSortData(t)},p.prototype._getSorters=function(){var e=this.options.getSortData;for(var t in e){var n=e[t];this._sorters[t]=f(n)}},p.prototype._updateItemsSortData=function(e){for(var t=e&&e.length,n=0;t&&t>n;n++){var r=e[n];r.updateSortData()}};var f=function(){function e(e){if("string"!=typeof e)return e;var n=u(e).split(" "),r=n[0],i=r.match(/^\[(.+)\]$/),o=i&&i[1],a=t(o,r),s=p.sortDataParsers[n[1]];return e=s?function(e){return e&&s(a(e))}:function(e){return e&&a(e)}}function t(e,t){var n;return n=e?function(t){return t.getAttribute(e)}:function(e){var n=e.querySelector(t);return n&&d(n)}}return e}();p.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},p.prototype._sort=function(){var e=this.options.sortBy;if(e){var t=[].concat.apply(e,this.sortHistory),n=s(t,this.options.sortAscending);this.filteredItems.sort(n),e!=this.sortHistory[0]&&this.sortHistory.unshift(e)}},p.prototype._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw new Error("No layout mode: "+e);return t.options=this.options[e],t},p.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},p.prototype._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},p.prototype._manageStamp=function(e){this._mode()._manageStamp(e)},p.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},p.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},p.prototype.appended=function(e){var t=this.addItems(e);if(t.length){var n=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(n)}},p.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){this._resetLayout(),this._manageStamps();var n=this._filterRevealAdded(t);this.layoutItems(this.filteredItems),this.filteredItems=n.concat(this.filteredItems),this.items=t.concat(this.items)}},p.prototype._filterRevealAdded=function(e){var t=this._filter(e);return this.hide(t.needHide),this.reveal(t.matches),this.layoutItems(t.matches,!0),t.matches},p.prototype.insert=function(e){var t=this.addItems(e);if(t.length){var n,r,i=t.length;for(n=0;i>n;n++)r=t[n],this.element.appendChild(r.element);var o=this._filter(t).matches;for(n=0;i>n;n++)t[n].isLayoutInstant=!0;for(this.arrange(),n=0;i>n;n++)delete t[n].isLayoutInstant;this.reveal(o)}};var m=p.prototype.remove;return p.prototype.remove=function(e){e=i.makeArray(e);var t=this.getItems(e);m.call(this,e);var n=t&&t.length;if(n)for(var r=0;n>r;r++){var o=t[r];i.removeFrom(this.filteredItems,o)}},p.prototype.shuffle=function(){for(var e=0,t=this.items.length;t>e;e++){var n=this.items[e];n.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},p.prototype._noTransition=function(e){var t=this.options.transitionDuration;this.options.transitionDuration=0;var n=e.call(this);return this.options.transitionDuration=t,n},p.prototype.getFilteredItemElements=function(){for(var e=[],t=0,n=this.filteredItems.length;n>t;t++)e.push(this.filteredItems[t].element);return e},p}),function(){"use strict";var e,t,n,r={}.hasOwnProperty;e=jQuery,t=function(){function t(t,n){var r;null==n&&(n={}),this.$img=e(t),this.loaded=!1,this.loading=!1,r=e.extend(!0,{},e.bttrlazyloading.constructor.options),this.options=e.extend(!0,r,n),this.breakpoints=e.bttrlazyloading.constructor.breakpoints,this.$container=e(this.options.container),"number"==typeof window.devicePixelRatio&&(this.constructor.dpr=window.devicePixelRatio),this.whiteList=["lg","md","sm","xs"],this.blackList=[],l.call(this),this.$wrapper=e('<span class="bttrlazyloading-wrapper"></span>'),this.options.wrapperClasses&&"string"==typeof this.options.wrapperClasses&&this.$wrapper.addClass(this.options.wrapperClasses),this.$img.before(this.$wrapper),this.$clone=e('<canvas class="bttrlazyloading-clone"></canvas>'),f.call(this),this.$wrapper.append(this.$clone),this.$img.hide(),this.$wrapper.append(this.$img),this.options.backgroundcolor&&this.$wrapper.css("background-color",this.options.backgroundcolor),d.call(this,"on"),setTimeout(function(e){return function(){return p.call(e)}}(this),100)}var n,i,o,a,s,c,u,l,d,p,f;return t.dpr=1,f=function(){var e;return e=i.call(this),this.$clone.attr("width",e.width),this.$clone.attr("height",e.height)},l=function(){var t,n,i,o;i=this.$img.data(),o=[];for(t in i)r.call(i,t)&&(n=i[t],(null==n||0===t.indexOf("bttrlazyloading"))&&(t=t.replace("bttrlazyloading","").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().split("-"),t.length>1?"undefined"!=typeof this.options[t[0]][t[1]]?o.push(this.options[t[0]][t[1]]=n):o.push(void 0):"object"==typeof n?o.push(e.extend(this.options[t[0]],n)):"undefined"!=typeof this.options[t[0]]?o.push(this.options[t[0]]=n):o.push(void 0)));return o},d=function(t){var r,o,a,s;return a=function(e){return function(){return e.$clone.hide(),e.$img.show(),e.$wrapper.addClass("bttrlazyloading-loaded"),e.options.animation&&e.$img.addClass("animated "+e.options.animation),e.loaded=e.$img.attr("src"),e.$img.trigger("bttrlazyloading.afterLoad")}}(this),this.$img[t]("load",a),r=function(e){return function(){var t;return e.loading?void 0:(e.loading=!0,t=i.call(e),e.loaded?(e.$wrapper.removeClass("bttrlazyloading-loaded"),e.options.animation&&e.$img.removeClass("animated "+e.options.animation),e.$img.removeAttr("src"),e.$img.hide(),e.$clone.attr("width",t.width),e.$clone.attr("height",t.height),e.$clone.show()):e.$wrapper.css("background-image","url('"+e.options.placeholder+"')"),setTimeout(function(){return e.$img.trigger("bttrlazyloading.beforeLoad"),e.$img.data("bttrlazyloading.range",t.range),e.$img.attr("src",n.call(e,t.src,t.range)),e.loading=!1},e.options.delay))}}(this),this.$img[t]("bttrlazyloading.load",r),o=function(e){return function(){var t,n;if(n=e.$img.attr("src"),t=e.$img.data("bttrlazyloading.range"),e.constructor.dpr>=2&&e.options.retina&&n.match(/@2x/gi))e.blackList.push(t+"@2x");else if(e.blackList.push(t),e.whiteList.splice(e.whiteList.indexOf(t),1),0===e.whiteList.length)return e.$img.trigger("bttrlazyloading.error"),!1;return e.$img.trigger("bttrlazyloading.load")}}(this),this.$img[t]("error",o),s=function(e){return function(){return p.call(e)}}(this),this.$container[t](this.options.event,s),this.options.container!==window&&e(window)[t](this.options.event,s),e(window)[t]("resize",s)},s=function(){var e;return e=window.innerWidth,e<=this.breakpoints.xs?"xs":this.breakpoints.sm<=e&&e<this.breakpoints.md?"sm":this.breakpoints.md<=e&&e<this.breakpoints.lg?"md":this.breakpoints.lg<=e?"lg":void 0},i=function(){return this.range=s.call(this),a.call(this)},n=function(e,t){return this.constructor.dpr>=2&&this.options.retina&&-1===this.blackList.indexOf(t+"@2x")?e.replace(/\.\w+$/,function(e){return"@2x"+e}):e},o=function(e){return"undefined"!=typeof this.options[e].src&&null!==this.options[e].src?this.options[e]:null},a=function(){var e,t,n,r,i,a;if(e=this.whiteList.indexOf(this.range),e>-1&&(n=o.call(this,this.range)))return n.range=this.range,n;for(a=this.whiteList,e=r=0,i=a.length;i>r;e=++r)if(t=a[e],n=o.call(this,t))return n.range=t,n;return""},c=function(){var t,r,o;return!this.loaded&&this.options.triggermanually?!1:this.loaded&&this.options.updatemanually?!1:(t=i.call(this),t.src&&this.loaded!==n.call(this,t.src,t.range)?(o=0,this.loaded||(o=this.options.threshold),r=u.call(this,e(window),{top:e(window).scrollTop()+o,left:e(window).scrollLeft()}),this.options.container!==window?r&&u.call(this,this.$container,{top:this.$container.offset().top+o,left:this.$container.offset().left}):r):!1)},u=function(e,t){var n;return null==t&&(t={}),t.right=t.left+e.width(),t.bottom=t.top+e.height(),n=this.$wrapper.offset(),n.right=n.left+this.$wrapper.outerWidth(),n.bottom=n.top+this.$wrapper.outerHeight(),!(t.right<n.left||t.left>n.right||t.bottom<n.top||t.top>n.bottom)},p=function(){return this.range!==s.call(this)&&f.call(this),c.call(this)?this.$img.trigger("bttrlazyloading.load"):void 0},t.prototype.get$Img=function(){return this.$img},t.prototype.get$Clone=function(){return this.$clone},t.prototype.get$Wrapper=function(){return this.$wrapper},t.prototype.destroy=function(){return this.$wrapper.before(this.$img),this.$wrapper.remove(),d.call(this,"off"),this.$img.off("bttrlazyloading"),this.$wrapper.removeClass("bttrlazyloading-loaded"),this.options.animation&&this.$img.removeClass("animated "+this.options.animation),this.$img.removeData("bttrlazyloading"),this.$img},t}(),e.fn.extend({bttrlazyloading:function(n){return this.each(function(){var r,i;return r=e(this),i=r.data("bttrlazyloading"),"undefined"==typeof i&&(i=new t(this,n),r.data("bttrlazyloading",i)),"string"==typeof n&&"undefined"!=typeof i[n]?i[n].call(i):void 0})}}),e.fn.bttrlazyloading.Constructor=t,n=function(){function t(){}return t.prototype.version="1.0.8",t.breakpoints={xs:767,sm:768,md:992,lg:1200},t.options={xs:{src:null,width:100,height:100,animation:null},sm:{src:null,width:100,height:100,animation:null},md:{src:null,width:100,height:100,animation:null},lg:{src:null,width:100,height:100,animation:null},retina:!1,animation:"bounceIn",delay:0,event:"scroll",container:window,threshold:0,triggermanually:!1,updatemanually:!1,wrapperClasses:null,backgroundcolor:"#EEE",placeholder:"data:image/gif;base64,R0lGODlhEAALAPQAAP/391tbW+bf3+Da2vHq6l5dXVtbW3h2dq6qqpiVldLMzHBvb4qHh7Ovr5uYmNTOznNxcV1cXI2Kiu7n5+Xf3/fw8H58fOjh4fbv78/JycG8vNzW1vPs7AAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA"},t.prototype.setOptions=function(t){return null==t&&(t={}),e.extend(!0,this.constructor.options,t),this},t.prototype.setRanges=function(t){return null==t&&(t={}),e.extend(!0,this.constructor.breakpoints,t),this},t.prototype.setBreakPoints=function(t){return null==t&&(t={}),e.extend(!0,this.constructor.breakpoints,t),this},t}(),e.bttrlazyloading=new n}.call(this);var s_rc=new TagContainerLoader;s_rc.tagContainerDC="d1",s_rc.tagContainerNamespace="rogerscommunicationspartnership",s_rc.tagContainerName="RogersCommunications",s_rc.loadTagContainer(),function(){"use strict";angular.module("ute.ui").directive("uteContentInjector",["$rootScope","$templateCache","uteContentLoader","$cookies","uteLocale","uteEndpoint",function(e,t,n,r,i,o){return{scope:{localContentId:"@",contentId:"@",compile:"=",province:"@",language:"@"},replace:!0,restrict:"EA",controller:["$scope","$element",function(t,r){var a=!1,s=r[0].offsetWidth;500>=s&&r.addClass("cms-content-width-narrow");var c=function(){a=!a;var e={scope:t,element:r,method:"GET",dataType:"json",fileType:".json",contentId:t.contentId,compile:angular.isDefined(t.compile)&&t.compile||!1,language:t.language||i.language(),province:t.province||i.province(),localContentId:t.localContentId,teamsiteUrl:o("","teamsite")};a?n.makeRequest(e):r.children().children()[0].remove()},u=function(){$(this).toggleClass("active")},l=function(){$("ins").off().on("click",".cms-metadata",u),r.addClass("preloader loading"),e.ute||(e.ute={language:"en",province:"on"}),d(),angular.element(document.getElementById("cms-metadata-toggle")).bind("click",c)},d=function(){var e={scope:t,element:r,method:"GET",dataType:"html",fileType:".html",contentId:t.contentId,compile:angular.isDefined(t.compile)&&t.compile||!1,language:t.language||i.language(),province:t.province||i.province(),localContentId:t.localContentId,teamsiteUrl:o("","teamsite")};n.makeRequest(e)},p=function(e,t){e!==t&&d()};l(),t.$watch("language",p),t.$watch("province",p),t.$watch("contentId",p)}]}}])}(),function(){"use strict";angular.module("ute.ui").factory("uteContentLoader",["$http","uteEndpoint","$compile","moment",function(e,t,n,r){var i={};return i.contentObjects=[],i.localizedUrl=function(e){var t=e.localContentId||e.contentId,n=-1===t.indexOf("intergration")?"_":"-";return t+n+e.language+n+e.province},i.unescapeHTML=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/\\"/g,'"')},i.onCMSLoadSuccess=function(e,t){var o,a=null;if(_.some(i.contentObjects,function(t){return e.rid===t.rid&&e.element===t.element&&(a=e)}),angular.isUndefinedOrNull(a))throw new Error('uteContentLoader error "matchedContent" was not defined');a.compile?(a.element.html(t.data),n(a.element.contents())(a.scope.$parent)):".json"===a.fileType?("undefined"!==e.teamsiteUrl&&(t.data.cmsContentURL=e.teamsiteUrl+t.data.cmsContentURL),a.element.children().prepend('<div class="cms-metadata"><span class="content-url">'+i.path.replace(".json",".html")+'</span><span class="edit-date">'+r().format("MMMM Do YYYY, h:mm:ss a",t.data.editDate)+'</span><span class="version">'+t.data.version+'</span><span class="is-published">'+t.data.is_active+'</span><span class="content-edit-url"><a href="'+t.data.cmsContentURL+'" target="_blank">Edit</a></span></div>')):(o=i.unescapeHTML(t.data),a.element.html(o)),a.element.removeClass("preloader loading")},i.onCMSLoadError=function(e){var t='<div class="col-xs-12 cms-content" style="background-color: #f5f5f5; text-align:center; margin-bottom:25px; margin-top:25px; border:1px dashed #ccc; padding:10px;"><span id="cms-header" style="text-align:center; color:#999;">'+i.localizedUrl(e)+e.fileType+"</span></div>";e.element.removeClass("preloader loading"),e.element.html(t)},i.setOptions=function(e){return e.rid=Math.round(1e3*Math.random()),e.localContentId=angular.isDefined(e.localContentId)?i.localizedUrl(e)+".html":void 0,i.contentObjects.push(e),e},i.makeRequest=function(n){var r=i.setOptions(n);r.fileType=-1===r.contentId.indexOf("intergration")?r.fileType:".xml";var o=r.contentId.split("/"),a=r.contentId.replace(o[o.length-1],"");r.contentId="json"===r.dataType?a+"/json/"+o[o.length-1]:r.contentId,i.path=i.localizedUrl(r)+r.fileType,e({method:r.method,dataType:r.dataType,url:r.localContentId||t(i.path,"cms")}).then(i.onCMSLoadSuccess.bind(i,r),i.onCMSLoadError.bind(i,r))},i}])}(),function(){"use strict";angular.module("ute.ui").constant("PCA_KEY","ND15-HD21-KA99-KT89").constant("uteEnv",function(){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var e={name:"local",apiBaseUrl:"http://ute-qa02.fido.ca:8080/html-fido/",cmsFilesURL:"http://ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/resource/",cmsContentURL:"http://ute-dev02.fido.ca:8080/html-fido/cms/content/ute/fido/views/",apiBasePath:"api/selfserve",custom:{"v2/searchCustomerDetails":"http://localhost:8888/resource/searchCustomerDetails.json","v1/createContact":"http://localhost:8888/resource/createContact.json","v1/creditCheck":"http://localhost:8888/resource/creditCheck.json","v1/createCustomer":"http://localhost:8888/resource/createCustomer.json",fullfillmentOptions:"http://localhost:8888/resource/fulfillmentOptions.json","v1/createFinancialAccount":"http://localhost:8888/resource/createFinancialAccount.json","v1/orderSummary":"http://localhost:8888/resource/orderSummary.json",iptvOffers:"http://localhost:8888/resource/tvPackages.json",getMyTimeSlots:"http://localhost:8888/resource/getMyTimeSlots.json","v1/recommendedPackages":"http://localhost:8888/resource/recommendedPackages.json","v1/cfaInfo":"http://localhost:3000/v1/cfaInfo","v1/hardwareExchange":"http://ute-qa02.fido.ca:9001/html-fido/api/selfserve/v1/hardwareExchange"},semafoneParameters:{en:"",fr:"",semafoneUrl:"https://htsqa03.rogers.com/semafone/service/capture/getSemafoneIMEcommerceFragment.html",semafoneMode:"DISABLED",gatewayId:"CYBERSOURCE",methodId:"TOKENISE",transactionReference:"1234567890",ppUserId:"fido-ca",ppPassword:"MIIBlzCCAQCgAwIBAgIEVOyMQzANBgkqhkiG9w0BAQUFADAOMQwwCgYDVQQDDANUREUwHhcNMTUwMjI0MTQzNTQ3WhcNMjUwMjIxMTQzNTQ3WjASMRAwDgYDVQQDDAdmaWRvLWNhMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDEfWYpQ1DqL90UnuzN4Y5MFqXBxoV%2FMtqfUSHh5EuoWF8cLNA%2FtMAZ8g9db3m29T%2BgdC2Xk%2BkwUOw8r65a9qCf%2FXODAPIhPtAtr64viC2iUiCUmgIqFU9rZw0d2n4g3SRyWPVgFLIHKJRrsT98aB1qMZY7oXFnd6iNWY%2BdWXyZwwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAH1tAqVXyId%2FedKUv8f76cp0ugIutoyJKQ2o5zc%2BUbhXo4fjsyeAPIJ7%2FU6Tg2uTCgaql7d9QHsixjUlXwQv9p%2B8EdfRsGrlUYmws%2BnAdgZ1k0imOMfJzehuyYJMpjozQsKWHFL804ErggcLqayMLkfVGtOm%2FoNpUoxr3Zo9r6Uy",tenantId:"RCI",clientId:"9",accountId:"541",principle:"fidop",licenseCode:"p9UnWrjEfW",transactionType:"GetTokenPan",responseType:"web",responseURL:"https://htsqa03.rogers.com/semafone/service/capture/getSemafoneIMResultsEcommerceFragment.html"}};return"object"!=typeof window.janrain&&(window.janrain={}),"object"!=typeof window.janrain.settings&&(window.janrain.settings={packages:["capture"],language:angular.isDefined(window.__ute)&&angular.isDefined(window.__ute.language)&&"fr"===window.__ute.language?"fr":"en-US",tokenUrl:"http://localhost/",tokenAction:"event",borderColor:"#ffffff",fontFamily:"Helvetica, Lucida Grande, Verdana, sans-serif",width:300,actionText:" ",appUrl:"https://fido-dev.rpxnow.com",capture:{captureServer:"https://rogers-fido-dev.janraincapture.com",appId:"r3jhdpkcm3ggrb2bjuzxewbxsv",clientId:"d2hw34rwwgynjaa3m7kyx7agh5curpc3",redirectUri:"http://localhost:8888/",flowName:"fido",flowVersion:"HEAD",screenToRender:"returnTraditional",registerFlow:"traditionalRegistration",setProfileCookie:!0,keepProfileCookieAfterLogout:!0,modalCloseHtml:"X",noModalBorderInlineCss:!0,responseType:"token",returnExperienceUserData:["displayName","userID","uuid"],federate:!0,federateServer:"https://rogers-fido-dev.janrainsso.com",federateXdReceiver:window.location.origin+"/validate/janrain/xfederate.html",federateLogoutUri:window.location.origin+"/validate/janrain/blank.html",federateLogoutCallback:function(){},federateEnableSafari:!1},ute:{widgetpath:"https:"===document.location.protocol?"https://rpxnow.com/load/fido-dev":"http://widget-cdn.rpxnow.com/load/fido-dev"}}),document.addEventListener?document.addEventListener("DOMContentLoaded",function(){window.janrain.ready=!0},!1):window.attachEvent("onload",function(){window.janrain.ready=!0}),$('<script src="'+window.janrain.settings.ute.widgetpath+'" type="text/javascript" id="janrainAuthWidget"></script>').appendTo("body"),e}())}(),function(){"use strict";angular.module("ute.ui").config(["uteEnv","uteEndpointProvider",function(e,t){t.setBaseUrl(e.apiBaseUrl),t.setCMSContentURL(e.cmsContentURL),t.setBasePath(e.apiBasePath),e.custom&&t.setEndpoints(e.custom)}])}(),function(){"use strict";angular.module("ute.ui").constant("restive",$.restive).directive("uteRestive",["restive",function(e){return{restrict:"AE",scope:{bandwidthSource:"@",speed:"@"},replace:!1,controller:["$scope","$element",function(t,n){var r,i,o=$(n),a=["xs","sm","md","lg","xl","2k","4k","8k"],s=function(){_.each(a,function(e){o.attr("class").indexOf(e)>-1&&(i=e)}),r=e.isPhone()===!0?"xs":i,o.attr("ute-device-orientation",e.getOrientation()).attr("ute-device-platform",e.getPlatform()).attr("ute-device-formfactor",e.getFormFactor()).attr("ute-device-mobile",e.isMobile()).attr("ute-device-resolution",e.getResolution()).attr("ute-device-bandwidth",t.speed||"fast").attr("ute-device-size",r)};e.startMulti(),o.restive({breakpoints:["640","720","960","1024","1280","1920","3840","7680"],classes:["xs","sm","md","lg","xl","2k","4k","8k"],force_dip:!0,onRotate:function(){o.attr("ute-device-orientation",e.getOrientation())},onAddClass:function(){s()}}),o.restive({breakpoints:["800"],classes:["xs"],formfactor:"phone",force_dip:!0,onRotate:function(){o.attr("ute-device-orientation",e.getOrientation())},onAddClass:function(){s()}}),e.endMulti(),s()}]}}])}(),function(){"use strict";angular.module("ute.ui").factory("uteLocale",["$rootScope","$cookies",function(e,t){var n,r,i={},o="ca";return i.language=function(){return n="undefined"!=typeof e.rui&&"undefined"!=typeof e.rui.language?e.rui.language:"undefined"!=typeof e.ute&&"undefined"!=typeof e.ute.language?e.ute.language:"undefined"!=typeof t&&"undefined"!=typeof t.get("language")?t.get("language"):"en"},i.country=function(){return o},i.province=function(){return r="undefined"!=typeof e.rui&&"undefined"!=typeof e.rui.province?e.rui.province:"undefined"!=typeof e.ute&&"undefined"!=typeof e.ute.province?e.ute.province:"undefined"!=typeof t&&"undefined"!=typeof t.get("province")?t.get("province"):"on"},i.locale=function(){return i.language()+"-"+i.country()},i}])}(),function(){"use strict";angular.module("ute.ui").provider("uteEndpoint",function(){this.baseUrl="",this.basePath="",this.cmsContentURL="",this.teamsiteURL="",this.endpoints={},this.setCMSContentURL=function(e){this.cmsContentURL=e},this.setTeamsiteURL=function(e){this.teamsiteURL=e},this.configure=function(e){this.baseUrl=e.baseUrl,this.basePath=e.basePath,this.endpoints=e.endpoints},this.setBaseUrl=function(e){this.baseUrl=e},this.setBasePath=function(e){this.basePath=e},this.setEndpoints=function(e){this.endpoints=e},this.setCMSContentURL=function(e){this.cmsContentURL=e},this.setTeamsiteURL=function(e){this.teamsiteURL=e},this.set=function(e,t){this.endpoints[e]=t},this.$get=function(){var e=this;return function(t,n){if(n&&"cms"===n)return e.cmsContentURL||(e.cmsContentURL=e.baseUrl),e.cmsContentURL+t;if(n&&"teamsite"===n)return e.teamsiteURL+t;if(e.endpoints[t]){var r=e.endpoints[t];return r.match(/^http/)?r:r.match(/^\//)?e.baseUrl+r:e.baseUrl+e.basePath+"/"+r}return t.match(/^\//)?e.baseUrl+t:e.baseUrl+e.basePath+"/"+t}}})}(),function(){"use strict";angular.module("ute.ui").directive("uteHeader",["$rootScope","$http","$compile","uteEndpoint","uteEnv","commonService",function(e,t,n,r,i,o){return{restrict:"AE",scope:!0,replace:!1,controllerAs:"uteHeaderCtrl",templateUrl:"uteHeader/header.html",link:function(a,s,c){if(a.useHref=a.$eval(c.useHref)||!1,a.internetNotificationsCount=0,a.commonService=o,a.$watch(function(){return o.accountDetails},function(e){if(a.accountDetails=e,a.internetNotificationsCount=0,a.internetSubscriberNo=o.internetSubscriberNo,a.internetAccountNumber=o.internetAccountNumber,a.tvSubscriberNo=o.tvSubscriberNo,a.tvAccountNumber=o.tvAccountNumber,a.wirelessSubscriberNo=o.wirelessSubscriberNo,a.wirelessAccountNumber=o.wirelessAccountNumber,a.internetSubscriberNo){var n=r("v1/productNotificationHistory");t.post(n,{accountNumber:a.internetAccountNumber,subscriptionID:a.internetSubscriberNo}).success(function(e){a.internetNotificationsCount=e.getUsageNotifications.notification.length})}},!0),"true"===c.isCms){var u="global/header/header_"+e.rui.language+"_"+e.rui.province+".html",l=i.cmsContentURL+u;t.get(l).success(function(e){s.html(e),n(s.contents())(a)}).error(function(){})}}}}]).factory("commonService",["$http","uteEndpoint","$q","$window","$rootScope","uteJanrainService","uteCoreFactory",function(e,t,n,r,i,o,a){var s={},c={},u=a.collections;s.accountDetails=[],s.samKeys=[],s.loginFrom="",s.accessToken="",s.customerHasWirelessService=!1,s.customerHasInternetService=!1,s.customerHasTVService=!1,s.internetSubscriberNo="",s.internetAccountNumber="",s.tvSubscriberNo="",s.tvAccountNumber="",s.wirelessSubscriberNo="",s.wirelessAccountNumber="";var l=!1;return c.deferred={},c.countJanrainChecks=0,c.logOutJanrain=function(){setTimeout(function(){c.countJanrainChecks+=1,"object"==typeof r.janrain&&"object"==typeof r.janrain.capture&&"object"==typeof r.janrain.capture.ui?1==r.janrain.capture.ui.hasActiveSession()&&r.janrain.capture.ui.endCaptureSession():c.countJanrainChecks<=10&&c.logOutJanrain()},500)},s.logOutUser=function(){u.userInfo={},o.clearLocalStorageValue(),i.payment={},s.resetServiceData(),c.countJanrainChecks=0,c.logOutJanrain()},s.getAccountDetails=function(r,i){if(1==i&&(s.accountDetails=[]),l)return c.deferred.promise;if((s.accountDetails||[]).length>0){var o=n.defer();return setTimeout(function(){o.resolve()},20),o.promise}l=!0;var a=[];return c.deferred=n.defer(),s.accountDetails=[],s.samKeys=[],s.customerHasWirelessService=!1,s.customerHasInternetService=!1,s.customerHasTVService=!1,s.internetSubscriberNo="",s.internetAccountNumber="",s.tvSubscriberNo="",s.tvAccountNumber="",s.wirelessSubscriberNo="",s.wirelessAccountNumber="",_.each(r,function(n){if(n&&n.accountNumber&&"TENTATIVE"!==n.status){var r=e({method:"POST",url:t("v2/accountOverview"),data:{accountNumber:n.accountNumber}});a.push(r)}}),n.all(a).then(function(e){_.each(e,function(e,t){var n={};n.accountNumber=r[t].accountNumber,n.hasInternetTV=!1,n.hasWireless=!1,"Internet/TV"===r[t].serviceName?n.hasInternetTV=!0:"Wireless"===r[t].serviceName&&(n.hasWireless=!0),n.balance=e.data.getAccountInfo.balance,n.paymentDueDate=e.data.getAccountInfo.paymentDueDate,n.LOB=e.data.getAccountInfo.lob,n.nextCycleDueIn=e.data.getAccountInfo.nextCycleDueIn,n.contactEmail=e.data.getAccountInfo.primaryEmailID,n.MOPType=e.data.getAccountInfo.mop,n.subscriberServices=[],n.hasError=e.data.getAccountInfo.error,_.each(e.data.getAccountInfo.subscriberService,function(e){var t={serviceAddress:e.serviceAddress};e&&e.serviceAddress&&e.serviceAddress.samKey&&s.samKeys.push(e.serviceAddress.samKey),_.each(e.service,function(e){"Hi-Speed Internet"===e.serviceName||"HSI"===e.serviceName?(t.internet=e,s.customerHasInternetService=!0,s.internetSubscriberNo=e.subscriberNo,s.internetAccountNumber=n.accountNumber):"IPTV"==e.serviceName?(t.tv=e,s.customerHasTVService=""!==(e.subscriberNo||""),s.tvSubscriberNo=e.subscriberNo,s.tvAccountNumber=n.accountNumber):"CTN"==e.serviceName&&(t.wireless=e,s.customerHasWirelessService=!0,s.wirelessSubscriberNo=e.subscriberNo,s.wirelessAccountNumber=n.accountNumber)}),n.subscriberServices.push(t)}),s.accountDetails.push(n)}),(s.samKeys||[]).length>0&&(u.userPref.samKey=s.samKeys[0]),c.deferred.resolve(),l=!1},function(e){c.deferred.reject(),l=!1,401===e.status&&s.logOutUser()}),0===a.length&&(l=!1,c.deferred.resolve()),c.deferred.promise},s.loadPaymentDetails=function(r){var i=n.defer(),o=[];return _.each(r,function(n){if(n&&n.accountNumber&&"TENTATIVE"!==n.status){var r=e({method:"POST",url:t("v1/billingArrangementData"),data:{billingArrangementId:n.accountNumber}});o.push(r)}}),n.all(o).then(function(e){_.each(e,function(e,t){var n="invoice";"pac"===e.data.methodOfPayment?n="pac":"pacc"===e.data.methodOfPayment?n="pacc":"invoice"===e.data.methodOfPayment&&(n="invoice"),_.each(s.accountDetails,function(e){e.accountNumber==r[t].accountNumber&&(e.MOPType=n)})}),i.resolve()},function(){i.reject()}),i.promise},s.resetServiceData=function(){l=!1,c.countJanrainChecks=0,s.accountDetails=[],s.samKeys=[],s.loginFrom="",s.accessToken="",s.customerHasWirelessService=!1,s.customerHasInternetService=!1,s.customerHasTVService=!1,s.internetSubscriberNo="",s.internetAccountNumber="",s.tvSubscriberNo="",s.tvAccountNumber="",s.wirelessSubscriberNo="",s.wirelessAccountNumber="",u.userPref.samKey="default"},s}])}(),function(){"use strict";angular.module("ute.ui").controller("uteHeaderCtrl",["$scope","$rootScope","$state","$window","uteUserService","uteModal","uteCartManager","uteJanrainService",function(e,t,n,r,i,o,a,s){e.openSearch=function(){o.open({templateUrl:"uteModal/search.html",size:"md",ok:function(){e.modalClickedOk=!0},cancel:function(){e.modalClickedCancel=!0}})},e.getQuantity=a.getQuantity,e.currentRouteName="",e.toggleMobileNav=function(e){e.preventDefault(),t.ruiMethods.toggleMobileMenu()},e.headerTypeClass=function(){return e.headerType},e.login=function(){s.renderLogin()},e.logout=function(){},e.headerType="default",e.$on("rciLoginStatusChange",function(){}),t.$on("$stateChangeSuccess",function(r,i){n.current=i,e.currentRouteName=n.current.name,"cartSummary"===e.currentRouteName&&t.utePopoverScope?t.utePopoverScope.disable():"cartSummary"!==e.currentRouteName&&t.utePopoverScope&&t.utePopoverScope.enable(),e.headerType=-1!==n.current.url.indexOf("profile")?"profile-header":"default"})}])}(),function(){"use strict";angular.module("ute.ui").directive("uteAcknowledge",["$rootScope","$parse",function(e,t){return{restrict:"EA",scope:!0,templateUrl:"uteAcknowledge/acknowledge.html",controller:["$scope","$element","$attrs",function(e,n,r){e.navOffset=r.navOffset,e.contentId=r.contentId,e.buttonText=r.buttonText,e.customClass=r.customClass,e.checkboxText=r.checkboxText,e.trackingId=r.trackingId,e.callback=t(r.callback),e.isSelected=!1;e.accept=function(){angular.isDefined(e.callback)&&e.callback(e)}}]}}])}(),function(){"use strict";angular.module("ute.ui").directive("uteAddressComplete",["$ocLazyLoad","$timeout",function(e,t){return{restrict:"EA",controller:["$scope","$element","$attrs",function(n,r,i){n.lazyLoaded=function(){var e=[{element:r[0],field:"Label"}];try{var o=new pca.Address(e,{key:i.key||"JJ22-BF18-BM96-CT77",culture:i.locale||"en-us",advancedFields:["{StreetNumber}","{StreetName}","{StreetType}","{StreetDirection}","{StreetNumberSuffix}","{StreetPreDirection}","{StreetPostDirection}"],bar:{visible:!1,showCountry:!1,showLogo:!1}});o.listen("populate",function(e){i.callback&&n[i.callback](e)}),o.listen("noresults",function(){i.callbackNotFound&&n[i.callbackNotFound]()}),n.processing?n.processing.loading=!1:t(function(){n.$emit("addressCompleteReady")},0),$(r[0]).attr("autocomplete","off"),$(r[0]).parents().hasClass("modal-dialog")&&($(".pca:first").insertBefore($(r[0])),$(".pca:first").addClass("formodal"))}catch(a){i.callbackError&&n[i.callbackError](a)}},e.load([window.location.protocol+"//ws1.postescanada-canadapost.ca/css/addresscomplete-2.30.min.css",window.location.protocol+"//ws1.postescanada-canadapost.ca/js/addresscomplete-2.30.min.js"]).then(n.lazyLoaded)}]}}])}(),function(){"use strict";angular.module("ute.ui").factory("uteBarOptions",["chartist",function(e){return{axisX:{offset:30,labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,scaleMinSpace:40},axisY:{offset:40,labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,scaleMinSpace:20},width:void 0,height:void 0,high:void 0,low:void 0,chartPadding:5,seriesBarDistance:15,stackBars:!1,horizontalBars:!1,reverseData:!1,classNames:{chart:"ute-ct-chart-bar ct-chart-bar",label:"ute-ct-label ct-label",labelGroup:"ute-ct-labels ct-labels",series:"ute-ct-series ct-series",bar:"ute-ct-bar ct-bar",grid:"ute-ct-grid ct-grid",gridGroup:"ute-ct-grids ct-grids",vertical:"ute-ct-vertical ct-vertical",horizontal:"ute-ct-horizontal ct-horizontal"}}}])}(),function(){"use strict";angular.module("ute.ui").directive("uteChartBadge",function(){return{restrict:"EA",replace:!0,scope:{limitValue:"@"},template:'<div class="badge ute-ct-badge"><p><b>{{limitValue | uteCapacity}}</b><br/> data limit</p></div>'}})}(),function(){"use strict";angular.module("ute.ui").constant("chartist",Chartist).directive("uteChartist",["$compile","chartist","uteLineOptions","uteBarOptions","utePieOptions",function(e,t,n,r,i){return{restrict:"EA",scope:{chartData:"=",chartOptions:"=",chartResponsiveOptions:"=",chartBreakLine:"=",chartShowLimitLine:"=",chartType:"@",onCreated:"&",onFinishedDrawing:"&",onDraw:"&"},replace:!0,template:'<div class="ct-chart ute-chart"></div>',link:function(o,a){o.chart=null,o.chartData=angular.copy(o.chartData),o.chartOptions=angular.copy(o.chartOptions);
var s,c=a[0];if("line"===o.chartType){if(!(angular.isDefined(o.chartData)&&angular.isDefined(o.chartData.labels)&&angular.isDefined(o.chartData.series)))throw angular.isDefined(o.chartData)?new Error("uteChartist error: $scope.chartData is defined but does not have the correct properties: series and labels"):new Error("uteChartist error: $scope.chartData is undefined");var u,l=function(e){return _.reduce(e,function(e,t){var n=angular.isDefined(t.data)?t.data.length:t.length;return n>e?t.data:e},0)};if(null===o.chartData.series||void 0===o.chartData.series)return;if(u=l(o.chartData.series),o.chartBreakLine&&o.chartBreakLine.enabled){var d,p,f,m,h=function(e){return"number"==typeof o.chartBreakLine.breakOn?e<o.chartBreakLine.breakOn:"string"==typeof o.chartBreakLine.breakOn?o.chartBreakLine.breakOn!==o.chartData.labels[e].toLowerCase():!1},g=!0;if(angular.isDefined(o.chartBreakLine.breakOn)){if("number"!=typeof o.chartBreakLine.breakOn&&"string"!=typeof o.chartBreakLine.breakOn)throw new Error("uteChartist error: chartBreakLine.breakOn is not a number or a string, typeof value is: "+typeof o.chartBreakLine.breakOn);d=[],_.each(u,function(e,t){var n=h(t);n&&d.push(e),!n&&g&&(p=t,f=u[t-1],m=e,g=!1,d.push(e))}),o.chartData.series.push({data:d,limitData:{lastValue:m,limitValue:f,index:p,cap:o.chartBreakLine.limit}})}else if(angular.isDefined(o.chartBreakLine.limit)){if("object"!=typeof o.chartBreakLine.limit&&"number"!=typeof o.chartBreakLine.limit)throw new Error("uteChartist error: chartBreakLine.limit is not a object or a string, typeof value is: "+typeof o.chartBreakLine.limit);Array.isArray(o.chartBreakLine.limit)?_.each(o.chartBreakLine.limit.reverse(),function(e){d=[],_.each(u,function(t,n){e>t&&d.push(t),t>=e&&g&&(p=n,f=u[n-1],m=t,g=!1,d.push(t))}),o.chartData.series.push({data:d,limitData:{lastValue:m,limitValue:f,index:p,cap:e}})}):(d=[],_.each(u,function(e,t){e<=o.chartBreakLine.limit&&(d.push(e),f=u[t]),e>=o.chartBreakLine.limit&&g&&(p=t,m=e,g=!1,d.push(e))}),o.chartData.series.push({data:d,limitData:{lastValue:m,limitValue:f,index:p,cap:o.chartBreakLine.limit}}))}}if(o.chartShowLimitLine&&o.chartShowLimitLine.enabled){var v;Array.isArray(o.chartShowLimitLine.limit)?_.each(o.chartShowLimitLine.limit,function(e,t){v=[],_.each(u,function(){v.push(e)}),o.chartData.series.push({data:v,className:"ute-ct-limit-line ute-ct-limit-line-"+(t+1)})}):(v=[],_.each(u,function(){v.push(o.chartShowLimitLine.limit)}),o.chartData.series.push({data:v,className:"ute-ct-limit-line"}))}s=_.defaults({},o.chartOptions,n),s.breakLine=o.chartBreakLine||{},s.showLimitLine=o.chartShowLimitLine||{},o.chart=t.Line(c,o.chartData,s,o.chartResponsiveOptions)}else if("bar"===o.chartType)s=_.defaults({},o.chartOptions,r),o.chart=t.Bar(c,o.chartData,s,o.chartResponsiveOptions);else{if("pie"!==o.chartType)throw new Error("uteChartist error: unknown chartType, must be 'line', 'bar' or 'pie'");s=_.defaults({},o.chartOptions,i),o.chart=t.Pie(c,o.chartData,s,o.chartResponsiveOptions)}o.chart.on("created",function(){if(o.chartShowLimitLine&&o.chartShowLimitLine.showLabel&&o.chartShowLimitLine.showLabel.enabled){var t,n,r=o.chartShowLimitLine.showLabel.template,i=$(a).find(".ute-ct-limit-line"),s=e(r),c=$(s(o));c.addClass("ute-limit-line-badge"),n=$(a).find("svg"),n.css({top:0,left:0}),t=n.parent(),t.css({position:"relative"}),0===$(a).find(".badge.ute-ct-badge").length&&t.before(c),c.css({position:"absolute",left:0-i.outerWidth()+45,top:i.position().top+c.height()})}if(angular.isDefined(o.onCreated)){var u=o.onCreated();"function"==typeof u&&u(o.chart)}o.chart.eventEmitter.emit("finishedDrawing")}),o.chart.on("draw",function(e){if(angular.isDefined(o.onDraw)){var t=o.onDraw();"function"==typeof t&&t(e)}}),o.chart.on("finishedDrawing",function(){if(angular.isDefined(o.onFinishedDrawing)){var e=o.onFinishedDrawing();"function"==typeof e&&e()}})}}}])}(),function(){"use strict";angular.module("ute.ui").constant("uteLineOptions",function(e){return{axisX:{offset:30,labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop},axisY:{offset:40,labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,scaleMinSpace:20},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,allowVariableDataLengths:!1,lineSmooth:!0,low:void 0,high:void 0,chartPadding:5,fullWidth:!1,reverseData:!1,classNames:{chart:"ute-ct-chart-line ct-chart-line",label:"ute-ct-label ct-label",labelGroup:"ute-ct-labels ct-labels",series:"ute-ct-series ct-series",line:"ute-ct-line ct-line",point:"ute-ct-point ct-point",area:"ute-ct-area ct-area",grid:"ute-ct-grid ct-grid",gridGroup:"ute-ct-grids ct-grids",vertical:"ute-ct-vertical ct-vertical",horizontal:"ute-ct-horizontal ct-horizontal"}}})}(),function(){"use strict";angular.module("ute.ui").constant("utePieOptions",function(e){return{width:void 0,height:void 0,chartPadding:5,classNames:{chart:"ute-ct-chart-pie",series:"ute-ct-series ct-series",slice:"ute-ct-slice ct-slice",donut:"ute-ct-donut ct-donut",label:"ute-ct-label ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelInterpolationFnc:e.noop,labelDirection:"neutral",reverseData:!1}})}(),function(){"use strict";angular.module("ute.ui").directive("uteCurrency",["$http","$rootScope","$filter","$sce","$translate","uteLocale",function(e,t,n,r,i,o){return{scope:{fontSize:"@",price:"@",frequency:"@",tax:"=",showCents:"@"},transclude:!1,replace:!0,template:'<span ng-style="{fontSize: fontSize};"><ins ng-bind-html="currencyValue"></ins></span>',restrict:"EA",link:function(e){e.fontSize=e.fontSize||"5rem";var t=function(t){var n="<sup>$</sup>",a="",s="",c=function(){e.centsClass="false"===e.showCents?"hidden":"";var i=t.toString().replace("$","").split(".");e.currencyValue=r.trustAsHtml(n+i[0]+'<sup class="'+e.centsClass+'">.'+i[1]+"</sup>"+a+s)},u=function(){var i=t.toString().replace("$","").split(",");e.currencyValue=r.trustAsHtml(i[0]+'<sup class="'+e.centsClass+'">,'+i[1]+"</sup>"+n+a+s)};e.getCurrencyValue=function(){if(e.tax){var t=parseFloat(e.tax);if(t&&_.isNumber(t))a='<span class="plux-tax-text">+'+t.toFixed(2).toString()+"</span>";else{var n="en"===o.language()?"+ taxes":"+ taxes";a='<span class="plux-tax-text">'+n+"</span>"}}"en"===o.language()?c():"fr"===o.language()?u():c()},e.frequency?(i.use(o.language()),i(e.frequency).then(function(t){s="<sub>"+t+"</sub>",e.getCurrencyValue()})):e.getCurrencyValue()};e.$watch(function(){var t=Number(e.price.replace("$",""));return e.price=isNaN(t)?"$0.00":e.price,e.price=e.price.replace("$","").toString(),n("currency")(e.price,"$")},function(e){t(e)})}}}])}(),function(){"use strict";angular.module("ute.ui").directive("uteDatePicker",function(){return{scope:{endDate:"=",ngModel:"=",navigate:"=",preSelectDate:"@"},transclude:!0,template:'<i class="ute-icon-calendar ute-xl" show-button-bar="false" datepicker-popup="{{format}}" ng-click="open($event)" ng-model="ngModel" is-open="opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions"></i>',restrict:"E",controller:["$scope",function(e){e.open=function(t){t.preventDefault(),t.stopPropagation(),e.opened=!0},e.ngModel=e.preSelectDate||moment().format(),e.clear=function(){e=null},e.toggleMin=function(){e.minDate=e.minDate?null:moment().format()},e.toggleMin(),e.maxDate=moment().add(e.endDate,"d"),e.dateOptions={formatYear:"yy",startingDay:1,maxMode:"day",showWeeks:!1},e.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],e.format=e.formats[0]}]}})}(),function(){"use strict";angular.module("ute.ui").directive("uteGlobalMessage",function(){return{restrict:"E",transclude:!0,scope:{globalMessage:"@"},template:'<div class="alert alert-{{globalMessageObj.type}}"><div><i class="{{iconType}}"></i></div><div><h4><ins translate="{{globalMessageObj.title}}"></ins></h4><ins translate="{{globalMessageObj.code}}"></ins></div></div>',controller:["$scope",function(e){if(""!==e.globalMessage)switch(e.globalMessageObj=JSON.parse(e.globalMessage),e.globalMessageObj.type){case"success":e.iconType="ute-icon-check";break;case"error":case"warning":case"danger":e.iconType="ute-icon-error";break;case"info":e.iconType="ute-icon-info"}}]}})}(),function(){"use strict";angular.module("ute.ui").directive("uteImg",["restive",function(e){return{restrict:"AE",scope:{uteImg:"@",size:"@",prefix:"@",suffix:"@"},replace:!0,link:function(t,n){t.suffix=t.suffix||"",t.prefix=t.prefix||"",t.size=t.size||"",t.suffix="_square2"===t.suffix?"_square":t.suffix;var r,i=t.uteImg.substring(t.uteImg.lastIndexOf("/")+1),o=t.uteImg.substring(0,t.uteImg.lastIndexOf("/")+1),a=t.uteImg.split(".").pop(),s=i.substring(0,i.lastIndexOf("."));t.size=t.size||"",t.size=e.isRetina()===!0?"x2":t.size,r=o+t.prefix+s+t.suffix+t.size+"."+a,n.attr("class","bttrlazyloading"),n.attr("data-bttrlazyloading-sm-src",r),$(".bttrlazyloading").bttrlazyloading({animation:null})}}}])}(),function(){"use strict";angular.module("ute.ui").directive("uteIptvWhatyoulove",["$http","$timeout","uteEndpoint",function(e,t,n){return{restrict:"AE",scope:{imageFolder:"@",jsonSource:"@",ratioOdds:"@",data:"@",selectedShows:"=shows",selectedChannels:"=channels"},replace:!1,templateUrl:function(e,t){return t.templateUrl||"modules/tv/views/iptv.html"},controller:["$scope","$element",function(r){var i=r.jsonSource||n("v1/endeca/proxy/what-you-love?N=0&Nr=AND(Language_D:en,Record_Type:Shows)");r.imgList=["//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/TWDS4_CC.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/revolution.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/arrow.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/the-flash.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/breaking-bad.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/fringe.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/daredevil.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/falling-skies.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/vikings.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/the-100.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/brooklyn-99.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/the-big-bang-theory.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/game-of-thrones.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/simpsons.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/family-guy.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/castle.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/modern-family.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/mad-men.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/orphan-black.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/true-detective.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/grimm.jpeg"];var o={square:40,square2:10,portrait:20,landscape:30},a=r.ratioOdds||o;r.getRandomRatio=function(){var e=Math.round(100*Math.random()),t=0,n="";return _.each(a,function(r,i){var o=t;t+=r,e>=o&&t>e&&(n=i)}),n},r.getChannelName=function(e){for(var t in e)if(e.hasOwnProperty(t))return t},r.select=function(e){r.selected=e},r.isActive=function(e){return r.selected===e},r.$watch("selectedShows",function(e){r.selectedChannels=_.groupBy(_.without(e,void 0,!1,null),"channel"),r.channelCount=_.size(r.selectedChannels)},!0),r.folder=r.imageFolder||"resource/iptv/";var s=function(e){r.channelsList=_.map(e.data.mainContent[0].contents[0].records,function(e){return e.attributes.ChannelCallLetter_P?{channel:e.attributes.ChannelCallLetter_P[0],tvShow:e.attributes.ShowName_P[0],description:e.attributes.Show_ShortDescription_P[0],ratio:$.restive.isPhone()===!0||$.restive.getViewportW()<600?"square":r.getRandomRatio()}:void 0}),t(function(){$(".grid").isotope({layoutMode:"packery",itemSelector:".grid-item"})},500),r.$emit("uteIptvWhatyouloveRequestData",{loading:!1,loadError:!1})},c=function(){r.$emit("uteIptvWhatyouloveRequestData",{loading:!1,loadError:!0})};e.get(i).then(s,c)}]}}])}(),function(){"use strict";angular.module("ute.ui").directive("utePermission",["utePermissionManager","$rootScope","$compile","$animate",function(e,t,n,r){var i=function(t,n,i,o,a){var s=function(){e.getPermissionById(i.utePermission)===e.permissionsStatuses.HIDDEN||a(function(e){r.enter(e,n.parent(),n)})};t.$watch(function(){return e.utePermissions},function(){angular.isUndefinedOrNull(e.utePermissions)||s()})},o=function(n,r,i){var o;n.init=function(){e.permissionsLoaded?n.permissionsReady(null,e.utePermissions):o=t.$on(e.events.PERMISSION_DATA_READY,n.permissionsReady)},n.permissionsReady=function(){angular.isDefined(o)&&o()},e.getPermissionById(i.utePermission)!==e.permissionsStatuses.HIDDEN&&n.init()},a={};return a.multiElement=!0,a.transclude="element",a.priority=1210,a.terminal=!0,a.restrict="A",a.controller=o,a.link=i,a}]).directive("utePermission",["$parse","$compile","utePermissionManager",function(e,t,n){var r=function(e,t,r){if(n.getPermissionById(r.utePermission)===n.permissionsStatuses.DISPLAY){var i=function(e){var t=[];return e.replace(/(?:\$?[\w]+?\((?:.+?)??\))/gi,function(e){return t.push(e.slice(0,e.indexOf("("))),"null"}),t},o=function(t,n){if($(n).hasAttr("ng-click")){var r=i($(n).attr("ng-click"));$(n).removeAttr("ng-click"),_.each(r,function(t){angular.isUndefinedOrNull(e[t])||(e[t]=null)})}$(n).attr("disabled","disabled"),$.each($(n).children(),o)};$.each($(t).children(),o),$(t).append('<div class="ute-disabled"></div>')}},i={};return i.multiElement=!0,i.priority=1205,i.restrict="A",i.link=r,i}])}(),function(){"use strict";angular.module("ute.ui").factory("utePermissionManager",["$rootScope","$http","$log","$q",function(e,t,n,r){var i={};return i.utePermissions=null,i.permissionsStatuses={HIDDEN:"N",DISPLAY:"D",ENABLE:"E"},i.defaultPermissionsMap=[{id:"0",permission:i.permissionsStatuses.HIDDEN},{id:"1",permission:i.permissionsStatuses.DISPLAY},{id:"2",permission:i.permissionsStatuses.ENABLE}],i.getPermissionById=function(e){var t=null;return _.some(i.defaultPermissionsMap,function(n){return e===n.id?(t=n.permission,!0):void 0}),angular.isDefined(t)?t:i.permissionsStatuses.HIDDEN},i.permissionsLoaded=!1,i.events={PERMISSION_DATA_READY:"PERMISSION_DATA_READY"},i.nameSpace=null,i.requestPermissionJSON=function(o){angular.isUndefinedOrNull(o)&&new Error("utePermissionManager: you must specify a valid path to a json file containing tagging id information");var a=r.defer();return t.get(o).then(function(t){i.utePermissions=t.data,i.defaultPermissionsMap=[],_.each(i.utePermissions.permissions,function(e,t){i.defaultPermissionsMap.push({id:t,permission:e})}),e.$emit(i.events.PERMISSION_DATA_READY,i.utePermissions),i.permissionsLoaded=!0,a.resolve(i.utePermissions)},function(e){n.warn("could not load json file:",e)}),a.promise},i.init=function(t){var n=r.defer();return angular.isUndefinedOrNull(i.utePermissions)?i.requestPermissionJSON(t).then(function(){n.resolve(i.utePermissions)}):(e.$emit(i.events.PERMISSION_DATA_READY,i.utePermissions),n.resolve(i.utePermissions)),n.promise},i}])}(),function(){"use strict";angular.module("ute.ui").directive("utePopover",["$compile","$timeout","$document","$window","utePopoverFactory",function(e,t,n,r,i){return{restrict:"EA",scope:{popoverContent:"@",popoverBackdrop:"=",popoverClass:"@",popoverTarget:"@",popoverCloseTarget:"@",popoverPlacement:"@",popoverRemoveSelf:"=",popoverInsertMode:"@",popoverArrowPadding:"@"},controller:["$scope","$element",function(o,a){var s=o.popoverInsertMode||"append";o.popoverClass=o.popoverClass||"",o.popoverPlacement=o.popoverPlacement||"bottom";var c=o.popoverArrowPadding||10;o.show=function(){C||(n.find("popover.active")&&n.find("popover.active").removeClass("active"),_=!0,angular.isDefined(o.popoverTarget)&&(u||S)?p=$(o.popoverTarget):angular.isDefined(o.popoverTarget)||!u&&!S||(p=$(a)),S=!1,A(),angular.isDefined(o.popoverCloseTarget)&&(o.$closeTarget=$(o.popoverCloseTarget),o.$closeTarget.on("click",o.hide)),l&&($("#backdrop").length||(angular.isDefined(o.popoverTarget)?$(o.popoverTarget).parent().after(y):a.parent().after(y)),d=d||$("#backdrop"),d.addClass("active"),d.css({zIndex:10}),d.one("click",o.hide)),p.css({position:"relative",zIndex:201}),k(m,w,p),w.addClass("active"),w.css({zIndex:202,position:"absolute"}),i.pushCurrentPopover(o))},o.hide=function(){C||(_=!1,w.removeClass("active"),u&&w.remove(),d=d||n.find("#backdrop"),d.removeClass("active"),t(function(){a.one("click",function(){o.show()})},0),p&&p.css({zIndex:0}),w&&w.css({zIndex:0}),i.popCurrentPopover(o))},o.disable=function(){C=!0,o.hide(),a.css({cursor:"auto"})},o.enable=function(){C=!1,I(),a.css({cursor:"pointer"})};var u,l,d,p,f={placement:o.popoverPlacement,animation:!1,appendToBody:!1,popupDelay:0},m=f.placement,h=/\.(html)$/i.test(o.popoverContent),g=h?"<div class='popover-content' ng-include='popoverContent'></div>":o.popoverContent,v='<div class="popover ute-popover" ng-class="{ in: isOpen(), fade: animation() }">\n<div class="arrow"></div>\n<div class="popover-inner">\n<h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n'+g+"</div>\n</div>\n</div>\n",y='<div id="backdrop" class="backdrop ute-backdrop"></div>',b=e(v),w=$(b(o)),_=!1,S=!0,C=!1,k=function(e,t,n){if(o.popoverArrowPadding=o.popoverArrowPadding||10,"bottom"===e)t.css({top:0+n.outerHeight()-1+c,bottom:"auto",left:n.outerWidth()/2-t.outerWidth()/2,right:"auto"});else if("top"===e)t.css({top:0-t.outerHeight()-1-c,bottom:"auto",left:n.outerWidth()/2-t.outerWidth()/2,right:"auto"});else if("left"===e)t.css({top:0-t.outerHeight()/2+n.outerHeight()/2,bottom:"auto",left:"auto",right:0+n.outerWidth()+9-c});else{if("right"!==e)throw new Error("utePopover: positionPopover method --> placement: is undefined");t.css({top:0-t.outerHeight()/2+n.outerHeight()/2,bottom:"auto",left:0+n.outerWidth()-2+c,right:"auto"})}},A=function(){if("replace"===s)p.html(w);else if("append"===s)p.append(w);else{if("after"!==s)throw p.after(w),new Error("utePopover: unknown insert mode string: "+s+" --> $scope.popoverInsertMode should be replace, append or after, defaulting to after method");p.after(w)}},I=function(){if(!r.jQuery||!r.$)throw new Error("utePopover error: JQuery ($) is not defined, please add JQuery source to the HTML page");w.addClass(m),w.addClass(o.popoverClass),u=o.popoverRemoveSelf||!1,l=o.popoverBackdrop||!0,o.popoverCloseTarget?a.one("click",function(){o.show()}):a.on("click",function(e){e.target===this&&(_=!_,_?o.show():o.hide())})};I()}]}}])}(),function(){"use strict";angular.module("ute.ui").factory("utePopoverFactory",function(){var e={utePopoverScopes:[],popCurrentPopover:function(t){e.utePopoverScopes=e.utePopoverScopes||[],_.each(e.utePopoverScopes,function(n,r){angular.equals(t,n)&&e.utePopoverScopes.slice(r,1)})},pushCurrentPopover:function(t){e.utePopoverScopes=e.utePopoverScopes||[],e.utePopoverScopes.push(t)},hideAllOpenPopovers:function(){_.each(e.utePopoverScopes,function(e){e.hide()}),e.utePopoverScopes=[]},showAllOpenPopovers:function(){_.each(e.utePopoverScopes,function(e){e.show()})}};return e})}(),function(){"use strict";angular.module("ute.ui").directive("uteTable",["$http","$filter","ngTableParams",function(e,t,n){return{restrict:"EA",scope:{tableData:"=",footerData:"=",language:"@",itemsPerPage:"=",initialSort:"@",order:"@",tableTemplateFolder:"@"},transclude:!0,templateUrl:function(e,t){var n=t.tableTemplateFolder||"views/uteTable/";return n+t.tableBodyTemplate+".html"},link:function(e){var r=function(r){if(angular.isDefined(r)){e.tableParams=new n({page:1,count:e.itemsPerPage>=0?e.itemsPerPage:1e3,sorting:{}},{counts:[],total:r.length,getData:function(e,n){var i=n.sorting()?t("orderBy")(r,n.orderBy()):r;e.resolve(i.slice((n.page()-1)*n.count(),n.page()*n.count()))}});var i=e.order||"desc";e.tableParams.$params.sorting[e.initialSort]=i,e.tableParams.count(e.itemsPerPage>=0?e.itemsPerPage:1e3),e.tableParams.reload()}};e.$watch("tableData",r)}}}])}(),function(){"use strict";angular.module("ute.ui").directive("uteTracking",["$rootScope","uteTrackingManager","$log","$window","$location",function(e,t,n){return{restrict:"AE",scope:!0,priority:1600,controller:["$scope","$element","$attrs",function(r,i,o){r.uteTracking=o.uteTracking,r.trackOptions=r.$eval(o.trackOptions)||{},r.$watch(o.trackOptions,function(e,t){t!==e&&(r.trackOptions=r.$eval(o.trackOptions),"pageload"===r.type&&r.sendPageLoadEvent())},!0);var a;r.init=function(){t.tagsLoaded?r.tagsReady(null,t.uteTags):a=e.$on(t.events.TAG_DATA_READY,r.tagsReady)},r.sendPageLoadEvent=function(){return t.sendPageLoadEvent({trackingId:r.uteTracking,overrideParams:r.trackOptions})},r.sendClickEvent=function(){return t.sendClickEvent({trackingId:r.uteTracking,overrideParams:r.trackOptions})},r.prepareEvents=function(){if("click"===r.type)if("A"===i[0].tagName){if(angular.isDefined(o.href)){{var e;o.href}i.on("click",function(t){e=t,r.sendClickEvent()})}}else"SELECT"===i[0].tagName?$(i).on("change",function(){var e=$(i).find("option:selected").text().toCamelCase(),n=t.getProp(r.uteTracking).data;r.selectedOption={},_.each(n,function(t,n){var i=/(<([^>]+)>)/g.test(t.toString());r.selectedOption[n]=i?t.toString().replace(/(<([^>]+)>)/g,function(){return e}):e}),r.sendClickEvent()}):i.on("click",function(){r.sendClickEvent()});else"pageload"===r.type&&r.$watch(function(){return $(i).is(":visible")},function(){$(i).is(":visible")&&r.sendPageLoadEvent()})},r.tagsReady=function(e,i){return r.tagObject=i,r.type=t.getType(r.uteTracking),r.selectedProp=t.getProp(r.uteTracking),angular.isUndefinedOrNull(r.type)?(n.warn("uteTracking error: type does not exist, is it a click or pageload type"),void 0):angular.isUndefinedOrNull(r.selectedProp)?(n.warn("uteTracking error: "+r.uteTracking+" does not exist, please look at the source tags JSON file and make sure the ID is an exact match"),void 0):(r.prepareEvents(),angular.isDefined(a)&&a(),void 0)},r.init()}]}}])}(),function(){"use strict";angular.module("ute.ui").factory("uteTrackingManager",["$rootScope","uteLocale","$http","$log","$window","$document","$interval","$state","$q",function(e,t,n,r,i,o,a,s,c){var u={};return u.uteTags=null,u.maxRetries=3,u.interval=null,u.tagsLoaded=!1,u.defaultProps={pageURL:"prop17",stateName:"prop20",idName:"prop29",province:"prop34",language:"prop35"},u.events={TAG_DATA_READY:"TAG_DATA_READY"},u.trackingTypes={CLICK:"click",PAGELOAD:"pageload"},u.nameSpace=null,u.omni=null,u.sendClickEvent=function(e){var n=c.defer();return u.interval=a(function(){if(u.omni=i.s,angular.isDefined(u.omni&&u.omni.tl)){angular.isDefined(e.element)&&(0===$(e.element).length&&r.warn("uteTrackingManager.sendClickEvent --> could not find element property"),$(e.element).attr("ute-tracking",e.trackingId));var c=u.getProp(e.trackingId),l=_.defaults({},e.overrideParams,c.data);l[u.defaultProps.stateName]=s.current.name,l[u.defaultProps.idName]=e.trackingId,l[u.defaultProps.pageURL]=i.location&&i.location.href?i.location.href:o.URL,l[u.defaultProps.province]=t.province(),l[u.defaultProps.language]=t.language(),l.linkTrackVars=_.keys(l).join(),u.omni.tl(u.omni,"o",e.trackingId,l),a.cancel(u.interval),n.resolve()}},0,u.maxRetries),n.promise},u.sendPageLoadEvent=function(e){var n=c.defer();return u.interval=a(function(){if(u.omni=i.s,angular.isDefined(u.omni&&u.omni.t)){angular.isDefined(e.element)&&(0===$(e.element).length&&r.warn("uteTrackingManager.sendPageLoadEvent --> could not find element property"),$(e.element).attr("ute-tracking",e.trackingId));var c=u.getProp(e.trackingId),l=_.defaults({},e.overrideParams,c.data);l[u.defaultProps.stateName]=s.current.name,l[u.defaultProps.idName]=e.trackingId,l[u.defaultProps.pageURL]=i.location&&i.location.href?i.location.href:o.URL,l[u.defaultProps.province]=t.province(),l[u.defaultProps.language]=t.language(),l.linkTrackVars=_.keys(l).join(),u.omni.t(l),a.cancel(u.interval),n.resolve(u.uteTags)}},100,u.maxRetries),n.promise},u.requestTagJSON=function(t){angular.isUndefinedOrNull(t)&&new Error("uteTrackingManager: you must specify a valid path to a json file containing tagging id information");var i=c.defer();return n.get(t).then(function(t){if(angular.isUndefinedOrNull(u.nameSpace))u.uteTags=t.data;else{var n=u.nameSpace.split(","),r={};_.each(n,function(e){t.data[e]&&(r[e]=t.data[e])}),u.uteTags=r}e.$emit(u.events.TAG_DATA_READY,u.uteTags),u.tagsLoaded=!0,i.resolve(u.uteTags)},function(e){r.warn("could not load json file:",e)}),i.promise},u.getType=function(e){return-1!==e.indexOf("pageload")?"pageload":-1!==e.indexOf("click")?"click":null},u.getProp=function(e){var t,n=!1;return _.some(u.uteTags,function(r){return _.some(r,function(r){return _.some(r,function(r,i){return i===e?(t=r,n=!0,!0):void 0}),n}),n}),t},u.init=function(t,n){var r=c.defer();return u.omni=i.s,u.nameSpace=n,null===u.uteTags?u.requestTagJSON(t).then(function(){r.resolve()}):(e.$emit(u.events.TAG_DATA_READY,u.uteTags),r.resolve()),r.promise},u}])}(),function(){"use strict";angular.module("ute.ui").factory("uteCartManager",["$rootScope","$q","$state","$http","uteModal","uteEndpoint","uteEnv","uteCoreFactory",function(e,t,n,r,i,o,a,s){var c=s.collections,u={};return u.STATUS={N_A:"N_A",AVAILABLE:"AVAILABLE",SELECTED:"SELECTED",IN_CART:"IN_CART",REMOVED:"REMOVED"},u.EVENTS={ADDED_TO_CART:"ADDED_TO_CART",REMOVE_FROM_CART:"REMOVE_FROM_CART",CART_CLEARED:"CART_CLEARED"},u.getQuantity=function(){return e.shoppingCart&&e.shoppingCart.quantity?e.shoppingCart.quantity:0},u.validate=function(){var e=t.defer();return r({url:o("shoppingCart"),method:"POST",params:{actionType:"validateCart",userId:c.atg.userId.value,samKey:c.userPref.samKey,hashKey:c.atg.hashKey.value}}).then(function(t){e.resolve(t)},function(){e.reject()}),e.promise},u.cleanCart=function(n){var i=t.defer();return this.getQuantity()>0?r({url:o("shoppingCart"),method:"POST",params:{actionType:"clean",province:c.userPref.province,samKey:c.userPref.samKey},cache:!1}).then(function(t){(angular.isUndefined(n)||n===!1)&&(e.shoppingCart=t.data.shoppingCart),i.resolve(t)},function(){i.reject()}):i.resolve({}),i.promise},u.addMeta=function(n,r){var i=t.defer();return e.shoppingCart||i.reject(),r?(_.extend(e.shoppingCart[c.userPref.language].services[r],n),_.isMatch(e.shoppingCart[c.userPref.language].services[r],n)?i.resolve(!0):i.reject()):(_.extend(e.shoppingCart,n),_.isMatch(e.shoppingCart,n)?i.resolve(!0):i.reject()),i.promise},u.removeMeta=function(n,r){var i=t.defer();return e.shoppingCart||i.reject(),r?(e.shoppingCart[c.userPref.language].services[r]=_.omit(e.shoppingCart[c.userPref.language].services[r],n),i.resolve(!0)):(e.shoppingCart=_.omit(e.shoppingCart,n),i.resolve(!0)),i.promise},u.internet={stockInternetTierToCart:function(t){e.shoppingCart=t,e.shoppingCart&&e.shoppingCart[c.userPref.language]&&e.shoppingCart[c.userPref.language].services&&e.shoppingCart[c.userPref.language].services.internet&&e.shoppingCart[c.userPref.language].services.internet.tier&&e.shoppingCart[c.userPref.language].services.internet.tier.length>0&&e.shoppingCart[c.userPref.language].services.internet.tier[0].products&&e.shoppingCart[c.userPref.language].services.internet.tier[0].products.length>0&&(e.shoppingCart[c.userPref.language].services.internet.tier[0].selectedOffer=e.shoppingCart[c.userPref.language].services.internet.tier[0].products[0].offers[0],e.shoppingCart[c.userPref.language].services.internet.tier[0].selectedOffer.tierId=e.shoppingCart[c.userPref.language].services.internet.tier[0].tierId,e.shoppingCart[c.userPref.language].services.internet.tier[0].selectedOffer.productId=e.shoppingCart[c.userPref.language].services.internet.tier[0].products[0].id)},tierInCart:function(){if(u.getQuantity()>0&&e.shoppingCart&&e.shoppingCart[c.userPref.language]&&e.shoppingCart[c.userPref.language].services&&e.shoppingCart[c.userPref.language].services.internet&&e.shoppingCart[c.userPref.language].services.internet.tier&&e.shoppingCart[c.userPref.language].services.internet.tier.length>0){var t=e.shoppingCart[c.userPref.language].services.internet.tier[0];if(t.selectedOffer)return t;if(t.products&&t.products.length>0){t.offers=[];for(var n,r=0;n=t.products[r];r++)for(var i,o=0;i=n.offers[o];o++)i.productId=n.id,i.tierId=t.tierId,t.offers.push(i);return t.selectedOffer=t.offers[0],t}return!1}return!1},swapOffers:function(e,n,r,a,s,l){var d=t.defer();return i.processRequest({request:{url:o("shoppingCart"),method:"POST",params:{actionType:"addAndRemove",province:c.userPref.province,samKey:c.userPref.samKey,tierIdIn:e,productIdIn:n,offerIdIn:r,tierIdOut:a,productIdOut:s,offerIdOut:l,userId:c.atg.userId.value,hashKey:c.atg.hashKey.value},cache:!1}}).then(function(e){u.internet.stockInternetTierToCart(e.shoppingCart),d.resolve(e)},function(){d.reject()}),d.promise},removeOffer:function(e,n,r){var a=t.defer(),s={templateUrl:"uteModal/remove-from-cart.html",controller:function(e,t){e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}},ok:function(){i.processRequest({request:{url:o("shoppingCart"),method:"POST",params:{actionType:"remove",province:c.userPref.province,samKey:c.userPref.samKey,tierId:e,productId:n,offerId:r,userId:c.atg.userId.value,hashKey:c.atg.hashKey.value},cache:!1}}).then(function(e){u.internet.stockInternetTierToCart(e.shoppingCart),a.resolve(e)},function(){a.reject()})},cancel:function(){}};return i.open(s),a.promise},addOffer:function(e){var r=t.defer(),a=e;if(u.maxItemsInCart("internet")){var s=this.tierInCart(),l={oldPackage:"tier "+s.name+" with offer"+s.selectedOffer.name,newPackage:"tier "+a.name+" with offer "+a.selectedOffer.name,controller:function(e,t,n,r){e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")},e.oldPackage=n,e.newPackage=r},templateUrl:"uteModal/add-to-cart.html",ok:function(){u.internet.swapOffers(a.selectedOffer.tierId,a.selectedOffer.productId,a.selectedOffer.offerId,s.selectedOffer.tierId,s.selectedOffer.productId,s.selectedOffer.offerId).then(function(){n.go("cartSummary")})},cancel:function(){}};i.open(l)}else i.processRequest({request:{url:o("shoppingCart"),method:"POST",params:{actionType:"add",province:c.userPref.province,samKey:c.userPref.samKey,tierId:e.selectedOffer.tierId,productId:e.selectedOffer.productId,offerId:e.selectedOffer.offerId,userId:c.atg.userId.value,hashKey:c.atg.hashKey.value},cache:!1}}).then(function(e){u.internet.stockInternetTierToCart(e.shoppingCart),r.resolve(e)},function(){r.reject()});return r.promise}},u.fetch=function(){var e=t.defer();return r({url:o("shoppingCart"),method:"POST",params:{actionType:"fetch",province:c.userPref.province,samKey:c.userPref.samKey,userId:c.atg.userId.value,hashKey:c.atg.hashKey.value,auid:c.userPref.auId},cache:!1}).then(function(t){u.internet.stockInternetTierToCart(t.data.shoppingCart),e.resolve(t)},function(){e.reject()}),e.promise},u.statusSelected=function(e){return angular.isUndefined(e)?!1:angular.stringContains(e,u.STATUS.SELECTED)},u.statusInCart=function(e){return angular.isUndefined(e)?!1:angular.stringContains(e,u.STATUS.IN_CART)},u.statusAvailable=function(e){return angular.isUndefined(e)?!1:angular.stringContains(e,u.STATUS.AVAILABLE)},u.maxItemsInCart=function(t){var n={internet:1};return u.getQuantity()>0?e.shoppingCart[c.userPref.language].services[t].quantity>=n[t]:!1},u}])}(),function(){"use strict";angular.module("ute.ui").directive("uteMiniCart",function(){return{restrict:"AE",scope:!0,replace:!0,bindToController:!0,templateUrl:"uteMiniCart/mini-cart.html",controllerAs:"uteMiniCartCtrl"}})}(),function(){"use strict";angular.module("ute.ui").controller("uteMiniCartCtrl",["$scope","$rootScope","$state","$location","commonService","utePopoverFactory","uteModal","uteCartManager","uteCoreFactory",function(e,t,n,r,i,o,a,s,c){t.$watch("shoppingCart",function(t){e.cartItems=t
}),e.lang=c.collections.userPref.language,e.totalPriceFrequency="monthly",e.removeOfferFromCart=function(e,t,n){s.internet.removeOffer(e,t,n).then(function(){})},e.isCartSummary=function(){return angular.isDefined(n)&&angular.isDefined(n.current.name)&&"cartSummary"===n.current.name},e.editCart=function(){angular.isDefined(n)&&n.go("internet")},e.checkout=function(){var t="buy";o.hideAllOpenPopovers(),e.processCheckout(t)}}])}(),function(){"use strict"}(),function(){"use strict";angular.module("ute.ui").directive("uteLanguageSelector",["$rootScope",function(e){return{scope:!0,replace:!0,templateUrl:"uteLanguageSelector/language-selector.html",restrict:"E",link:function(t){t.languages={en:"English",fr:"Français"},t.changeLanguage=function(){"en"===e.rui.language?e.rui.language="fr":"fr"===e.rui.language&&(e.rui.language="en")}}}}])}(),function(){"use strict";_.isUndefined(window.provinceMeta)?angular.module("ute.ui").constant("uteProvinceMeta",{ab:{services:["support","rewards"],ageOfMajority:18,driversLicense:"(\\d{6}\\-\\d{3})",language:"en"},bc:{services:["support","rewards"],driversLicense:"(\\d{7})",ageOfMajority:19,language:"en"},mb:{services:["support","rewards"],ageOfMajority:18,driversLicense:"([a-zA-Z]{2}\\-[a-zA-Z]{2}\\-[a-zA-Z]{2}\\-[a-zA-Z]{1}\\d{3}[a-zA-Z]{2})",language:"en"},nb:{services:["support","rewards"],ageOfMajority:18,driversLicense:"(\\d{7})",language:"en"},nl:{services:["support","rewards"],driversLicense:"([a-zA-Z]{1}\\d{9})",ageOfMajority:19,language:"en"},ns:{services:["support","rewards"],driversLicense:"([a-zA-Z]{5}\\d{9})",ageOfMajority:19,language:"en"},on:{services:["internet","support","rewards","iptv"],ageOfMajority:18,driversLicense:"([a-zA-Z]{1}\\d{4}\\-\\d{5}\\-\\d{5})",language:"en"},pe:{services:["support","rewards"],ageOfMajority:18,driversLicense:"(\\d{1,6})",language:"en"},qc:{services:["support","rewards"],ageOfMajority:18,driversLicense:"([a-zA-Z]{1}\\d{4}\\-\\d{6}\\-\\d{2})",language:"fr"},sk:{services:["support","rewards"],ageOfMajority:18,driversLicense:"(\\d{8})",language:"en"}}):angular.module("ute.ui").constant("uteProvinceMeta",window.provinceMeta)}(),function(){"use strict";angular.module("ute.ui").directive("uteProvinceSelector",function(){return{restrict:"E",scope:!0,replace:!0,bindToController:!0,templateUrl:"uteProvinceSelector/province-selector.html",controllerAs:"uteProvinceSelectorCtrl"}})}(),function(){"use strict";angular.module("ute.ui").controller("uteProvinceSelectorCtrl",["$scope","$element","$rootScope","$state","uteModal","uteMiniCartCtrl","uteProvinceServices",function(e,t,n,r,i,o,a){$(t).on("click",function(e){e.preventDefault()}),e.provinces=_.keys(a),e.selectedProvince=n.rui.province;var s=function(e){o.cleanCart(!0).then(function(){n.rui.samKey="default",n.atg={userId:{value:"default"},hashKey:{value:"default"}},n.rui.province=e})},c=function(t){var o=null;r.current.data&&r.current.data.service&&(o=r.current.data.service),o&&!n.ruiMethods.serviceAvailable(o,t)?i.open({title:"Service Not Available on Province Selected",message:"Unfortunately "+o+" is not available in "+t.toUpperCase()+".",ok:function(){s(t)},cancel:function(){e.selectedProvince=n.rui.province},okButtonLabel:"View Services Available in "+t.toUpperCase()}):s(t)};e.saveProvince=function(t){return angular.isUndefined(t)&&(t=e.selectedProvince),o.getQuantity()>0?(i.open({title:"Caution",message:"Your shopping cart will be empty if you decide to change the province.",ok:function(){c(t,!0)},cancel:function(){e.selectedProvince=n.rui.province}}),void 0):(c(t),void 0)}}])}(),function(){"use strict";angular.module("ute.ui").factory("uteProvinceService",["$rootScope","uteModal","$state","$translate","$q","uteMiniCartCtrl","uteProvinceMeta","uteCoreFactory",function(e,t,n,r,i,o,a,s){var c=(_.keys(a),s.collections),u={update:function(e){o.cleanCart(!0).then(function(){c.userPref.samKey="default",c.atg={userId:{value:"default"},hashKey:{value:"default"}},c.userPref.province=e})},checkFootPrint:function(o){var a=null,s=i.defer();if(n.current.data&&n.current.data.service&&(a=n.current.data.service),a&&!e.ruiMethods.serviceAvailable(a,o)){var c=[r("non-serviceable-province-modal-heading"),r("non-serviceable-province-modal-message"),r("service-"+a),r("global.province."+o+".name"),r("non-serviceable-province-modal-right-button"),r("global.province."+o+".abbrev")];i.all(c).then(function(n){t.open({title:n[0],message:n[1].replace("[service]",n[2]).replace("[prov]",n[3]),ok:function(){s.resolve(o)},cancel:function(){s.reject(e.rui.province)},okButtonLabel:"BC"===n[5]?n[4].replace("[prov]","B.C."):n[4].replace("[prov]",n[5])})})}else s.resolve(o);return s.promise}};return u}])}(),function(){"use strict";angular.module("ute.ui").directive("uteGlobalSearch",["uteModal",function(e){return{restrict:"E",scope:{templateUrl:"@"},template:'<div ng-click="openSearch()"><i class="ute-icon-search"></i></div>',controller:["$scope",function(t){t.openSearch=function(){e.open({templateUrl:"views/uteModal/global-search.html",message:"text for custom modal",listOfStuff:[10,!0,20,"apples"],ok:function(){t.modalClickedOk=!0},cancel:function(){t.modalClickedCancel=!0}})}}]}}])}(),function(){"use strict";function e(){var e={restrict:"AE",templateUrl:"bower_components/ute-ui/dist/views/semafone-creditcard.html",scope:!0,replace:!1,controller:"uteSemafoneCreditCardCtrl",controllerAs:"sm",bindToController:!0};return e}angular.module("ute.ui").directive("uteSemafoneCreditCard",e)}(),function(){"use strict";function e(e){function t(t,n,r){var i=e.semafoneParameters.semafoneUrl,o=e.semafoneParameters.semafoneMode,a=e.semafoneParameters.gatewayId,s=e.semafoneParameters.methodId,c=e.semafoneParameters.ppUserId,u=e.semafoneParameters.ppPassword,l=e.semafoneParameters.tenantId,d=e.semafoneParameters.clientId,p=e.semafoneParameters.accountId,f=e.semafoneParameters.principle,m=e.semafoneParameters.licenseCode,h=e.semafoneParameters.transactionType,g=e.semafoneParameters.responseType,v=e.semafoneParameters.responseURL,y="en",b="18",w="400",_="16",S=e.semafoneParameters[y],C="";return t.length>0&&(S=t),"UNKNOWN"!=o&&"UNKNOWN"!=s&&"TOKENISE"==s&&"DISABLED"==o?C=i+"?semafoneMode="+o+"&gatewayId="+a+"&methodId="+s+"&ppUserId="+c+"&ppPassword="+u+"&tenantId="+l+"&clientId="+d+"&accountId="+p+"&principle="+f+"&licenseCode="+m+"&responseType="+g+"&transactionType="+h+"&maskedPan="+S+"&isPanFocusedOnInitialise="+n+"&isPanResetOnInitialFocus="+r+"&elementFontSize="+b+"&elementWidth="+w+"&elementMaxLength="+_+"&responseURL="+v:void 0}var n={loadSemafoneCapturePageUrl:t};return n}angular.module("ute.ui").factory("uteSemafoneCreditCardService",e),e.$inject=["env"]}(),function(){"use strict";function e(e,t,n,r,i){function o(){m.months=n.months,m.years=n.expireYears(),m.cards={visa:{id:0,name:"VISA",image:"/html-fido/cms/ute/fido/images/visa.png"},mc:{id:1,name:"MASTER",image:"/html-fido/cms/ute/fido/images/mc.png"},amex:{id:2,name:"AMEX",image:"/html-fido/cms/ute/fido/images/am.png"}},m.creditPaymentObj={creditCardType:null,creditCardNo:null,expireDate:{month:null,year:null},securityCode:null},m.semafoneIframeUrl=u(),m.payNowRule={amount:{type:"number",min:.01},ccNumber:{pattern:"([0-9]{4}[ -]?){4}"},expMonth:{type:"number",min:1,max:12},expYear:{type:"number",min:2015,max:2025},securityCode:{type:"number",minlength:3,maxlength:4},ccName:{pattern:"VISA|MASTER|AMEX"}},m.listenSemafoneCaptureIframeEvents()}function a(){}function s(){}function c(){e.$$phase||e.$digest()}function u(){var e=t.trustAsHtml('<iframe src="'+t.trustAsResourceUrl(r.loadSemafoneCapturePageUrl(m.maskedCardNumber,m.isPanFocusedOnInitialise,m.isPanResetOnInitialFocus)+"#"+encodeURIComponent(document.location.href))+'" class="ute-input-text", scrolling="no" transparency="true" offset="0" border="0" outline="0" frameBorder="0" frameborder="0" marginwidth="0" marginheight="0"></iframe>');return e}function l(e){return e=e.replace(/\+/g," ")}function d(){m.semafoneIframeUrl="",m.callDigest(),m.semafoneIframeUrl=t.trustAsHtml('<iframe src="'+t.trustAsResourceUrl(r.loadSemafoneCapturePageUrl(m.maskedCardNumber,m.isPanFocusedOnInitialise,m.isPanResetOnInitialFocus)+"#"+encodeURIComponent(document.location.href))+'" class="ute-input-text", scrolling="no" transparency="true" offset="0" border="0" outline="0" frameBorder="0" frameborder="0" marginwidth="0" marginheight="0"></iframe>'),m.callDigest(),m.listenSemafoneCaptureIframeEvents()}function p(e){e.semafoneState&&e.semafoneState.length>0&&(m.semafoneState=e.semafoneState),e.semafoneValidationState&&e.semafoneValidationState.length>0&&(m.semafoneValidationState=e.semafoneValidationState),m.semafoneValidationErrorCode=e.semafoneValidationErrorCode&&e.semafoneValidationErrorCode.length>0?e.semafoneValidationErrorCode:"",e.semafoneValidationErrorDesc&&e.semafoneValidationErrorDesc.length>0?m.semafoneValidationErrorDesc=e.semafoneValidationErrorDesc:m.semafoneTokeniseErrorDesc="",e.semafoneState&&e.semafoneState.length>0&&"ACTIVE"==e.semafoneState&&(m.token="",m.cardScheme="",m.maskedCardNumber="",m.semafoneTokeniseReasonCode="",m.semafoneTokeniseResponseCode="",m.semafoneTokeniseErrorCode="",m.semafoneTokeniseErrorDesc="",m.cybersourceTokeniseResponseCode="",m.cybersourceTokeniseReasonCode="",m.cybersourceTokeniseMessage="",m.cybersourceTokeniseErrorCause="",i.setToken(""),i.setCardScheme(""),i.setMaskedCardNumber(""),i.setSemafoneValidationState("Unknown"),i.setExpectedSecurityCodeLength(""),m.isNotValidCard=!1,m.isCybersourceError=!1,m.creditPaymentObj.creditCardType=null,m.callDigest()),e.semafoneState&&e.semafoneState.length>0&&"COMPLETE"!=e.semafoneState&&(m.semafoneState=e.semafoneState),e.semafoneValidationState&&e.semafoneValidationState.length>0&&"SUCCESS"!=e.semafoneValidationState&&(m.semafoneValidationState=e.semafoneValidationState),e.semafoneValidationState&&e.semafoneValidationState.length>0&&"FAIL"==e.semafoneValidationState&&(i.setToken(""),i.setMaskedCardNumber(""),i.setCardScheme(""),i.setSemafoneValidationState("FAIL"),m.isNotValidCard=!0,m.isCybersourceError=!1,m.creditPaymentObj.creditCardType=null,m.callDigest()),e.semafoneReasonCode&&e.semafoneReasonCode.length>0&&(m.semafoneTokeniseReasonCode=e.semafoneReasonCode),e.semafoneResponseCode&&e.semafoneResponseCode.length>0&&(m.semafoneTokeniseResponseCode=e.semafoneResponseCode,"SUCCESS"!=e.semafoneResponseCode&&(!e.serviceResponseCode||e.serviceResponseCode.length<1)&&(m.isPanResetOnInitialFocus=!0,m.loadSemafoneCapturePageIframe())),e.semafoneErrorCode&&e.semafoneErrorCode.length>0&&(angular.element("#semafoneTokeniseErrorCode").val(e.semafoneErrorCode),(200101==e.semafoneErrorCode||201999==e.semafoneErrorCode)&&(m.isCybersourceError=!0,m.callDigest())),e.semafoneErrorCause&&e.semafoneErrorCause.length>0&&(m.semafoneTokeniseErrorDesc=e.semafoneErrorCause),e.serviceResponseCode&&e.serviceResponseCode.length>0&&(m.cybersourceTokeniseResponseCode=e.serviceResponseCode,100!=e.serviceResponseCode&&(m.isPanResetOnInitialFocus=!0,m.loadSemafoneCapturePageIframe())),e.serviceErrorCause&&e.serviceErrorCause.length>0&&(m.cybersourceTokeniseErrorCause=e.serviceErrorCause),e.serviceReasonCode&&e.serviceReasonCode.length>0&&(m.cybersourceTokeniseReasonCode=e.serviceReasonCode),e.serviceMessage&&e.serviceMessage.length>0&&(m.cybersourceTokeniseMessage=e.serviceMessage),e.semafoneState&&e.semafoneState.length>0&&"COMPLETE"==e.semafoneState&&e.semafoneValidationState&&e.semafoneValidationState.length>0&&"SUCCESS"==e.semafoneValidationState&&(i.setSemafoneValidationState("SUCCESS"),e.cardScheme&&e.cardScheme.length>0&&(m.cardScheme=e.cardScheme,e.token&&e.token.length>0&&i.setCardScheme(e.cardScheme)),e.token&&e.token.length>0&&(m.token=e.token,i.setToken(e.token)),e.expectedSecurityCodeLength&&e.expectedSecurityCodeLength.length>0&&i.setExpectedSecurityCodeLength(e.expectedSecurityCodeLength),e.maskedPan&&e.maskedPan.length>0&&(m.maskedCardNumber=e.maskedPan,i.setMaskedCardNumber(e.maskedPan),m.isPanResetOnInitialFocus=!0,m.creditPaymentObj.creditCardType="VISA"===i.getCardScheme()?"VISA":"MASTERCARD"===i.getCardScheme()?"MASTER":"AMEX"===i.getCardScheme()?"AMEX":null,m.isNotValidCard=!1,m.isCybersourceError=!1,m.loadSemafoneCapturePageIframe()))}function f(){m.semafoneEvents={semafoneState:"",semafoneValidationState:"",semafoneValidationErrorCode:"",semafoneValidationErrorDesc:"",cardScheme:"",currentCardNumberLength:"",expectedCardNumberLength:"",expectedSecurityCodeLength:"",token:"",maskedPan:"",processResultState:"",semafoneResponseCode:"",semafoneReasonCode:"",semafoneErrorCode:"",semafoneErrorName:"",semafoneErrorCause:"",semafoneErrorRemedy:"",semafoneWarningCode:"",semafoneWarningName:"",semafoneWarningCause:"",semafoneWarningRemedy:"",serviceReasonCode:"",serviceResponseCode:"",serviceMessage:"",serviceErrorCode:"",serviceErrorName:"",serviceErrorCause:"",serviceErrorRemedy:""},$.receiveMessage(function(e){for(var t=e.data.split("&"),n=0;n<t.length;n++){var r=t[n].split("="),i=r[0],o=r[1];"semafoneState"==i?m.semafoneEvents.semafoneState=o:"semafoneValidationState"==i?m.semafoneEvents.semafoneValidationState=o:"semafoneValidationErrorCode"==i?m.semafoneEvents.semafoneValidationErrorCode=o:"semafoneValidationErrorDesc"==i?m.semafoneEvents.semafoneValidationErrorDesc=decodeURIComponent(m.decodeSpaces(o)):"cardScheme"==i?m.semafoneEvents.cardScheme=decodeURIComponent(m.decodeSpaces(o)):"currentCardNumberLength"==i?m.semafoneEvents.currentCardNumberLength=o:"expectedCardNumberLength"==i?m.semafoneEvents.expectedCardNumberLength=o:"expectedSecurityCodeLength"==i?m.semafoneEvents.expectedSecurityCodeLength=o:"token"==i?m.semafoneEvents.token=decodeURIComponent(o):"maskedPan"==i?m.semafoneEvents.maskedPan=decodeURIComponent(m.decodeSpaces(o)):"processResultState"==i?m.semafoneEvents.processResultState=o:"semafoneResponseCode"==i?m.semafoneEvents.semafoneResponseCode=decodeURIComponent(m.decodeSpaces(o)):"semafoneReasonCode"==i?m.semafoneEvents.semafoneReasonCode=decodeURIComponent(m.decodeSpaces(o)):"semafoneErrorCode"==i?m.semafoneEvents.semafoneErrorCode=decodeURIComponent(m.decodeSpaces(o)):"semafoneErrorName"==i?m.semafoneEvents.semafoneErrorName=decodeURIComponent(m.decodeSpaces(o)):"semafoneErrorCause"==i?m.semafoneEvents.semafoneErrorCause=decodeURIComponent(m.decodeSpaces(o)):"semafoneErrorRemedy"==i?m.semafoneEvents.semafoneErrorRemedy=decodeURIComponent(m.decodeSpaces(o)):"semafoneWarningCode"==i?m.semafoneEvents.semafoneWarningCode=decodeURIComponent(m.decodeSpaces(o)):"semafoneWarningName"==i?m.semafoneEvents.semafoneWarningName=decodeURIComponent(m.decodeSpaces(o)):"semafoneWarningCause"==i?m.semafoneEvents.semafoneWarningCause=decodeURIComponent(m.decodeSpaces(o)):"semafoneWarningRemedy"==i?m.semafoneEvents.semafoneWarningRemedy=decodeURIComponent(m.decodeSpaces(o)):"serviceReasonCode"==i?m.semafoneEvents.serviceReasonCode=decodeURIComponent(m.decodeSpaces(o)):"serviceResponseCode"==i?m.semafoneEvents.serviceResponseCode=decodeURIComponent(m.decodeSpaces(o)):"serviceMessage"==i?m.semafoneEvents.serviceMessage=decodeURIComponent(m.decodeSpaces(o)):"serviceErrorCode"==i?m.semafoneEvents.serviceErrorCode=decodeURIComponent(m.decodeSpaces(o)):"serviceErrorName"==i?m.semafoneEvents.serviceErrorName=decodeURIComponent(m.decodeSpaces(o)):"serviceErrorCause"==i?m.semafoneEvents.serviceErrorCause=decodeURIComponent(m.decodeSpaces(o)):"serviceErrorRemedy"==i&&(m.semafoneEvents.serviceErrorRemedy=decodeURIComponent(m.decodeSpaces(o)))}m.semafoneCapturePageEventHandlers(m.semafoneEvents)})}var m=this;m.isNotValidCard=!1,m.isCybersourceError=!1,m.months,m.years,m.cards={},m.creditPaymentObj={},m.validateSecurityCode=a,m.validateExpireDate=s,m.callDigest=c,m.semafoneIframeUrl,m.payNowRule={},m.decodeSpaces=l,m.loadSemafoneCapturePageIframe=d,m.semafoneCapturePageEventHandlers=p,m.listenSemafoneCaptureIframeEvents=f,m.token="",m.cardScheme="",m.maskedCardNumber="",m.semafoneTokeniseErrorCode="",m.semafoneTokeniseReasonCode="",m.isPanResetOnInitialFocus=!0,m.isPanFocusedOnInitialise=!1,m.semafoneTokeniseResponseCode="",m.semafoneTokeniseErrorDesc="",m.semafoneValidationState="",m.semafoneState="",m.cybersourceTokeniseResponseCode="",m.cybersourceTokeniseReasonCode="",m.cybersourceTokeniseMessage="",m.cybersourceTokeniseErrorCause="",o()}angular.module("ute.ui").controller("uteSemafoneCreditCardCtrl",e),e.$inject=["$scope","$sce","uteSemafonePaymentService","uteSemafoneCreditCardService","uteSemafoneService"]}(),function(){"use strict";function e(){function e(){if(t.length>0)return t;var e=(new Date).getFullYear();t.push(e);for(var n=1;10>=n;n++)t.push(e+n);return t}var t=[],n=10,r=["01","02","03","04","05","06","07","08","09","10","11","12"],i=["V","M","A"],o={postExpireYearsNum:n,months:r,ccType:i,expireYears:e};return o}angular.module("ute.ui").factory("uteSemafonePaymentService",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e){f=e}function t(){return f}function n(e){m=e}function r(){return m}function i(e){h=e}function o(){return h}function a(e){v=e}function s(){return v}function c(e){g=e}function u(){return g}function l(){f="",m="",h="",g=!0,v=""}function d(){return y}function p(e){y=e}var f="",m="",h="",g=!0,v="",y="",b={setToken:e,getToken:t,setCardScheme:n,getCardScheme:r,setMaskedCardNumber:i,getMaskedCardNumber:o,setSemafoneValidationState:a,getSemafoneValidationState:s,setValidCard:c,isValidCard:u,clearData:l,getExpectedSecurityCodeLength:d,setExpectedSecurityCodeLength:p};return b}angular.module("ute.ui").factory("uteSemafoneService",e),e.$inject=[]}(),function(){"use strict";angular.module("ute.ui").factory("uteCoreFactory",["$rootScope","$window",function(e,t){var n={collections:{}},r=[{windowObjName:"__userPref",rootScopeVarName:"userPref",watchMethod:function(e,n){e!==n&&($.cookie("userPref",e,{expires:30}),e.province!==n.province&&t.location.reload(),e.language!==n.language&&t.location.reload())},deepWatch:!0},{windowObjName:"__atg",rootScopeVarName:"atg",watchMethod:function(e,t){if(e!==t)if(e.userId.name&&e.userId.value&&e.userId.expire&&e.hashKey.name&&e.hashKey.value&&e.hashKey.expire){if("-1"!==e.userId.expire.toString()){var n=null;n=moment(e.userId.expire).diff(moment(),"days",!0),$.cookie("atg",e,{expires:n})}}else $.removeCookie("atg")},deepWatch:!0},{windowObjName:"__userInfo",rootScopeVarName:"userInfo",watchMethod:function(e,t){if(e!==t)if(e==={})$.removeCookie("userInfo");else if(e.expiry){var n=new Date;e.expiry!==t.expiry&&(n=moment(e.expiry).toDate()),$.cookie("userInfo",e,{expires:n})}else $.cookie("userInfo",e)},deepWatch:!0}],i=this;i.ready=!1;var o=function(){_.each(r,function(r){n.collections[r.rootScopeVarName]=t[r.windowObjName],e.$watch(function(){return n.collections[r.rootScopeVarName]},r.watchMethod,r.deepWatch)}),i.ready=!0};return n&&i.ready!==!1||o(),n}]).run(["uteCoreFactory","uteCartManager","$rootScope",function(e,t,n){angular.isDefined(e.collections.userPref)&&e.collections.userPref.cartQuantity>0&&t.fetch(),n.$watch("shoppingCart.quantity",function(t,n){t!==n&&(e.collections.userPref.cartQuantity=t)})}]).factory("uteUtil",["$rootScope","$window","commonService","uteProvinceMeta","uteCoreFactory","$http","$state","$q","uteEndpoint",function(e,t,n,r,i,o,a,s,c){var u=i.collections;return{isValidProvince:function(e){return r[e]?!0:!1},isValidLanguage:function(e){return-1!==["en","fr"].indexOf(e.toLowerCase())?!0:!1},isPromise:function(e){return!!e&&angular.isFunction(e.then)},startAgentSession:function(){var e=s.defer(),t=this;return o({method:"GET",url:c("v1/cfaInfo"),cache:!1}).success(function(r){return r.cfaInfo?(u.userInfo={cfaInfo:r.cfaInfo,type:"cfa"},r.cfaInfo.getCustomerAccounts&&(u.userInfo.accounts=r.cfaInfo.getCustomerAccounts.accounts?r.cfaInfo.getCustomerAccounts.accounts:[],u.userInfo.firstName=r.cfaInfo.getCustomerAccounts.firstName?r.cfaInfo.getCustomerAccounts.firstName:"",u.userInfo.lastName=r.cfaInfo.getCustomerAccounts.lastName?r.cfaInfo.getCustomerAccounts.lastName:"",n.getAccountDetails(u.userInfo.accounts,!0)),t.renewAgentSession(),e.resolve(r),void 0):(e.reject("No cfaInfo"),void 0)}).error(function(t){e.reject(t)}),e.promise},renewAgentSession:function(){e.$broadcast("timer-clear"),u.userInfo.expiry=moment().add(15,"m"),e.$broadcast("timer-start"),o.post(u.userInfo.cfaInfo.sourceURL+u.userInfo.cfaInfo.heartBeatURL+";jsessionid="+u.userInfo.cfaInfo.jSessionID);var t=u.userInfo.cfaInfo.uteHeartBeatURL;t&&"/"===t.substring(0,1)&&o.post(c(u.userInfo.cfaInfo.uteHeartBeatURL.substring(1)))},endAgentSession:function(){var e=u.userInfo.cfaInfo.sourceURL?u.userInfo.cfaInfo.sourceURL+u.userInfo.cfaInfo.signOutURL+";jsessionid="+u.userInfo.cfaInfo.jSessionID:!1;u.userInfo={},e?t.location=e:a.go("home")},formatPhoneNumber:function(e){return"undefined"==typeof e?e:(e.indexOf(".")>0?e=e.split(".").join(""):e.indexOf(" ")>0?e=e.split(" ").join(""):e.indexOf("-")>0&&(e=e.split("-").join("")),e)},objectToArray:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},setCookiesOnRootScope:function(n){_.each(n,function(n){e[n.rootScopeVarName]=t[n.windowObjName],e.$watch(n.rootScopeVarName,n.watchMethod,n.deepWatch)})},arrayToObject:function(e){var t={};return e.forEach(function(e,n){t[n]=e}),t},clearLocalStorageValue:function(){var e=["janrainCaptureReturnExperienceData","janrainCaptureReturnExperienceData_Expires"],n={};$.each(e,function(e,r){n[r]=t.localStorage.getItem(r)}),t.localStorage.clear(),$.each(e,function(e,r){t.localStorage.setItem(r,n[r])})},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.href);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},getCCType:function(e){if(e.length>3){if(e.match(/^(34|37)/))return"AMEX";if(e.match(/^(4[0-9])/))return"VISA";if(e.match(/^5[1-5]/))return"MASTER"}else if(e.length<3)return""},validateFormOnSubmit:function(e){if(e.$invalid){for(var t in e)"$"!=t[0]&&e[t].$pristine&&e[t].$setTouched();return!1}return!0},setCacheVariable:function(e,t){return this[e]=t,!0},getCacheVariable:function(e){return this[e]},calculateAge:function(e){e=new Date(e);var t=new Date,n=t.getFullYear()-e.getFullYear();return(t.getMonth()<e.getMonth()||t.getMonth()==e.getMonth()&&t.getDay()<e.getDay())&&n--,n}}}])}(),function(){angular.module("ute.ui").factory("uteEncryption",function(){function e(){this.i=0,this.j=0,this.S=[]}function t(e){var t,n,r;for(t=0;256>t;++t)this.S[t]=t;for(n=0,t=0;256>t;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0}function n(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function r(){return new e}function i(e){st[ct++]^=255&e,st[ct++]^=e>>8&255,st[ct++]^=e>>16&255,st[ct++]^=e>>24&255,ct>=ut&&(ct-=ut)}function o(){i((new Date).getTime())}function a(){if(null==at){for(o(),at=r(),at.init(st),ct=0;ct<st.length;++ct)st[ct]=0;ct=0}return at.next()}function s(e){var t;for(t=0;t<e.length;++t)e[t]=a()}function c(){}function u(e,t){return new g(e,t)}function l(e,t){if(t<e.length+11)throw"encryption, Message too long for RSA";for(var n=[],r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);128>i?n[--t]=i:i>127&&2048>i?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var o=new c,a=[];t>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new g(n)}function d(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function p(e,t){if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=u(e,16),this.e=parseInt(t,16)}function f(e){return e.modPowInt(this.e,this.n)}function m(e){var t=l(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r}function h(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=ft.charAt(n>>6)+ft.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=ft.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=ft.charAt(n>>2)+ft.charAt((3&n)<<4));(3&r.length)>0;)r+=mt;return r}function g(e,t){null!=e&&("number"==typeof e?this.fromInt(e):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function v(){return new g(null)}function y(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i}function b(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var c=32767&this[e],u=this[e++]>>15,l=s*c+u*a;c=a*c+((32767&l)<<15)+n[r]+(1073741823&i),i=(c>>>30)+(l>>>15)+s*u+(i>>>30),n[r++]=1073741823&c}return i}function w(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var c=16383&this[e],u=this[e++]>>14,l=s*c+u*a;c=a*c+((16383&l)<<14)+n[r]+i,i=(c>>28)+(l>>14)+s*u,n[r++]=268435455&c}return i}function _(e){return wt.charAt(e)}function S(e,t){var n=_t[e.charCodeAt(t)];return null==n?-1:n}function C(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function k(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+this.DV:this.t=0}function A(e){var t=v();return t.fromInt(e),t}function I(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return this.fromRadix(e,t),void 0;n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var a=8==n?255&e[r]:S(e,r);0>a?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,o+=n,o>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&g.ZERO.subTo(this,this)}function x(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function E(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-->0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=_(n));a>=0;)t>s?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,0>=s&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=_(n));return i?o:"0"}function R(){var e=v();return g.ZERO.subTo(this,e),e}function T(){return this.s<0?this.negate():this}function P(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function D(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function M(){return this.t<=0?0:this.DB*(this.t-1)+D(this[this.t-1]^this.s&this.DM)}function L(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function O(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function N(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function j(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return t.t=0,void 0;var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}function $(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);i>n;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=0>r?-1:0,-1>r?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function z(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&g.ZERO.subTo(t,t)}function F(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function U(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),null!=n&&this.copyTo(n),void 0;null==n&&(n=v());var o=v(),a=this.s,s=e.s,c=this.DB-D(r[r.t-1]);c>0?(r.lShiftTo(c,o),i.lShiftTo(c,n)):(r.copyTo(o),i.copyTo(n));var u=o.t,l=o[u-1];if(0!=l){var d=l*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),p=this.FV/d,f=(1<<this.F1)/d,m=1<<this.F2,h=n.t,y=h-u,b=null==t?v():t;for(o.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),g.ONE.dlShiftTo(u,b),b.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--y>=0;){var w=n[--h]==l?this.DM:Math.floor(n[h]*p+(n[h-1]+m)*f);if((n[h]+=o.am(0,w,n,y,0,u))<w)for(o.dlShiftTo(y,b),n.subTo(b,n);n[h]<--w;)n.subTo(b,n)}null!=t&&(n.drShiftTo(u,t),a!=s&&g.ZERO.subTo(t,t)),n.t=u,n.clamp(),c>0&&n.rShiftTo(c,n),0>a&&g.ZERO.subTo(n,n)}}}function B(e){var t=v();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(g.ZERO)>0&&e.subTo(t,t),t}function q(e){this.m=e}function V(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function W(e){return e}function H(e){e.divRemTo(this.m,null,e)}function Y(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function J(e,t){e.squareTo(t),this.reduce(t)}function Q(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function G(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function K(e){var t=v();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(g.ZERO)>0&&this.m.subTo(t,t),t}function Z(e){var t=v();return e.copyTo(t),this.reduce(t),t}function X(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function et(e,t){e.squareTo(t),this.reduce(t)}function tt(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function nt(){return 0==(this.t>0?1&this[0]:this.s)}function rt(e,t){if(e>4294967295||1>e)return g.ONE;var n=v(),r=v(),i=t.convert(this),o=D(e)-1;for(i.copyTo(n);--o>=0;)if(t.sqrTo(n,r),(e&1<<o)>0)t.mulTo(r,i,n);else{var a=n;n=r,r=a}return t.revert(n)}function it(e,t){var n;return n=256>e||t.isEven()?new q(t):new G(t),this.exp(e,n)}function ot(e,t,n){var r=new d;r.setPublic(t,n);var i=r.encrypt(e);return h(i)}e.prototype.init=t,e.prototype.next=n;var at,st,ct,ut=256;if(null==st){st=[],ct=0;var lt;if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var dt=window.crypto.random(32);for(lt=0;lt<dt.length;++lt)st[ct++]=255&dt.charCodeAt(lt)}for(;ut>ct;)lt=Math.floor(65536*Math.random()),st[ct++]=lt>>>8,st[ct++]=255&lt;ct=0,o()}c.prototype.nextBytes=s,d.prototype.doPublic=f,d.prototype.setPublic=p,d.prototype.encrypt=m;var pt,ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mt="=",ht=0xdeadbeefcafe,gt=15715070==(16777215&ht);gt&&"Microsoft Internet Explorer"==navigator.appName?(g.prototype.am=b,pt=30):gt&&"Netscape"!=navigator.appName?(g.prototype.am=y,pt=26):(g.prototype.am=w,pt=28),g.prototype.DB=pt,g.prototype.DM=(1<<pt)-1,g.prototype.DV=1<<pt;var vt=52;g.prototype.FV=Math.pow(2,vt),g.prototype.F1=vt-pt,g.prototype.F2=2*pt-vt;var yt,bt,wt="0123456789abcdefghijklmnopqrstuvwxyz",_t=[];for(yt="0".charCodeAt(0),bt=0;9>=bt;++bt)_t[yt++]=bt;for(yt="a".charCodeAt(0),bt=10;36>bt;++bt)_t[yt++]=bt;for(yt="A".charCodeAt(0),bt=10;36>bt;++bt)_t[yt++]=bt;return q.prototype.convert=V,q.prototype.revert=W,q.prototype.reduce=H,q.prototype.mulTo=Y,q.prototype.sqrTo=J,G.prototype.convert=K,G.prototype.revert=Z,G.prototype.reduce=X,G.prototype.mulTo=tt,G.prototype.sqrTo=et,g.prototype.copyTo=C,g.prototype.fromInt=k,g.prototype.fromString=I,g.prototype.clamp=x,g.prototype.dlShiftTo=L,g.prototype.drShiftTo=O,g.prototype.lShiftTo=N,g.prototype.rShiftTo=j,g.prototype.subTo=$,g.prototype.multiplyTo=z,g.prototype.squareTo=F,g.prototype.divRemTo=U,g.prototype.invDigit=Q,g.prototype.isEven=nt,g.prototype.exp=rt,g.prototype.toString=E,g.prototype.negate=R,g.prototype.abs=T,g.prototype.compareTo=P,g.prototype.bitLength=M,g.prototype.mod=B,g.prototype.modPowInt=it,g.ZERO=A(0),g.ONE=A(1),ot
})}(),function(){"use strict";angular.module("ute.ui").factory("uteModal",["$modal","$q",function(e,t){var n={};return n.config={},n.controllerScope=null,n.defaultController=function(e,t){return n.controllerScope=e,e.title=angular.isDefined(n.config.resolve)&&angular.isDefined(n.config.resolve.title)?n.config.resolve.title():"Confirm",e.message=angular.isDefined(n.config.resolve)&&angular.isDefined(n.config.resolve.message)?n.config.resolve.message():"Please confirm",e.okButtonLabel=angular.isDefined(n.config.resolve)&&angular.isDefined(n.config.resolve.okButtonLabel)?n.config.resolve.okButtonLabel():"Continue",e.cancelButtonLabel=angular.isDefined(n.config.resolve)&&angular.isDefined(n.config.resolve.cancelButtonLabel)?n.config.resolve.cancelButtonLabel():"Cancel",e.ok=function(){t.close(),n.closeThisModal(t)},e.cancel=function(){t.dismiss("cancel"),n.closeThisModal(t)},{$scope:e,$modalInstance:t}},n.closeThisModal=function(e){_.each(n.modalInstancesArray,function(t,r){angular.equals(e,t)&&n.modalInstancesArray.splice(r,1)})},n.closeAllModals=function(){_.each(n.modalInstancesArray,function(e){e.dismiss("cancel")}),n.modalInstancesArray=[]},n.modalInstancesArray=[],n.processRequest=function(r){var i=t.defer();return e.open({templateUrl:"uteModal/processing-request.html",backdrop:"static",resolve:{def:function(){return i}},controller:["$scope","$http","$modalInstance","def","$timeout",function(e,t,n,i,o){var a=r.delay?r.delay:1e4;e.cancel=function(){n.close(),o.cancel(e.loadingSegment),i.reject("Cancelled")},e.makeRequest=function(){r.request.timeout=i.promise,e.loadingView=!0,e.processingView=!1,e.errorView=!1,e.loadingSegment=o(function(){},a),e.loadingSegment.then(function(){e.loadingView=!1,e.processingView=!0,e.errorView=!1},function(){}),t(r.request).success(function(t){i.resolve(t),n.close(),o.cancel(e.loadingSegment)}).error(function(){e.loadingView=!1,e.processingView=!1,e.errorView=!0,o.cancel(e.loadingSegment)})},e.makeRequest()}]}),n.config=r,i.promise},n.defaultConfigObject={backdrop:!0,cp:!1,templateUrl:"views/uteModal/modal.html",controller:n.defaultController,ok:null,cancel:null,opened:null,size:"md",keyboard:!0},n.open=function(t){var r=_.defaults({},t?t:{},n.defaultConfigObject),i={};angular.isDefined(r.resolve)?_.each(r.resolve,n.loopResolveFunction.bind(n,i)):_.each(t,n.loopResolveFunction.bind(n,i)),_.keys(i).length&&(r.resolve=i),n.config=r;var o=e.open(n.config);if(n.modalInstancesArray.push(o),n.config.cp){var a=function(){$(".pca:first").insertAfter($("#janrainModal")),$(".pca:first").removeClass("formodal")};o.result.then(a,a)}return n.config.ok&&n.config.cancel&&o.result.then(t.ok,t.cancel),n.config.opened&&o.opened.then(n.config.opened,function(){}),o},n.isNotDefaultProperty=function(e){return!angular.isDefined(n.defaultConfigObject[e])},n.loopResolveFunction=function(e,t,r){return n.isNotDefaultProperty(r)&&(e[r]="function"==typeof t&&"undefined"==typeof t()?t:function(){return t}),e},n}])}(),function(){"use strict";angular.module("ute.ui").factory("uteJanrainEvents",["$timeout","$window","$rootScope","$state","uteUserService","$http","$translate","uteEndpoint","uteJanrainService","commonService","cartManager","$compile","util",function(e,t,n,r,i,o,a,s,c,u,l,d,p){var f,m=!1,h=function(e,d){return u.accessToken?(o({method:"POST",url:s("v3/login"),data:$.param({accessToken:u.accessToken,uuid:e}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(o){if(o.error&&"ERR-MIGRATED"===o.error)a("ERR-MIGRATED").then(function(e){t.janrain.capture.ui.endCaptureSession(),c.displayMessage(),c.showErrorMessage(e.replace("EMAIL_REPLACE",o.email))});else if(o.error&&"50000"===o.error)a("50000").then(function(e){c.hideSuccessMessage(),c.showErrorMessage(e),c.hideProcessing(),c.focusElement("signIn","userID"),t.janrain.capture.ui.endCaptureSession()});else if(o.getCustomerAccounts&&o.getCustomerAccounts.error&&"50000"===o.getCustomerAccounts.error)a("50000").then(function(e){c.hideSuccessMessage(),c.showErrorMessage(e),c.hideProcessing(),c.focusElement("signIn","userID"),t.janrain.capture.ui.endCaptureSession()});else{var s={uuid:e,userID:d};"false"==o.isLinked||0==o.isLinked?(s.firstName="",s.lastName="",s.janrainOnlylogin=!0,i.login(s),r.go("linkAccounts")):(s.firstName=o.getCustomerAccounts.firstName,s.lastName=o.getCustomerAccounts.lastName,s.accounts=o.getCustomerAccounts.accounts,s.profileType=o.getCustomerAccounts.profileType,i.login(s),"home"===r.current.name?(u.getAccountDetails(n.userInfo.accounts),o.getCustomerAccounts.profileType&&o.getCustomerAccounts.profileType.prepaid?r.go("myAccount.groupID"):r.go("myAccount.overview")):u.getAccountDetails(n.userInfo.accounts).then(function(){"internet"===r.current.name?u.customerHasInternetService&&l.cleanCart().then(function(){}):"cartSummary"===r.current.name||"createUser"===r.current.name?u.customerHasInternetService?l.cleanCart().then(function(){r.go("internet",{})}):r.go("buy"):r.go("myAccount.overview")})),t.janrain.capture.ui.modal.close()}}).error(function(){t.janrain.capture.ui.endCaptureSession(),a("50000").then(function(e){c.hideSuccessMessage(),c.showErrorMessage(e),c.hideProcessing(),c.focusElement("signIn","userID"),t.janrain.capture.ui.endCaptureSession()})}),void 0):(a("50000").then(function(e){c.hideSuccessMessage(),c.showErrorMessage(e),c.hideProcessing(),c.focusElement("signIn","userID"),t.janrain.capture.ui.endCaptureSession()}),void 0)},g={onCaptureLoginSuccess:[function(e){h(e.userData.uuid,e.userData.userID)}],onCaptureSessionEnded:[function(){i.logout(!1)}],onCaptureRenderStart:[function(){}],onCaptureSessionCreated:[function(e){u.accessToken=e&&e.accessToken?e.accessToken:""}],onCaptureFieldsChanged:[function(e){e.emailAddress&&e.emailAddress.newValue!=e.emailAddress.oldValue&&t.janrain.capture.ui.setFieldAttribute("emailAddress","tip","Your email address has changed. Please check your email for a verification link.")}],onCaptureValidationSuccess:[function(e){!e.field||"capture_editProfile_emailAddress"!=e.field.id||2!=janrain.capture.ui.getProfileCookieData("profileType")&&3!=janrain.capture.ui.getProfileCookieData("profileType")||e.field.defaultValue==e.field.value||-1!=e.field.defaultValue.indexOf("@")||(document.getElementById("capture_editProfile_msisdn").value=e.field.defaultValue)}],onCaptureEmailSent:[function(e){f=e}],onCaptureProfileSaveSuccess:[function(e){"editProfileForm"==e.form?o({method:"POST",url:s("v1/updateProfile"),data:$.param({accountNumber:p.getCacheVariable("selectedAccount"),userName:e.userData.email}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(){}).error(function(){}):"changePasswordForm"==e.form?$("#passwordEditSuccess").show():"changeSecurityQuestionForm"==e.form&&$("#securityQAEditSuccess").show()}],onCaptureRenderComplete:[function(e){if(window.janrain.loginUiModalReady=!0,e.flow.form)switch(e.screen){case"signIn":case"returnTraditional":window.janrain.lastScreen="signIn",window.janrain.lastScreenUpdated=0,c.displayMessage(),delete e.flow.fields.signInForm.errors;break;case"forgotPasswordSuccess":$("#passwordResetEmail").html(f.to);break;case"resendVerificationSuccess":delete e.flow.fields.resetPasswordUserID.value,$("#resendVerificationEmail").html(f.to);break;case"emailNotVerified":delete e.flow.fields.emailConfirm.value,delete e.flow.fields.resendVerificationEmailAddress.value,delete e.flow.fields.signInEmailAddress.value,delete e.flow.fields.emailAddress.value,delete e.flow.fields.userIDData.value,delete e.flow.fields.emailAddressData.value,delete e.flow.fields.securityQuestion.value,delete e.flow.fields.securityQuestionData.value,delete e.flow.fields.resetPasswordUserID.value,t.janrain.capture.ui.getReturnExperienceData("userID")&&$(".notVerifiedEmail").html(janrain.capture.ui.getReturnExperienceData("userID")),"registrationForm"==e.flow.form&&($(".thankYouRegisteration").show(),$(".emailVerifiedForm").hide(),t.janrain.capture.ui.getReturnExperienceData("userID")&&$("#emailRegisteredRecently").html(janrain.capture.ui.getReturnExperienceData("userID"))),"signInForm"==e.flow.form&&($(".emailVerifiedForm").show(),$(".thankYouRegisteration").hide())}else switch(e.screen){case"signIn":case"returnTraditional":c.displayMessage();{var n=document.getElementById("capture_"+e.screen+"_userID");document.getElementById("capture_traditionalRegistration_emailAddress")}n&&"string"==typeof janrain.capture.ui.getReturnExperienceData("userID")&&janrain.capture.ui.getReturnExperienceData("userID")&&(n.value=janrain.capture.ui.getReturnExperienceData("userID"))}if("editProfile"==e.screen&&0==e.renderingBuiltInScreen&&($("#editProfileOuter").show(),$("#janrainEditProfileLoading").hide()),"signIn"==e.screen){1==m&&($("#capture_signIn_currentPassword").val(""),m=!1);var r=document.getElementById("capture_signIn_userID");if(r){var i=r.value.indexOf("@sms.fido.ca");i>-1&&(r.value=r.value.substring(0,i))}}"forgotPassword"==e.screen&&(window.janrain.globalResult={},delete e.flow.fields.forgotPasswordForm.errors,window.janrain.globalResult.userIdValidation=e.flow.fields.userID.validation.messages),("forgotPassword"==e.screen||"forgotPasswordSuccess"==e.screen)&&delete e.flow.fields.resetPasswordUserID.value}],onCaptureEmailVerificationSuccess:[function(e){"traditionalRegistration"==e.screen&&janrain.capture.ui.endCaptureSession()}],onCaptureScreenShow:[function(e){if("returnTraditional"==e.screen){var t=document.getElementById("traditionalWelcomeName"),n=janrain.capture.ui.getReturnExperienceData("displayName");t&&n&&(t.innerHTML="Welcome back, "+n+"!")}"signIn"==e.screen&&c.focusElement(e.screen,"userID")}],onCaptureContentChange:[function(){}],onCaptureSaveSuccess:[function(e){"resendVerificationEmail"==e.controlName&&"editProfile"==e.screen&&(document.getElementById("capture_editProfile_resendLink").style.display="none")}],onCaptureModalReady:[function(){window.janrain.loginUiModalReady=!0}],onCaptureSessionFound:[function(){n.ruiMethods.user.is.loggedIn()||h(janrain.capture.ui.getProfileCookieData("uuid"),janrain.capture.ui.getProfileCookieData("userID"))}],onCaptureRegistrationSuccessNoLogin:[function(){}],onCaptureLoginFailed:[function(e){m=!0,"accountDeactivated"==e.statusMessage&&a("ERR-DISABLED-ACCOUNT").then(function(e){c.showErrorMessage(e),c.hideProcessing(),t.janrain.capture.ui.endCaptureSession()}),"invalidCredentials"==e.statusMessage&&(t.localStorage.removeItem("janrainCaptureReturnExperienceData"),t.localStorage.removeItem("janrainCaptureReturnExperienceData_Expires"))}],onCaptureAccountDeactivateSuccess:[function(e){"success"==e.status&&a("ERR-DISABLED-ACCOUNT").then(function(e){c.showErrorMessage(e),c.hideProcessing(),t.janrain.capture.ui.endCaptureSession()})}]},v=function(e){window.starttime=new Date,setTimeout(function(){"object"==typeof t.janrain.events&&"function"==typeof janrain.capture.ui.start?(_.each(g,function(e,n){_.each(e,function(e){t.janrain.events[n].addHandler(e)})}),janrain.capture.ui.start(),window.janrain.captureReady=!0):v(e)},250)};return{checkJanrainUiReady:v}}])}(),function(){"use strict";angular.module("ute.ui").service("uteJanrainService",["$window",function(e){this.janrainStatus={linkExpired:!1,loginRendered:!1,successErrorMessage:!1,janrainMessage:""},this.focusElement=function(e,t){var n=$("#capture_"+e+"_"+t);n.focus(),n.val(n.val())},this.showErrorMessage=function(e){$(".capture_rightText .capture_secondary").show(),$(".capture_rightText .capture_processing").hide(),this.clearPasswordField(),$("#capture_signIn_signInForm_errorMessages").children().first().length?$("#capture_signIn_signInForm_errorMessages").children().first().html(e):(e='<div data-capturefield="undefined" class="capture_form_error capture_formerror_1426861805991" id="capture_signIn_formerror_1426861805991">'+e+"</div>",$("#capture_signIn_signInForm_errorMessages").html(e))},this.displayMessage=function(){1==this.janrainStatus.successErrorMessage?($("#capture_signIn_signInForm_successMessages .capture_form_success").html(this.janrainStatus.janrainMessage),$("#capture_signIn_signInForm_successMessages").show(),$("#capture_signIn_signInForm_successMessages").show(),this.janrainStatus.successErrorMessage=!1):$("#capture_signIn_signInForm_successMessages").hide()},this.showSuccessMessage=function(e){$("#capture_signIn_signInForm_successMessages").html(e),$("#capture_signIn_signInForm_successMessages").show(),this.setSuccessErrorMessage(!0)},this.hideProcessing=function(){$(".capture_processing").hide(),$(".capture_btn ").css({display:"auto"})},this.hideSuccessMessage=function(){$("#capture_signIn_signInForm_successMessages").hide()},this.hideAllErrorMessage=function(){$("#capture_signIn_signInForm_errorMessages").hide(),$(".capture_form_error").hide()},this.setLinkExpired=function(){this.janrainStatus.linkExpired="demo here"},this.closeJanrainModal=function(){e.janrain.capture.ui.modal.close()},this.getStatus=function(){return this.janrainStatus},this.setSuccessErrorMessage=function(e){this.janrainStatus.successErrorMessage=e},this.setJanrainMessage=function(e){this.janrainStatus.janrainMessage=e},this.clearPasswordField=function(){document.getElementById("capture_signIn_currentPassword").value=""},this.clearLocalStorageValue=function(){var t=["janrainCaptureReturnExperienceData","janrainCaptureReturnExperienceData_Expires"],n={};$.each(t,function(t,r){n[r]=e.localStorage.getItem(r)}),e.localStorage.clear(),$.each(t,function(t,r){e.localStorage.setItem(r,n[r])})};var t=0;this.checkJanrainModalReady=function(e){var n=function(){1==window.janrain.loginUiModalReady&&1==janrain.captureReady?e():setTimeout(function(){t+=1,1==window.janrain.loginUiModalReady&&1==janrain.captureReady?e():n()},300)};n()},this.renderEditProfile=function(){window.endtime=new Date,$("#janrainCaptureWidget").hide(),$("#janrainCaptureWidget .janrain-capture-ui").hide(),this.checkJanrainModalReady(function(){e.janrain.capture.ui.renderScreen("editProfile")})},this.renderLogin=function(){this.checkJanrainModalReady(function(){e.janrain.capture.ui.renderScreen("signIn")})}}])}(),function(){"use strict";angular.module("ute.ui").factory("uteUserService",["uteCoreFactory","uteUtil","$modal","$window","$rootScope","$state","uteModal","commonService",function(e,t,n,r,i,o,a,s){var c={},u={},l=e.collections;return u.confirmLogOut=function(){var e={templateUrl:"modules/user/views/confirm-logout.html",controller:function(e,t){e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}},ok:function(){u.logOut()},cancel:function(){}};a.open(e)},u.logOut=function(){1==janrain.capture.ui.hasActiveSession()&&r.janrain.capture.ui.endCaptureSession(),l.userInfo={},t.clearLocalStorageValue(),o.go("home"),i.payment={},s.resetServiceData()},c.promptResetPassword=function(){n.open({templateUrl:"modules/user/views/reset-password.html",controller:"resetPasswordCtrl",size:"md",backdrop:!1})},c.promptAutoRegComplete=function(){n.open({templateUrl:"modules/user/views/registration-complete.html",controller:"registrationCompleteCtrl",size:"md",backdrop:!1})},c.logout=function(e){e===!0?u.confirmLogOut():u.logOut()},c.login=function(e){l.userInfo=e},c}])}(),function(){"use strict";angular.module("ute.ui").filter("uteCapacity",["$rootScope","uteLocale",function(e,t){return function(e,n,r){var i,o,a=n||t.language()||"en",s=function(e){return e>=1e3?r===!1?Math.round(Number(e)/1024)+" "+o:Math.round(Number(e)/1024*100)/100+" "+o:e+" "+i};return"en"===a?(i="MB",o="GB",s(e)):"fr"===a?(i="Mo",o="Go",s(e)):void 0}}])}(),function(){"use strict";angular.module("ute.ui").filter("uteDateFormatter",["moment","uteLocale",function(e,t){return function(n,r,i){angular.isUndefinedOrNull(r)&&(r="LLLL"),angular.isUndefinedOrNull(i)&&(i="en");var o=e(n);return o.locale(t.locale(i)),o.format(r)}}])}(),function(){"use strict";var e=function(e){return e.match(/^4[0-9]{12}(?:[0-9]{3})?$/)?"VISA":e.match(/^5[1-5][0-9]{14}$/)?"MASTER":e.match(/^3[47][0-9]{13}$/)?"AMEX":e?"":void 0},t=function(e){return 15==e.length?"**** ****** *"+e.substr(11):"**** **** **** "+e.substr(12)},n=function(t,n,r){var i=n(t,r.modulus,r.publicExponent),o={pan:i,sig:r.signature,si:r.systemIndicator,ts:r.timestamp,type:e(t).substr(0,1),service:r.serviceVal},a=JSON.stringify(o),s=r.url+"?merchantID="+r.applicationId+"&jsonstring="+encodeURIComponent(a)+"&callback=JSON_CALLBACK";return s};angular.module("ute.ui").provider("uteCyberSource",function(){this.setSignatureUrl=function(e){this.signatureUrl=e},this.setDecryptionUrl=function(e){this.decryptionUrl=e},this.$get=["$http","uteEncryption","$q",function(r,i,o){var a=this;return{getCardType:e,getMaskedToken:t,getEncryptedToken:function(e){var t=o.defer();return r.post(a.signatureUrl).success(function(o){var a=n(e,i,o);t.resolve(r.jsonp(a))}).error(function(){t.reject("invalid cybersource environment, could not get uteEncryption signature")}),t.promise},getDecryptedToken:function(e,t){var n=a.decryptionUrl+"?encryptedToken="+e.token+"&bin="+e.iin+"&result="+e.rc+"&creditCardType="+t;return r.post(n)}}}]})}();