function count(e,t){var r,n=!1,i=0;switch(!0){case null===e||"undefined"==typeof e:return 0;case!isArray(e)&&!isObject(e):n=!0}switch(!0){case e.hasOwnProperty("length"):return e.length}switch(!0){case n:return 1}switch(!0){case"COUNT_RECURSIVE"===t:t=1}switch(!0){case 1!=t:t=0}for(r in e)switch(!0){case e.hasOwnProperty(r):switch(i++,!0){case 1==t&&e[r]&&(isArray(e[r])||isObject(e[r])):i+=this.count(e[r],1)}}return i}function in_array(e,t,r){var n="",i=!!r;if(i){for(n in t)if(t[n]===e)return!0}else for(n in t)if(t[n]==e)return!0;return!1}function array_search(e,t,r){var n=!!r,i="";if(t&&"object"==typeof t&&t.change_key_case)return t.search(e,r);if("object"==typeof e&&e.exec){if(!n){var o="i"+(e.global?"g":"")+(e.multiline?"m":"")+(e.sticky?"y":"");e=new RegExp(e.source,o)}for(i in t)if(e.test(t[i]))return i;return!1}for(i in t)if(n&&t[i]===e||!n&&t[i]==e)return i;return!1}function array_keys(e,t,r){var n="undefined"!=typeof t,i=[],o=!!r,a=!0,s="";if(e&&"object"==typeof e&&e.change_key_case)return e.keys(t,r);for(s in e)e.hasOwnProperty(s)&&(a=!0,n&&(o&&e[s]!==t?a=!1:e[s]!=t&&(a=!1)),a&&(i[i.length]=s));return i}function array_values(e){var t=[],r="";if(e&&"object"==typeof e&&e.change_key_case)return e.values();for(r in e)t[t.length]=e[r];return t}function array_combine(e,t){var r={},n=e&&e.length,i=0;if("object"!=typeof e||"object"!=typeof t||"number"!=typeof n||"number"!=typeof t.length||!n)return!1;if(n!=t.length)return!1;for(i=0;n>i;i++)r[e[i]]=t[i];return r}function implode(e,t){var r=Array.prototype.slice.call(arguments),n=r[2],i="",o="",a="";if(1===arguments.length&&(t=e,e=""),"object"==typeof t){if(n)for(i=0;i<count(t);i++)o+=a+t[i],a=e;else for(i in t)o+=a+t[i],a=e;return o}return t}function explode(e,t,r){if(arguments.length<2||"undefined"==typeof e||"undefined"==typeof t)return null;if(""===e||e===!1||null===e)return!1;if("function"==typeof e||"object"==typeof e||"function"==typeof t||"object"==typeof t)return{0:""};e===!0&&(e="1"),e+="",t+="";var n=t.split(e);return"undefined"==typeof r?n:(0===r&&(r=1),r>0?r>=n.length?n:n.slice(0,r-1).concat([n.slice(r-1).join(e)]):-r>=n.length?[]:(n.splice(n.length+r),n))}function urlencode(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function strrpos(e,t,r){var n=-1;return r?(n=(e+"").slice(r).lastIndexOf(t),-1!==n&&(n+=r)):n=(e+"").lastIndexOf(t),n>=0?n:!1}function uasort(e,t){var r=[],n="",i=0,o=!1,a={};"string"==typeof t?t=this[t]:"[object Array]"===Object.prototype.toString.call(t)&&(t=this[t[0]][t[1]]),this.php_js=this.php_js||{},this.php_js.ini=this.php_js.ini||{},o=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&"off"!==this.php_js.ini["phpjs.strictForIn"].local_value,a=o?e:a;for(n in e)e.hasOwnProperty(n)&&(r.push([n,e[n]]),o&&delete e[n]);for(r.sort(function(e,r){return t(e[1],r[1])}),i=0;i<r.length;i++)a[r[i][0]]=r[i][1];return o||a}function microtime(e){var t=(new Date).getTime()/1e3,r=parseInt(t,10);return e?t:Math.round(1e3*(t-r))/1e3+" "+r}function substr_count(e,t){var r=t.replace(/(?=[\\^$*+?.\(\)|{\}[\]])/g,"\\"),n=new RegExp(""+r,"g"),i=e.match(n);return i?i.length:0}function isString(e){return"string"==typeof e}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function isBool(e){return e===!0||e===!1}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isObject(e){switch(!0){case isArray(e):return!1}var t;for(var r in e)if(e.hasOwnProperty(r)){t=!1;break}switch(t=isBool(t)?t:!0,!0){case"object"==typeof e&&t===!1:return!0}return!1}function isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}function arrayToInteger(e){var t,r,n=[],i=[],o=[],a=[];n=array_keys(e),i=array_values(e),r=count(e);for(var s=0;r>s;s++)t=parseInt(i[s]),o.push(t);return a=array_combine(n,o)}function arrayHasDuplicates(e){for(var t={},r=count(e),n=0;r>n;++n){var i=e[n];if(Object.prototype.hasOwnProperty.call(t,i))return!0;t[i]=!0}return!1}function getValueAfterExplode(e,t,r){var n=explode(t,e);return n[r]}function getSortedKeys(e){for(var t=[],r=0;r<e.length;r++)t.push({key:r,value:e[r]});t.sort(function(e,t){return e.value<t.value?-1:e.value>t.value?1:0});for(var n=[],r=0;r<t.length;r++)n.push(t[r].key);return n}function getClosestNumberMatchArray(e,t){var r,n,i,o,a=Array.prototype.slice.call(arguments),s=isBool(a[2])?a[2]:!1,c=isBool(a[3])?a[3]:!0,u=isNumber(a[4])?a[4]:0,l=[],p=[];e=arrayToInteger(e),t=parseInt(t);for(var d=0;d<count(e);d++)r=t-e[d],r=Math.abs(r),p.push(r);switch(l=getSortedKeys(p),n=l[0],i=e[n],o=i-t,o=Math.abs(o),!0){case t>i:c=u>=o?!1:c,n=c?n+1:n}return i=e[n],s?n:i}function isEvenDecimal(e){var t,r,n=Array.prototype.slice.call(arguments),i=isBool(n[1])?n[1]:!1;switch(t=0>e&&i?-1*e:e,r=t%1,!0){case!isNumber(t)||1>t||0==r:return!1}return t=Math.floor(t),r=t%2,!(0!=r)}function getUrl(){var e,t=Array.prototype.slice.call(arguments),r=isString(t[0])&&""!=t[0]?t[0]:"",n=isString(t[1])&&""!=t[1]?t[1]:document.URL,i=[],o=/\?+/.test(n),a=n.match(/^([h|f]{1}[t]{0,1}tp[s]{0,1}\:\/\/)([^ ]+?)\?([^ ]*)/i);switch(!0){case"basepath"==r||"bp"==r:return o?a[1]+a[2]:n;case"basedir"==r||"bd"==r:return e=o?a[1]+a[2]:n,i=explode("/",e),i.pop(),implode("/",i);case"query"==r||"q"==r:return o?a[3]:"";default:return n}}function TagContainerLoader(){var e=this,t=e.w=window;e.d=t.document,e._c="s_l",t.s_c_il||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e.timeout=5e3,e.to=new Function("var t=s_c_il["+e._in+"];if(t.mt)t.mt(0)"),e.loadTagContainer=function(){var e,t,r=this,n=r.d.body,i=r.tagContainerServer?r.tagContainerServer:"www.adobetag.com",o=r.tagContainerServerSecure?r.tagContainerServerSecure:i,a=r.d.cookie,s=r.tagContainerEnv?r.tagContainerEnv:a?a.indexOf("s_tagEnv=dev")>=0?"dev":a.indexOf("s_tagEnv=stage")>=0?"stage":"live":"live",c=(r.w.location.protocol.toLowerCase().indexOf("https")>=0?"https://"+o:"http://"+i)+"/"+(r.tagContainerDC?r.tagContainerDC+"/":"")+r.tagContainerNamespace+"/"+s+"/"+r.tagContainerName+".js";r.tagContainerURL&&(c=r.tagContainerURL),r.timeout&&(r.ti=setTimeout(r.to,r.timeout)),r.d.getElementsByTagName?(e=r.d.getElementsByTagName("HEAD"),e&&e[0]&&(n=e[0])):n=0,n&&!r.tagContainerSynchronous?(t=r.d.createElement("SCRIPT"),t&&(t.type="text/javascript",t.setAttribute("async","async"),t.src=c,n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t))):r.d.write('<script language="JavaScript" type="text/javascript" src="'+c+'"></script>')},e.fs=function(e,t){if(e&&t){var r,n,i=e.split(","),o=t.split(",");for(r=0;r<i.length;r++)for(n=0;n<o.length;n++)if(i[r]==o[n])return 1}return 0},e.aa=function(e){var t,r=0;if(e)for(r=[],t=0;t<e.length;t++)r[t]=e[t];return r},e.wl=[],e.wq=[],e.createAsynchronousCustomTagHandler=function(e,t){var r,n,i=this;for(t?(i.w[e]||(i.w[e]={}),r=i.wl[e]=i.w[e]):(t=e,e=0,r=i.w),"object"!=typeof t&&(t=[t]),n=0;n<t.length;n++)r[t[n]]||(r[t[n]]=new Function("var t=s_c_il["+i._in+"];t.wq[t.wq.length]={"+(e?'o:"'+e+'",':"")+'f:"'+t[n]+'",a:t.aa(arguments)}'))},e.as=function(e){var t,r=[];for(t=1;t<e.length;t++)r[r.length]=e[t];return r},e.s=0,e.contextData={},e.retrieveLightData={},t.s_giq||(t.s_giq=[]),e._gi=t.s_gi,t.s_gi=new Function("u","var t=s_c_il["+e._in+'],w=t.w,l=t._il,i,j,x,s;u=u.toLowerCase();if(l)for(j=0;j<2;j++)for(i=0;i<l.length;i++){s=l[i];x=s._c;if((!x||x=="s_c"||(j>0&&x=="s_l"))&&s.oun&&(s.oun==u||(s.fs&&s.sa&&s.fs(s.oun,u)))){if(s.sa)s.sa(u);return s}}if(!t.oun){t.sa(u);return t}if(t._gi)return t._gi(u);s=new TagContainerLoader();s.tagContainerName="s_tca_"+w.s_giq.length;s.sa(u);w.s_giq[w.s_giq.length]=s;return s'),e.sa=function(e){var t=this;t.s&&t.s.sa(e),t.un=e,t.oun?t.fs(t.oun,e)||(t.oun+=","+e):t.oun=e},e.tq=[],e.track=e.t=function(e){var t,r=this;if(r.s)return r.s.t(e);e||(e={});for(t in r)("un"!=t||r.u!=r.un)&&(e[t]=r[t]);return r.tq[r.tq.length]=e,r.lnk=r.linkName=r.linkType="",""},e.trackLink=e.tl=function(e,t,r,n){var i=this;return i.s?i.s.tl(e,t,v,n):(i.lnk=e,i.linkType=t,i.linkName=r,i.t(n))},e.trackLight=function(e,t,r,n){var i=this;return i.s?i.s.trackLight(e,t,r,n):(i.lightProfileID=e,i.lightStoreForSeconds=t,i.lightIncrementBy=r,i.t(n))},e.lmq=[],e.loadModule=function(e,t,r){var n=this;return n.s?n.s.loadModule(e,t,r):(n.lmq[n.lmq.length]={n:e,u:t,d:r},0)},e.ml=[],e.mmq=[],e.mo=function(e,t){var r,n=this;if(n.ml[e]=n[e]={},t)for(r=0;r<t.length;r++)n[e][t[r]]=new Function("var t=s_c_il["+n._in+'];t.mmq[t.mmq.length]={m:"'+e+'",f:"'+t[r]+'",a:t.aa(arguments)}')},e.mo("Media",["open","play","stop","close","track"]),e.mo("Survey",["launch"]),e.mci=[],e.mn=[],e.mc=function(e,t,r,n){var i,o=this,a=0;if("undefined"!=typeof mboxFactoryDefault&&null!=o.d.getElementById(t)){if(!mboxFactoryDefault.isEnabled())return clearInterval(o.mci[n]),o.mt(!0),void 0;"undefined"!=typeof mboxFactoryDefault.get(o.mn[0],0)&&(a=mboxFactoryDefault.get(o.mn[0],0).isShown()),(0==n||a)&&(clearInterval(o.mci[n]),i=mboxFactoryDefault.create(e,r.split("&")),i&&i.load())}},t.mboxCreate||t.mboxDefine||t.mboxUpdate||(t.mboxVersion="mini",e.d.getElementById("mboxScriptContainer")||e.d.write('<div id="mboxScriptContainer" style="display:none;visibility:hidden;"></div><style>.mboxDefault{visibility:hidden;}</style>'),e.mt=function(e){var t,r,n,i=this;if("undefined"==typeof mboxFactoryDefault||e){for(t in i.mci)clearInterval(i.mci[t]);n=i.d.getElementsByClassName?i.d.getElementsByClassName("mboxDefault"):i.d.getElementsByTagName("div");for(r in n)"mboxDefault"==n[r].className&&(n[r].style.visibility="visible")}},e.mpi={},e.mp=function(e,t){var r=this;r.mpi[e]=setInterval(function(){"undefined"!=typeof mboxFactoryDefault&&(t(),clearInterval(r.mpi[e]))},13)},t.mboxCreate=function(t){var r,n,i,o,a=0;for(r in e.mn)e.mn[r]==t&&a++;e.mn[e.mn.length]=t,n="mboxMarker-default-"+t+"-"+a,e.d.write('<div id="'+n+'" style="visibility:hidden;display:none">&nbsp;</div>'),i=e.as(arguments).join("&"),o=e.mci.length,e.mci[o]=setInterval(function(){e.mc(t,n,i,o)},5)},t.mboxDefine=function(t,r){var n=e.as(arguments);e.mp("define_"+r,function(){mboxFactoryDefault.create(r,n,t)})},t.mboxUpdate=function(t){var r,n=e.as(arguments);r="update_"+t,e.mpi[r]=setInterval(function(){"undefined"!=typeof mboxFactoryDefault&&"undefined"!=typeof mboxFactoryDefault.get(t)&&(mboxFactoryDefault.update(t,n),clearInterval(e.mpi[r]))},13)},t.mboxLoadSCPlugin=function(e){!function(){return"undefined"==typeof mboxFactoryDefault||"undefined"==typeof mboxExternalLoadSCPlugin||"s_l"==e._c&&!e.s?(setTimeout(arguments.callee,19),void 0):("s_l"==e._c&&(e=e.s),mboxExternalLoadSCPlugin(e),void 0)}()})}!function(){"use strict";angular.module("ute.ui",["pascalprecht.translate","angularMoment","ngCookies","oc.lazyLoad","ui.bootstrap","ngTable"])}(),function(){"use strict";"undefined"==typeof $.prototype.hasAttr&&($.prototype.hasAttr=function(e){return null!==this.attr(e)&&void 0!==this.attr(e)})}(),function(){"use strict";String.prototype.toCamelCase=function(){return this.replace(/^([A-Z])|\s(\w)/g,function(e,t,r){return r?r.toUpperCase():t.toLowerCase()}).replace(/(’|'|"|!|$|%|^|&)/g,"")}}(),function(){function e(e,t,r){return e&t|~e&r}function t(e,t,r){return e&r|t&~r}function r(e,t,r){return e^t^r}function n(e,t,r){return t^(e|~r)}function i(e){return String.fromCharCode(255&e)+String.fromCharCode(e>>>8&255)+String.fromCharCode(e>>>16&255)+String.fromCharCode(e>>>24&255)}function o(e){for(;0>e;)e+=4294967296;for(;e>4294967295;)e-=4294967296;return e}function a(e,t,r,n,i){var a,s,c,u,p,d,f,h,m;a=n[0],s=n[1],c=n[2],u=n[3],p=i[0],d=i[1],f=i[2],m=r(t[s],t[c],t[u]),h=t[a]+m+e[p]+l[f],h=o(h),h=h<<d|h>>>32-d,h+=t[s],t[a]=o(h)}function s(e){for(var t,r=-1,n=(e=e.split("")).length,i=String.fromCharCode;++r<n;e[r]=(t=e[r].charCodeAt(0))>=127?i(192|t>>>6)+i(128|63&t):e[r]);return e.join("")}function c(e){var t,r,n,c,u,l,p,d,f,h,g,v,y;if(/[\x80-\xFF]/.test(e)&&(e=s(e)),n=new Array(1732584193,4023233417,2562383102,271733878),u=e.length,l=63&u,p=56>l?56-l:120-l,p>0)for(e+="",h=0;p-1>h;h++)e+="\x00";for(e+=i(8*u),e+=i(0),u+=p+8,t=new Array(0,1,2,3),r=new Array(16),c=new Array(4),v=0;u>v;v+=64){for(h=0,g=v;16>h;h++,g+=4)r[h]=e.charCodeAt(g)|e.charCodeAt(g+1)<<8|e.charCodeAt(g+2)<<16|e.charCodeAt(g+3)<<24;for(h=0;4>h;h++)c[h]=n[h];for(h=0;4>h;h++)for(d=m[h][0],f=m[h][1],g=0;16>g;g++)a(r,c,d,t,f[g]),y=t[0],t[0]=t[3],t[3]=t[2],t[2]=t[1],t[1]=y;for(h=0;4>h;h++)n[h]+=c[h],n[h]=o(n[h])}return i(n[0])+i(n[1])+i(n[2])+i(n[3])}function u(e){var t,r,n,i;for(i=c(e),r="",t=0;16>t;t++)n=i.charCodeAt(t),r+="0123456789abcdef".charAt(n>>4&15),r+="0123456789abcdef".charAt(15&n);return r}var l=new Array(0,3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329,4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562,4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645,4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745),p=new Array(new Array(0,7,1),new Array(1,12,2),new Array(2,17,3),new Array(3,22,4),new Array(4,7,5),new Array(5,12,6),new Array(6,17,7),new Array(7,22,8),new Array(8,7,9),new Array(9,12,10),new Array(10,17,11),new Array(11,22,12),new Array(12,7,13),new Array(13,12,14),new Array(14,17,15),new Array(15,22,16)),d=new Array(new Array(1,5,17),new Array(6,9,18),new Array(11,14,19),new Array(0,20,20),new Array(5,5,21),new Array(10,9,22),new Array(15,14,23),new Array(4,20,24),new Array(9,5,25),new Array(14,9,26),new Array(3,14,27),new Array(8,20,28),new Array(13,5,29),new Array(2,9,30),new Array(7,14,31),new Array(12,20,32)),f=new Array(new Array(5,4,33),new Array(8,11,34),new Array(11,16,35),new Array(14,23,36),new Array(1,4,37),new Array(4,11,38),new Array(7,16,39),new Array(10,23,40),new Array(13,4,41),new Array(0,11,42),new Array(3,16,43),new Array(6,23,44),new Array(9,4,45),new Array(12,11,46),new Array(15,16,47),new Array(2,23,48)),h=new Array(new Array(0,6,49),new Array(7,10,50),new Array(14,15,51),new Array(5,21,52),new Array(12,6,53),new Array(3,10,54),new Array(10,15,55),new Array(1,21,56),new Array(8,6,57),new Array(15,10,58),new Array(6,15,59),new Array(13,21,60),new Array(4,6,61),new Array(11,10,62),new Array(2,15,63),new Array(9,21,64)),m=new Array(new Array(e,p),new Array(t,d),new Array(r,f),new Array(n,h));md5=function(e){return u(e)}}(),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,n,i,o,a,s=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,r=0;o>r;r+=1)a[r]=str(r,c)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,r=0;o>r;r+=1)"string"==typeof rep[r]&&(n=rep[r],i=str(n,c),i&&a.push(quote(n)+(gap?": ":":")+i));else for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(i=str(n,c),i&&a.push(quote(n)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;r>n;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var r,n,i=e[t];if(i&&"object"==typeof i)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n=walk(i,r),void 0!==n?i[r]=n:delete i[r]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){function r(e,r){n.addType(e,function(o,a,s){var c,u,l,p,d=a,f=(new Date).getTime();if(!o){d={},p=[],l=0;try{for(o=r.length;o=r.key(l++);)i.test(o)&&(u=JSON.parse(r.getItem(o)),u.expires&&u.expires<=f?p.push(o):d[o.replace(i,"")]=u.data);for(;o=p.pop();)r.removeItem(o)}catch(h){}return d}if(o="__amplify__"+o,a===t){if(c=r.getItem(o),u=c?JSON.parse(c):{expires:-1},!(u.expires&&u.expires<=f))return u.data;r.removeItem(o)}else if(null===a)r.removeItem(o);else{u=JSON.stringify({data:a,expires:s.expires?f+s.expires:null});try{r.setItem(o,u)}catch(h){n[e]();try{r.setItem(o,u)}catch(h){throw n.error()}}}return d})}var n=e.store=function(e,t,r){var i=n.type;return r&&r.type&&r.type in n.types&&(i=r.type),n.types[i](e,t,r||{})};n.types={},n.type=null,n.addType=function(e,t){n.type||(n.type=e),n.types[e]=t,n[e]=function(t,r,i){return i=i||{},i.type=e,n(t,r,i)}},n.error=function(){return"amplify.store quota exceeded"};var i=/^__amplify__/;for(var o in{localStorage:1,sessionStorage:1})try{window[o].setItem("__amplify__","x"),window[o].removeItem("__amplify__"),r(o,window[o])}catch(a){}if(!n.types.localStorage&&window.globalStorage)try{r("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===n.type&&(n.type="globalStorage")}catch(a){}!function(){if(!n.types.localStorage){var e=document.createElement("div"),r="amplify";e.style.display="none",document.getElementsByTagName("head")[0].appendChild(e);try{e.addBehavior("#default#userdata"),e.load(r)}catch(i){return e.parentNode.removeChild(e),void 0}n.addType("userData",function(i,o,a){e.load(r);var s,c,u,l,p,d=o,f=(new Date).getTime();if(!i){for(d={},p=[],l=0;s=e.XMLDocument.documentElement.attributes[l++];)c=JSON.parse(s.value),c.expires&&c.expires<=f?p.push(s.name):d[s.name]=c.data;for(;i=p.pop();)e.removeAttribute(i);return e.save(r),d}if(i=i.replace(/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-"),i=i.replace(/^-/,"_-"),o===t){if(s=e.getAttribute(i),c=s?JSON.parse(s):{expires:-1},!(c.expires&&c.expires<=f))return c.data;e.removeAttribute(i)}else null===o?e.removeAttribute(i):(u=e.getAttribute(i),c=JSON.stringify({data:o,expires:a.expires?f+a.expires:null}),e.setAttribute(i,c));try{e.save(r)}catch(h){null===u?e.removeAttribute(i):e.setAttribute(i,u),n.userData();try{e.setAttribute(i,c),e.save(r)}catch(h){throw null===u?e.removeAttribute(i):e.setAttribute(i,u),n.error()}}return d})}}(),function(){function e(e){return e===t?t:JSON.parse(JSON.stringify(e))}var r={},i={};n.addType("memory",function(n,o,a){return n?o===t?e(r[n]):(i[n]&&(clearTimeout(i[n]),delete i[n]),null===o?(delete r[n],null):(r[n]=o,a.expires&&(i[n]=setTimeout(function(){delete r[n],delete i[n]},a.expires)),o)):e(r)})}()}(this.amplify=this.amplify||{}),function(e){function t(){a.setAttribute("content",d),f=!0}function r(){a.setAttribute("content",p),f=!1}function n(n){e.orientation;return 90==Math.abs(e.orientation)?(f&&t(),void 0):(u=n.accelerationIncludingGravity,s=Math.abs(u.x),c=Math.abs(u.y),0==c||s/c>1.2?f&&r():f||t(),void 0)}var i=navigator.userAgent.toLowerCase();if(/iphone|ipad|ipod/.test(navigator.platform.toLowerCase())&&/os [1-5]_[0-9_]* like mac os x/i.test(i)&&i.indexOf("applewebkit")>-1&&-1==i.indexOf("crios")){var o=e.document;if(o.querySelector){var a=o.querySelector("meta[name=viewport]");if(a){var s,c,u,l=a&&a.getAttribute("content"),p=l+",maximum-scale=1",d=l+",maximum-scale=10",f=!0;e.addEventListener("orientationchange",t,!1),e.addEventListener("devicemotion",n,!1)}}}}(this),function(e,t,r){"$:nomunge";function n(){i=t[s](function(){o.each(function(){var t=e(this),r=t.width(),n=t.height(),i=e.data(this,u);(r!==i.w||n!==i.h)&&t.trigger(c,[i.w=r,i.h=n])}),n()},a[l])}var i,o=e([]),a=e.resizecontainer=e.extend(e.resize,{}),s="setTimeout",c="resizecontainer",u=c+"-special-event",l="delay",p="throttleWindow";a[l]=250,a[p]=!0,e.event.special[c]={setup:function(){if(!a[p]&&this[s])return!1;var t=e(this);o=o.add(t),e.data(this,u,{w:t.width(),h:t.height()}),1===o.length&&n()},teardown:function(){if(!a[p]&&this[s])return!1;var t=e(this);o=o.not(t),t.removeData(u),o.length||clearTimeout(i)},add:function(t){function n(t,n,o){var a=e(this),s=e.data(this,u);s.w=n!==r?n:a.width(),s.h=o!==r?o:a.height(),i.apply(this,arguments)}if(!a[p]&&this[s])return!1;var i;return e.isFunction(t)?(i=t,n):(i=t.handler,t.handler=n,void 0)}}}(jQuery,window),function(e){window.elementIsChildOf=function(t,r){var n=!1,i=e(""+t),o=e(""+r);switch(!0){case-1!=e(o).parents().index(i):n=!0}return n},window.getSelector=function(t){var r=e(t),n=r.attr("id");if(n)return"#"+n;var i=r[0].nodeName.toLowerCase();if("html"==i||"body"==i)return i;var o=r.parents().map(function(){return this.tagName}).get().reverse().join(" ");o&&(o+=" "+r[0].nodeName);var a=r.attr("class");a&&(o+="."+e.trim(a).replace(/\s/gi,"."));var s=r.attr("name");if(s&&(o+="[name='"+s+"']"),!s){var c=r.index();c&&(c+=1,o+=":nth-child("+c+")")}return o}}(jQuery);var Restive=function(e,t,r){function n(){c("rstv_timestamp_curr",microtime(!0)),c("rstv_timestamp_init",c("rstv_timestamp_curr")),i(),I(),c("rstv_ort_init",J()),c("rstv_ort_curr",J())}function i(){c("rstv_var_doc_client_w",gt.clientWidth),c("rstv_var_doc_client_h",gt.clientHeight),c("rstv_var_win_outer_w",e.outerWidth),c("rstv_var_win_outer_h",e.outerHeight),c("rstv_var_win_screen_w",yt.width),c("rstv_var_win_screen_h",yt.height)}function o(){var e=parseInt(c("rstv_loaded_count"));switch(!0){case!isNumber(e):e=0}e++,c("rstv_loaded_count",e,"",{expires:1500})}function a(){var e=parseInt(c("rstv_loaded_count")),t=c("rstv_ffld_is_init");switch(!0){case e>1:switch(c("rstv_viewportW rstv_viewportW_dip rstv_viewportH rstv_viewportH_dip rstv_screenW rstv_screenH",null),c("rstv_is_ios rstv_is_android rstv_is_blackberry rstv_is_symbian rstv_is_windows rstv_is_windows_phone",null),c("rstv_is_android_1_ rstv_is_android_2_ rstv_is_android_3_",null),c("rstv_is_phone rstv_is_tablet rstv_is_tv rstv_is_pc",null),c("rstv_ort_curr rstv_timestamp_curr rstv_is_portrait rstv_is_landscape",null),c("rstv_multi_count rstv_multi_bpm_idx rstv_cache_bpm rstv_cache_bpm_lock rstv_cache_req rstv_cache_bpm_viewport_diff",null),c("rstv_user_agent",null),c("rstv_timestamp_curr",microtime(!0)),c("rstv_ort_curr",J()),!0){case!t:c("rstv_timestamp_init",c("rstv_timestamp_curr")),c("rstv_ort_init",J()),c("rstv_ffld_is_init",!0)}}}function s(){try{localStorage.setItem("__test","data")}catch(e){if(/QUOTA_?EXCEEDED/i.test(e.name))return!0}return!1}function c(){var t,r,n=Array.prototype.slice.call(arguments),i=e.rstv_store.main.rstv_is_priv_browsing,o=n[0],a=n[1],s="undefined"!=typeof n[2]&&null!==n[2]&&isString(n[2])&&""!=n[2]?n[2]:"ss",c=n[3],u=[],l=isString(o)&&""!=o?!1:!0,p=!("undefined"==typeof a||null===a||!(isString(a)&&""!=a||isNumber(a)||isArray(a)&&count(a)>0||isBool(a)||isObject(a))),d=!(null!==a);try{switch(!0){case i:t="storage",r=e.rstv_store[t];break;default:switch(!0){case"ls"==s:t="localStorage";break;default:t="sessionStorage"}switch(r=amplify.store[t],!0){case!e.sessionStorage||!e.localStorage:r=amplify.store}switch(!0){case l:return r()}}switch(!0){case!p&&!d:return r(o)}switch(!0){case d:u=explode(" ",o);for(var f=0;f<count(u);f++)r(u[f],null);return null}r(o,null),r(o,a,c)}catch(h){}}function u(e,t){var n,i,o=Array.prototype.slice.call(arguments),a=isString(o[2])&&""!=o[2]?o[2]:"ck",s=isBool(o[3])?o[3]:!1,u=isNumber(o[4])||isString(o[4])?parseInt(o[4]):"",l=isNumber(o[4])||isString(o[4])?parseInt(o[4]):30,p=isBool(o[5])?o[5]:!0,d=isString(o[6])&&""!=o[6]?o[6]:"-!",f=isNumber(o[7])||isString(o[7])?parseInt(o[7]):60,h=[],m=[];switch(n="ls"==a?c(e):r.cookie(e),!0){case null===n||"undefined"==typeof n:return"ls"==a?c(e,t,"",{expires:u}):r.cookie(e,t,{expires:l,path:"/"}),!0;case"undefined"!=typeof n&&null!==n&&""!=n:switch(h=explode(d,n),!0){case in_array(t,h)&&s:return!1;default:switch(!0){case p:h.unshift(t),m=h.slice(0,f),i=implode(d,m);break;default:h.push(t),i=implode(d,h)}return"ls"==a?c(e,i,"",{expires:u}):r.cookie(e,i,{expires:l,path:"/"}),!0}}}function l(e,t){var n=Array.prototype.slice.call(arguments),i=isString(n[2])&&""!=n[2]?n[2]:"ck",o=isString(n[3])&&""!=n[3]?n[3]:"-!",a="ls"==i?c(t):r.cookie(t);switch(!0){case"undefined"!=typeof a&&null!==a&&""!=a:var s=[];switch(s=explode(o,a),!0){case in_array(e,s):return!0;default:return!1}break;default:return!1}}function p(e){var t=Array.prototype.slice.call(arguments),r=t[1],n=c(""+e),i=!("undefined"==typeof r||null===r),o=!1;switch(!0){case isBool(n)||null!==n&&"undefined"!=typeof n&&""!=n:o=!0}switch(!0){case!i:return o}switch(!0){case!o:c(e,r)}}function d(e){var t,r=Array.prototype.slice.call(arguments),n=isNumber(r[1])?r[1]:1,i=isBool(r[2])?r[2]:!1;switch(t=parseInt(c(e)),!0){case!isNumber(t):return!1}return t=i?t-n:t+n,c(e,t),t}function f(e){var t=[120,128,160,200,240,272,300,320,352,360,480,540,576,600,640,720,768,800,864,900,1024,1050,1080,1152,1200,1440,1536,1600,1800,2048,2160,2400,3072,3200,4096,4320,4800],r=[160,240,260,320,400,432,480,640,720,800,854,960,1024,1136,1152,1280,1360,1366,1400,1440,1600,1680,1920,2048,2560,2880,3200,3840,4096,5120,6400,7680];switch(!0){case"w"==e:return t;case"h"==e:return r}}function h(e){var t,r,n,i=Array.prototype.slice.call(arguments),o=isBool(i[1])?i[1]:!0,a=!1,s=!(!V()&&!q()),u=k(),l=c("rstv_var_win_outer_w"),p=c("rstv_var_win_outer_h"),d=c("rstv_var_doc_client_w"),h=c("rstv_var_doc_client_h"),m=c("rstv_var_win_screen_w"),g=c("rstv_var_win_screen_h");switch(!0){case s:switch(!0){case"vW"==e:t=d;break;case"vH"==e:t=h;break;case"sW"==e:t=m;break;case"sH"==e:t=g}switch(!0){case"vW"==e||"vH"==e:t=u>=1.5?t*u:t}return t=Math.floor(t)}var v,y,b,_,w,C,S,A,I,x,E=R(),T=/opera.+(mini|mobi)/i.test(E),P=!!D(),L=!!O(),$=!!j(),N=!!M(),z=!!M("1."),U=!!M("2."),B=!!(z||U||L||$),F=m,W=g,H=F,J=f("w"),Q=f("h"),Y=J,G=Q;switch(!0){case B:v=0>=l?d:l,y=0>=p?h:p,b=v,_=y;break;default:v=d,y=h,b=d,_=h}switch(!0){case(U||L)&&!T:F=0>=l?F:l,W=0>=p?W:p}switch(C=F/W,w=F-v,w=Math.abs(w),x=T&&260>v?4>=w&&C>=1?!0:!1:!0,A=!!(b>=_&&x),I=!!(F>=W),!0){case P:Y=Y.slice(7),G=G.slice(6);break;case N:Y=Y.slice(4),G=G.slice(3);break;case L:Y=Y.slice(4)}switch(!0){case A:J=G,Q=Y;break;default:J=Y,Q=G}switch(!0){case"vW"==e:t=v;break;case"vH"==e:t=y;break;case"sW"==e:S=!!(A===!0&&I===!1||A===!1&&I===!0),t=S?W:F,H=S?W:F,r=t*u,a=o?in_array(t,J)||in_array(r,J)?!1:!0:!1;break;case"sH"==e:S=!!(A===!0&&I===!1||A===!1&&I===!0),t=S?F:W,H=S?W:F,r=t*u,a=o?in_array(t,Q)||in_array(r,Q)?!1:!0:!1}switch(n=H/v,!0){case 1>=u&&1.1>=n:switch(!0){case"sW"==e&&a:t=getClosestNumberMatchArray(J,t,"","",8);break;case"sH"==e&&a:t=getClosestNumberMatchArray(Q,t,"","",8)}return t}switch(!0){case P:t*=u;break;default:switch(!0){case!U:switch(!0){case 1>=u&&n>1.1:t=in_array(e,["vW","vH"])?t*n:t;break;case u>1&&1.1>=n:switch(!0){case 1.1>=u:switch(!0){case in_array(e,["vW","vH"]):t*=u,t=isEvenDecimal(t)?Math.floor(t):t}break;default:t*=u}break;case u>1&&n>1.1:switch(!0){case in_array(e,["vW","vH"]):t*=u,t=isEvenDecimal(t)?Math.floor(t):Math.ceil(t)}}}switch(!0){case"sW"==e&&a:t=getClosestNumberMatchArray(J,t,"","",8);break;case"sH"==e&&a:t=getClosestNumberMatchArray(Q,t,"","",8)}}return t=Math.floor(t)}function m(e){var t,r=!("w"!=e),n=!(!V()&&!q()),i=k();switch(!0){case n:i=1.5>=i?1:i}return t=r?b()/i:_()/i,Math.round(t)}function g(e,t){var r,n=Array.prototype.slice.call(arguments),i=isString(n[2])&&""!=n[2]?n[2]:"d",o=isBool(n[3])?n[3]:!1;switch(t=t.toLowerCase(),!0){case"w"==t:switch(!0){case"i"==i:r=e.innerWidth();break;case"o"==i:r=e.outerWidth();break;default:r=e.width()}break;case"h"==t:switch(!0){case"i"==i:r=e.innerHeight();break;case"o"==i:r=e.outerHeight();break;default:r=e.height()}break;default:r=!1}switch(!0){case o===!1:r*=k()}return r}function v(e){var t=Array.prototype.slice.call(arguments),r=t[1],n=t[2];return g(e,"w",r,n)}function y(e){var t=Array.prototype.slice.call(arguments),r=t[1],n=t[2];return g(e,"h",r,n)}function b(){return p("rstv_viewportW")?c("rstv_viewportW"):h("vW",c("rstv_is_getdim_screen_adj"))}function _(){return p("rstv_viewportH")?c("rstv_viewportH"):h("vH",c("rstv_is_getdim_screen_adj"))}function w(){return p("rstv_screenW")?c("rstv_screenW"):h("sW",c("rstv_is_getdim_screen_adj"))}function C(){return p("rstv_screenH")?c("rstv_screenH"):h("sH",c("rstv_is_getdim_screen_adj"))}function S(){return p("rstv_viewportW_dip")?c("rstv_viewportW_dip"):m("w")}function A(){return p("rstv_viewportH_dip")?c("rstv_viewportH_dip"):m("h")}function I(){c("rstv_viewportW rstv_viewportW_dip rstv_viewportH rstv_viewportH_dip rstv_screenW rstv_screenH",null),c("rstv_viewportW",b()),c("rstv_viewportH",_()),c("rstv_screenW",w()),c("rstv_screenH",C()),c("rstv_viewportW_dip",S()),c("rstv_viewportH_dip",A())}function k(e){switch(!0){case p("rstv_pixel_ratio"):return c("rstv_pixel_ratio")}var t,r,n,i,o=R(),a=/opera.+(mini|mobi)/i.test(o),s=c("rstv_var_doc_client_w"),u=c("rstv_var_win_outer_w"),l=c("rstv_var_win_screen_w"),d=!!O(),f=!!j(),h=!!M("1."),m=!!M("2."),g=!!(h||m||d||f),v=!(!f&&!d),y=g?0>=u?s:u:s,b=!m&&!d||a?l:0>=u?l:u;switch(r=mt.devicePixelRatio,!0){case 0>=r||"undefined"==typeof r||null===r:switch(n=b/y,t=n,!0){case v:switch(!0){case t>.5&&1.2>t:t=1;break;case t>=1.2&&2>t:t=1.5;break;case t>=2&&3>t:t=2;break;case t>=3:t=3;break;default:t=1}}c("rstv_pixel_ratio_virtual",n);break;default:t=r}switch(!0){case!isNumber(e):return i=t||(k(3)?3:k(2)?2:k(1.5)?1.5:k(1)?1:0),c("rstv_pixel_ratio",i),i}switch(!0){case!isFinite(e):return!1}switch(!0){case t&&t>0:return t>=e}switch(e="only all and (min--moz-device-pixel-ratio:"+e+")",!0){case bt(e).matches:return!0}return!!bt(e.replace("-moz-","")).matches}function x(){var e=k();switch(!0){case e>=2:return!0}return!1}function E(e){return function(t,r){var n,i=Array.prototype.slice.call(arguments),o=i[2],a=!(!isObject(o)||"undefined"==typeof o||null===o),s=i[3],c=i[4],u=a?e(o,s,c):e();return n=u>=(t||0),r?n&&r>=u:n}}function R(){switch(!0){case p("rstv_user_agent"):return c("rstv_user_agent")}var e,t=navigator.userAgent.toLowerCase();switch(e=/mozilla.+x11/i.test(t),!0){case e:r.ajax({type:"GET",async:!1,crossDomain:!0,url:"http://www.restive.io/ping/ua.php",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},success:function(e){t=e},error:function(){}})
}return c("rstv_user_agent",t),t}function T(){switch(!0){case P("ios"):return"ios";case P("android"):return"android";case P("symbian"):return"symbian";case P("blackberry"):return"blackberry";case P("windows"):return"windows";default:return"other"}}function P(e){var t=Array.prototype.slice.call(arguments),r=!(!isString(t[1])||""==t[1]),n="",i="",o="";switch(!0){case r:n=t[1],n=n.replace(/^\s+|\s+$/g,""),i=" "+n,o="_"+n.replace(".","_")}switch(!0){case p("rstv_is_"+e+o):return c("rstv_is_"+e+o)}var a=R(),s=!1;switch(!0){case"ios"==e:s=/\bipad|\biphone|\bipod/i.test(a);break;case"android"==e:var u=new RegExp("\\bandroid"+i,"i");s=u.test(a);break;case"symbian"==e:s=/series(4|6)0|symbian|symbos|syb-[0-9]+|\bs60\b/i.test(a);break;case"blackberry"==e:s=/bb[0-9]+|blackberry|playbook|rim +tablet/i.test(a);break;case"windows"==e:s=/window mobile|windows +(ce|phone)|windows +nt.+arm|windows +nt.+touch|xblwp7|zunewp7/i.test(a);break;case"windows_phone"==e:s=/windows +phone|xblwp7|zunewp7/i.test(a);break;default:return!1}return c("rstv_is_"+e+o,s),!!s}function D(){return P("ios")}function L(){return P("ios")}function M(){var e=Array.prototype.slice.call(arguments),t=e[0];return P("android",t)}function O(){return P("symbian")}function $(){return P("blackberry")}function j(){return P("windows")}function N(){return P("windows_phone")}function z(e){return/android|android.+mobile|avantgo|bada\/|\bbb[0-9]+|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|\bip(hone|od|ad)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|motorola|mobile.+firefox|netfront|nokia|nintendo +3ds|opera m(ob|in)i|palm|palm( os)?|phone|p(ixi|re)\/|playbook|rim +tablet|playstation.+vita|plucker|pocket|psp|samsung|(gt\-|bgt\-|sgh\-|sph\-|sch\-)[a-z][0-9]+|series(4|6)0|symbian|symbos|\bs60\b|treo|up\.(browser|link)|vertu|vodafone|wap|windows (ce|phone)|windows +nt.+arm|windows +nt.+touch|xda|xiino|xblwp7|zunewp7/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb|b\-[0-9]+)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}function U(){var e="";switch(!0){case F():e="tablet";break;case q():e="tv";break;default:switch(!0){case B():e="phone";break;default:e="pc"}}return e}function B(){switch(!0){case p("rstv_is_phone"):return c("rstv_is_phone")}switch(!0){case F(!0)||q():return c("rstv_is_phone",!1),!1}switch(!0){case z(R()||navigator.vendor.toLowerCase()||e.opera):return c("rstv_is_phone",!0),!0}return c("rstv_is_phone",!1),!1}function F(){var e=Array.prototype.slice.call(arguments),t=isBool(e[0])?e[0]:!1;switch(!0){case p("rstv_is_tablet"):return c("rstv_is_tablet")}var r,n,i,o=R(),a=parseInt(c("rstv_viewportW_dip")),s=parseInt(c("rstv_viewportH_dip")),u=c("rstv_is_portrait")?a:s;switch(n=new RegExp("ipad|playbook|rim +tablet","i"),i=n.test(o),!0){case i:return t||c("rstv_is_tablet",!0),!0}switch(n=new RegExp("windows +nt.+arm|windows +nt.+touch","i"),i=n.test(o),!0){case i:switch(!0){case isNumber(u)&&520>=u:return t||(c("rstv_is_tablet",!1),c("rstv_is_phone")===!1&&c("rstv_is_phone",!0)),!1;default:return t||c("rstv_is_tablet",!0),!0}}switch(r="android.+kindle|kindle +fire|android.+silk|silk.*accelerated|android.+nexus +(7|10)|samsung.*tablet|galaxy.*tab|sc-01c|gt-p1000|gt-p1003|gt-p1010|gt-p3105|gt-p6210|gt-p6800|gt-p6810|gt-p7100|gt-p7300|gt-p7310|gt-p7500|gt-p7510|sch-i800|sch-i815|sch-i905|sgh-i957|sgh-i987|sgh-t849|sgh-t859|sgh-t869|sph-p100|gt-p3100|gt-p3108|gt-p3110|gt-p5100|gt-p5110|gt-p6200|gt-p7320|gt-p7511|gt-n8000|gt-p8510|sgh-i497|sph-p500|sgh-t779|sch-i705|sch-i915|gt-n8013|gt-p3113|gt-p5113|gt-p8110|gt-n8010|gt-n8005|gt-n8020|gt-p1013|gt-p6201|gt-p7501|gt-n5100|gt-n5110|shv-e140k|shv-e140l|shv-e140s|shv-e150s|shv-e230k|shv-e230l|shv-e230s|shw-m180k|shw-m180l|shw-m180s|shw-m180w|shw-m300w|shw-m305w|shw-m380k|shw-m380s|shw-m380w|shw-m430w|shw-m480k|shw-m480s|shw-m480w|shw-m485w|shw-m486w|shw-m500w|gt-i9228|sch-p739|sch-i925|gt-i9200|gt-i9205|gt-p5200|gt-p5210|sm-t311|sm-t310|sm-t210|sm-t210r|sm-t211|sm-p600|sm-p601|sm-p605|sm-p900|sm-t217|sm-t217a|sm-t217s|sm-p6000|sm-t3100|sgh-i467|xe500|htc flyer|htc jetstream|htc-p715a|htc evo view 4g|pg41200|xoom|sholest|mz615|mz605|mz505|mz601|mz602|mz603|mz604|mz606|mz607|mz608|mz609|mz615|mz616|mz617|transformer|^.*padfone((?!mobile).)*$|tf101|tf201|tf300|tf700|tf701|tf810|me171|me301t|me302c|me371mg|me370t|me372mg|me172v|me173x|me400c|slider *sl101|android.+nook|nookcolor|nook browser|bnrv200|bnrv200a|bntv250|bntv250a|bntv400|bntv600|logicpd zoom2|android.*\\b(a100|a101|a110|a200|a210|a211|a500|a501|a510|a511|a700|a701|w500|w500p|w501|w501p|w510|w511|w700|g100|g100w|b1-a71|b1-710|b1-711|a1-810)\\b|w3-810|android.*(at100|at105|at200|at205|at270|at275|at300|at305|at1s5|at500|at570|at700|at830)|toshiba.*folio|\\bl-06c|lg-v900|lg-v905|lg-v909|android.+(xenta.+tab|tab210|tab211|tab224|tab250|tab260|tab264|tab310|tab360|tab364|tab410|tab411|tab420|tab424|tab450|tab460|tab461|tab464|tab465|tab467|tab468|tab469)|android.+\\boyo\\b|life.*(p9212|p9514|p9516|s9512)|lifetab|an10g2|an7bg3|an7fg3|an8g3|an8cg3|an7g3|an9g3|an7dg3|an7dg3st|an7dg3childpad|an10bg3|an10bg3dt|android.+archos|\\b(101g9|80g9|a101it)\\b|qilive 97r|novo7|novo7aurora|novo7basic|novo7paladin|novo8|novo9|novo10|sony tablet|sony tablet s|sgpt12|sgpt121|sgpt122|sgpt123|sgpt111|sgpt112|sgpt113|sgpt211|sgpt213|ebrd1101|ebrd1102|ebrd1201|sgpt311|sgpt312|sonyso-03e|android.*(k8gt|u9gt|u10gt|u16gt|u17gt|u18gt|u19gt|u20gt|u23gt|u30gt)|cube u8gt|mid1042|mid1045|mid1125|mid1126|mid7012|mid7014|mid7034|mid7035|mid7036|mid7042|mid7048|mid7127|mid8042|mid8048|mid8127|mid9042|mid9740|mid9742|mid7022|mid7010|android.*(\\bmid\\b|mid-560|mtv-t1200|mtv-pnd531|mtv-p1101|mtv-pnd530)|android.*(rk2818|rk2808a|rk2918|rk3066)|rk2738|rk2808a|t-hub2|iq310|fly vision|bq.*(elcano|curie|edison|maxwell|kepler|pascal|tesla|hypatia|platon|newton|livingstone|cervantes|avant)|mediapad|ideos s7|s7-201c|s7-202u|s7-101|s7-103|s7-104|s7-105|s7-106|s7-201|s7-slim|\\bn-06d|\\bn-08d|pantech.*p4100|broncho.*(n701|n708|n802|a710)|touchpad.*[78910]|\\btouchtab\\b|z1000|z99 2g|z99|z930|z999|z990|z909|z919|z900|tb07sta|tb10sta|tb07fta|tb10fta|android.*\\bnabi|playstation.*(portable|vita)|dell.*streak|milagrow +tab.*top|android.+(ideapad|ideatab|lenovo +a1|s2110|s6000|k3011|a3000|a1000|a2107|a2109|a1107)|android.+f8-sup|android.*(k080|arc|vox)|android.*(msi.+enjoy|enjoy +7|enjoy +10)|dropad.+a8|android.+c906|android.+iberry.+auxus|android.+aigopad|android.*(airpad|liquid metal)|android.+hcl.+tablet|connect-3g-2.0|connect-2g-2.0|me tablet u1|me tablet u2|me tablet g1|me tablet x1|me tablet y2|me tablet sync|android.*(a39|a37|a34|st8|st10|st7|smarttab|smart +tab)|android.*(micromax.+funbook|funbook|p250|p275|p300|p350|p362|p500|p600)|micromax.*(p250|p275|p350|p362|p500|p600)|funbook|android.+penta|android.*(celkon.+ct|ct-[0-9])|android.+i-buddy|android.*(viewbook|viewpad)|android.*(v9|zte.+v8110|light tab|light pro|beeline|base.*tab)|chagall|android.*(vandroid|t3i)|android.*(ziio7|ziio10)|android.*(v-t100|v-tw100|v-tr200|v-t300)|android.+vtab1008|bookeen|cybook|android.*lifetab_(s9512|p9514|p9516)|m702pro|irulu-al101|pmp3170b|pmp3270b|pmp3470b|pmp7170b|pmp3370b|pmp3570c|pmp5870c|pmp3670b|pmp5570c|pmp5770d|pmp3970b|pmp3870c|pmp5580c|pmp5880d|pmp5780d|pmp5588c|pmp7280c|pmp7280|pmp7880d|pmp5597d|pmp5597|pmp7100d|per3464|per3274|per3574|per3884|per5274|per5474|pmp5097cpro|pmp5097|pmp7380d|pmp5297c|pmp5297c_quad|allview.*(viva|alldro|city|speed|all tv|frenzy|quasar|shine|tx1|ax1|ax2)|megafon +v9|android.+(z7c|z7h|z7s)|android.+iball.+slide.+(3g *7271|3g *7334|3g *7307|3g *7316|i7119|i7011)|android.+iball.+i6012|navipad|tb-772a|tm-7045|tm-7055|tm-9750|tm-7016|tm-7024|tm-7026|tm-7041|tm-7043|tm-7047|tm-8041|tm-9741|tm-9747|tm-9748|tm-9751|tm-7022|tm-7021|tm-7020|tm-7011|tm-7010|tm-7023|tm-7025|tm-7037w|tm-7038w|tm-7027w|tm-9720|tm-9725|tm-9737w|tm-1020|tm-9738w|tm-9740|tm-9743w|tb-807a|tb-771a|tb-727a|tb-725a|tb-719a|tb-823a|tb-805a|tb-723a|tb-715a|tb-707a|tb-705a|tb-709a|tb-711a|tb-890hd|tb-880hd|tb-790hd|tb-780hd|tb-770hd|tb-721hd|tb-710hd|tb-434hd|tb-860hd|tb-840hd|tb-760hd|tb-750hd|tb-740hd|tb-730hd|tb-722hd|tb-720hd|tb-700hd|tb-500hd|tb-470hd|tb-431hd|tb-430hd|tb-506|tb-504|tb-446|tb-436|tb-416|tb-146se|tb-126se|android.*\\bg1\\b|tx-a1301|tx-m9002|q702|ly-f528|android.+dslide.*\\b(700|701r|702|703r|704|802|970|971|972|973|974|1010|1012)\\b|m9701|m9000|m9100|m806|m1052|m806|t703|mid701|mid713|mid710|mid727|mid760|mid830|mid728|mid933|mid125|mid810|mid732|mid120|mid930|mid800|mid731|mid900|mid100|mid820|mid735|mid980|mid130|mid833|mid737|mid960|mid135|mid860|mid736|mid140|mid930|mid835|mid733|android.*\\b(f-01d|f-05e|f-10d|m532|q572)\\b|android.+casiatab8|android.+hudl|android.*(polaroid.*tablet|pmid1000|pmid10c|pmid800|pmid700|pmid4311|pmid701c|pmid701i|pmid705|pmid706|pmid70dc|pmid70c|pmid720|pmid80c|pmid901|ptab7200|ptab4300|ptab750|midc010|midc407|midc409|midc410|midc497|midc700|midc800|midc801|midc802|midc901)|e-boda.+(supreme|impresspeed|izzycomm|essential)|hp slate 7|hp elitepad 900|hp-tablet|elitebook.*touch|fine7 genius|fine7 shine|fine7 air|fine8 style|fine9 more|fine10 joy|fine11 wide|android.*\\b(n10|n10-4core|n78|n79|n83|n90 ii)\\b|\\b(pem63|plt1023g|plt1041|plt1044|plt1044g|plt1091|plt4311|plt4311pl|plt4315|plt7030|plt7033|plt7033d|plt7035|plt7035d|plt7044k|plt7045k|plt7045kb|plt7071kg|plt7072|plt7223g|plt7225g|plt7777g|plt7810k|plt7849g|plt7851g|plt7852g|plt8015|plt8031|plt8034|plt8036|plt8080k|plt8082|plt8088|plt8223g|plt8234g|plt8235g|plt8816k|plt9011|plt9045k|plt9233g|plt9735|plt9760g|plt9770g)\\b|bq1078|bc1003|bc1077|rk9702|bc9730|bc9001|it9001|bc7008|bc7010|bc708|bc728|bc7012|bc7030|bc7027|bc7026|tpc7102|tpc7103|tpc7105|tpc7106|tpc7107|tpc7201|tpc7203|tpc7205|tpc7210|tpc7708|tpc7709|tpc7712|tpc7110|tpc8101|tpc8103|tpc8105|tpc8106|tpc8203|tpc8205|tpc8503|tpc9106|tpc9701|tpc97101|tpc97103|tpc97105|tpc97106|tpc97111|tpc97113|tpc97203|tpc97603|tpc97809|tpc97205|tpc10101|tpc10103|tpc10106|tpc10111|tpc10203|tpc10205|tpc10503|android.*(roverpad|rp3wg70)|tab-p506|tab-navi-7-3g-m|tab-p517|tab-p-527|tab-p701|tab-p703|tab-p721|tab-p731n|tab-p741|tab-p825|tab-p905|tab-p925|tab-pr945|tab-pl1015|tab-p1025|tab-pi1045|tab-p1325|tab-protab[0-9]+|tab-protab25|tab-protab26|tab-protab27|tab-protab26xl|tab-protab2-ips9|tab-protab30-ips9|tab-protab25xxl|tab-protab26-ips10|tab-protab30-ips10|android.*ov-(steelcore|newbase|basecore|baseone|exellen|quattor|edutab|solution|action|basictab|teddytab|magictab|stream|tb-08|tb-09)|dps dream 9|dps dual 7|v97 hd|i75 3g|visture v4( hd)?|visture v5( hd)?|visture v10|ctp(-)?810|ctp(-)?818|ctp(-)?828|ctp(-)?838|ctp(-)?888|ctp(-)?978|ctp(-)?980|ctp(-)?987|ctp(-)?988|ctp(-)?989|android.*\\b97d\\b|tablet(?!.*pc)|viewpad7|lg-v909|mid7015|bntv250a|logicpd zoom2|\\ba7eb\\b|catnova8|a1_07|ct704|ct1002|\\bm721\\b|rk30sdk|\\bevotab\\b|smarttabii10|smarttab10",n=new RegExp(r,"i"),i=n.test(o),!0){case i:return t||c("rstv_is_tablet",!0),!0}var l=/android/i.test(o),d=!/mobile/i.test(o);switch(!0){case l:switch(!0){case isNumber(u)&&u>=520&&810>=u:return t||(c("rstv_is_tablet",!0),c("rstv_is_phone")&&c("rstv_is_phone",!1)),!0}switch(!0){case d:return t||c("rstv_is_tablet",!0),!0}}return t||c("rstv_is_tablet",!1),!1}function q(){switch(!0){case p("rstv_is_tv"):return c("rstv_is_tv")}var e=R(),t=/googletv|smart\-tv|smarttv|internet +tv|netcast|nettv|appletv|boxee|kylo|roku|vizio|dlnadoc|ce\-html|ouya|xbox|playstation *(3|4)|wii/i.test(e);switch(!0){case t:return c("rstv_is_tv",!0),!0}return c("rstv_is_tv",!1),!1}function V(){switch(!0){case p("rstv_is_pc"):return c("rstv_is_pc")}switch(!0){case W()===!1&&q()===!1:return c("rstv_is_pc",!0),!0}return c("rstv_is_pc",!1),!1}function W(){switch(!0){case B()||F(!0):return!0;default:return!1}}function H(){switch(!0){case!W():return!0;default:return!1}}function J(){var e,t=Array.prototype.slice.call(arguments),r=isBool(t[0])?t[0]:!1;switch(!0){case p("rstv_ort_curr")&&!r:return c("rstv_ort_curr")}switch(!0){case r:c("rstv_viewportW rstv_viewportW_dip rstv_viewportH rstv_viewportH_dip rstv_screenW rstv_screenH",null)}var n,i,o=R(),a=/opera.+(mini|mobi)/i.test(o),s=b(),u=_(),l=w(),d=C(),f=l/d,h=l-s;switch(h=Math.abs(h),n=a&&260>s?4>=h&&f>=1?!0:!1:!0,i=!!(s>=u&&n),!0){case i:switch(e="landscape",!0){case!r:c("rstv_is_portrait",!1),c("rstv_is_landscape",!0)}break;default:switch(e="portrait",!0){case!r:c("rstv_is_portrait",!0),c("rstv_is_landscape",!1)}}return e}function Q(){c("rstv_ort_curr rstv_is_portrait rstv_is_landscape",null),c("rstv_ort_curr",J())}function Y(){switch(!0){case p("rstv_is_portrait"):return c("rstv_is_portrait")}return!("portrait"!=J())}function G(){switch(!0){case p("rstv_is_landscape"):return c("rstv_is_landscape")}return!("landscape"!=J())}function K(){var e,t,r=G(),n=w(),i=C(),o=r?f("h"):f("w"),a=r?f("w"):f("h"),s=getClosestNumberMatchArray(o,n),c=getClosestNumberMatchArray(a,i),u=X();switch(!0){case s>=c:e=c+"_"+s;break;default:e=s+"_"+c}return t=array_search(e,u)}function Z(){switch(!0){case p("rstv_is_cache_res_list"):return c("rstv_cache_res_list")}var e=["qqvga","qqvgax1","hqvga","hqvgax1","hqvgax2","hvgax1","qvga","wqvga","wqvga1","hvga","hvga1","hvga2","hvga3","hvgax1","hvgax2","vga","wvga","wvgax1","fwvga","svga","dvga","dvgax1","wsvga","wsvga1","xga","wxga","wxga1","wxga2","wxga3","wxga4","wxga5","xga+","wxga+","sxga","sxga+","wsxga+","uxga","wuxga","qwxga","qxga","wqxga","qsxga","wqsxga","quxga","wquxga","hxga","whxga","hsxga","whsxga","huxga","whuxga","nhd","nhdx1","qhd","hd","720p","fhd","1080p","1080i","wqhd","mbprhd","4kuhd","8kuhd"];return c("rstv_is_cache_res_list",!0),c("rstv_cache_res_list",e),e}function X(){switch(!0){case p("rstv_is_cache_res_matrix"):return c("rstv_cache_res_matrix")}var e={qqvga:"120_160",qqvgax1:"128_160",hqvga:"160_240",hqvgax1:"240_240",hqvgax2:"240_260",qvga:"240_320",wqvga:"240_400",wqvga1:"240_432",hvga:"320_480",hvga1:"360_480",hvga2:"272_480",hvga3:"240_640",hvgax1:"200_640",hvgax2:"300_640",hvgax3:"360_400",vga:"480_640",wvga:"480_800",wvgax1:"352_800",fwvga:"480_854",svga:"600_800",dvga:"640_960",dvgax1:"640_1136",wsvga:"576_1024",wsvga1:"600_1024",xga:"768_1024",wxga:"768_1280",wxga1:"720_1280",wxga2:"800_1280",wxga3:"768_1360",wxga4:"768_1366",wxga5:"720_720","xga+":"864_1152","wxga+":"900_1440",sxga:"1024_1280","sxga+":"1050_1400","wsxga+":"1050_1680",uxga:"1200_1600",wuxga:"1200_1920",qwxga:"1152_2048",qxga:"1536_2048",wqxga:"1600_2560","wqxga+":"1800_3200",qsxga:"2048_2560",wqsxga:"2048_3200",quxga:"2400_3200",wquxga:"2400_3840",hxga:"3072_4096",whxga:"3200_5120",hsxga:"4096_5120",whsxga:"4096_6400",huxga:"4800_6400",whuxga:"4800_7680",nhd:"360_640",nhdx1:"320_640",qhd:"540_960",hd:"720_1280","720p":"720_1280",fhd:"1080_1920","1080p":"1080_1920","1080i":"1080_1920",wqhd:"1440_2560",mbprhd:"1800_2880","4kuhd":"2160_3840","8kuhd":"4320_7680"};return c("rstv_is_cache_res_matrix",!0),c("rstv_cache_res_matrix",e),e}function et(e,t){try{var r,n,i,o,a,s,c,u=[],l="",p="",d="",f=[],h="",m=[],g="",v=[],y=[],b=[],_=[],w=!1,C=!1,S=0,A="",I=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","ao","ap","aq","ar","as","at","au","av","aw","ax"],k=[],x=[],E=count(e),R=count(t),T=count(u);switch(!0){case!isArray(e):throw new Error("The first argument must be an array!");case isArray(e)&&0==E:throw new Error("The first argument must not be empty!")}switch(!0){case R>0&&T>0:throw new Error("You can only define either 'Classes' or 'Attributes' settings!")}switch(!0){case R>0:switch(w=!0,!0){case R!==E:throw new Error("The number items for 'Breakpoints' and 'Classes' settings must match")}}switch(!0){case T>0:switch(C=!0,!0){case T!==E:throw new Error("The number items for 'Breakpoints' and 'Attributes' settings must match")}}r=Z(),n=X();for(var P=0;E>P;P++){switch(i=e[P],A=I[P],!0){case/-+/i.test(i)&&!/^[^-]*-[^-]*$/i.test(i):d+="2"}switch(l="",p="",!0){case substr_count(i,"-p")>0:l="p",p="-p",y.push("p");break;case substr_count(i,"-l")>0:l="l",p="-l",y.push("l");break;default:y.push("x")}switch(o=i.replace(""+p,""),!0){case in_array(o,r):switch(a=n[""+o],_=arrayToInteger(explode("_",a)),h=parseInt(_[0]),g=parseInt(_[1]),s=h,c=g,!0){case"l"==l:s=g,c=h}f[A]=s,m[A]=c,v.push("r");break;case/[0-9]+/i.test(o):f[A]=parseInt(o),m[A]=parseInt(o),v.push("v");break;default:d+="1"}k.push(A),S++}switch(!0){case/[1]+/i.test(d):throw new Error("There are errors in your 'Breakpoints' settings!");case/[2]+/i.test(d):throw new Error("There are errors in your 'Breakpoints' settings with regard to the way you have defined orientation markers e.g. -p or -l!")}var D,L,M=function(e,t){return e==t?0:t>e?-1:1},O=[],$=[],j=[],N=[],z=[],U=[],B=[];U=u,O=uasort(f,M),x=array_keys(O);for(var F=count(O),P=0;F>P;P++)D=x[P],L=array_search(D,k),$[D]=m[D],j[P]=v[L],N[P]=y[L],z[P]=t[L],B[P]=U[L];switch(b.bp_w=implode("|",O),b.bp_h=implode("|",$),b.bp_o=implode("|",N),b.bp_t=implode("|",j),!0){case w:var q=implode("|",z);b.bp_c=q}switch(!0){case C:var V=implode("|",B);b.bp_a=V}return b}catch(W){"There was an error: "+W.message}}function tt(e,t){var r=[];return r=et(e,t)}function rt(){var t=Array.prototype.slice.call(arguments),n=isNumber(t[0])?"_"+t[0]:"",o=function(){var t=c("rstv_viewportW"),o=c("rstv_viewportH");i();var a,s,u,l,p,d,f,h,m=W(),g=J(!0),v=c("rstv_ort_curr"),y=!1;switch(I(),!0){case m:switch(a=c("rstv_viewportW"),s=c("rstv_viewportH"),u=a-t,d=s-o,l=Math.abs(u),f=Math.abs(d),p=l/t*100,h=f/o*100,!0){case 1>p:switch(!0){case h>35&&0>d:y=!0;break;case h>35&&d>0:y=!0;break;case h>12&&35>=h&&d>0:y=!0;break;case 0==h:y=!0}}}switch(!0){case!y:switch(!0){case v!==g:Q(),r(e).trigger("change_orientation"+n);break;default:switch(!0){case!m:r(e).trigger("resize_viewport"+n)}}}};it(o)}function nt(t){var n=Array.prototype.slice.call(arguments),i=isNumber(n[1])?"_"+n[1]:"",o=function(){r(e).trigger("resize_container"+i)};ot(t,o)}function it(e){return vt.on("resize",e),at}function ot(e,t){return e.on("resizecontainer",t),at}switch(!0){case"function"!=typeof r:throw"Restive.JS requires JQuery to run!"}var at,st,ct,ut,lt,pt,dt,ft,ht,mt=e,gt=t.documentElement,vt=r(mt),yt=mt.screen,bt=mt.matchMedia||mt.msMatchMedia||Object;e.rstv_store={main:{}},e.parent.rstv_store={main:{}},e.rstv_store.storage=function(){var t=Array.prototype.slice.call(arguments),r=t[0],n=t[1],i=!("undefined"==typeof n||null===n||!(isString(n)&&""!=n||isNumber(n)||isArray(n)&&count(n)>0||isBool(n)||isObject(n))),o=!(null!==n);switch(!0){case i:return e.rstv_store.main[""+r]=n,void 0;case o:return e.rstv_store.main[""+r]=null,void 0;default:return e.rstv_store.main[""+r]}};var _t=function(){e.rstv_store.main.rstv_is_priv_browsing=!!s();var t,r=c("rstv_is_init");switch(!0){case r:c("rstv_timestamp_curr",microtime(!0)),c("rstv_url",getUrl("bp")),o(),a(),i(),I(),Q(),t=!1;break;default:c("rstv_timestamp_curr",microtime(!0)),c("rstv_timestamp_init",c("rstv_timestamp_curr")),c("rstv_loaded_count",0,"",{expires:1500}),c("rstv_is_init",!0),c("rstv_url",getUrl("bp")),c("rstv_url_hash",md5(getUrl("bp"))),i(),I(),c("rstv_ort_init",J()),c("rstv_ort_curr",J()),o(),t=!0}return t};return st=E(b),ct=E(_),pt=E(w),dt=E(C),ut=E(S),lt=E(A),ft=E(v),ht=E(y),at={init:_t(),reInit:n,getUserAgent:R,isStorageValueSet:p,store:c,storeVarTracker:u,storeVarValidator:l,incrementStorageValue:d,getBreakpoints:tt,viewportW:b,viewportH:_,screenW:w,screenH:C,pixelW:S,pixelH:A,vSpan:st,vPitch:ct,dSpan:pt,dPitch:dt,cSpan:ut,cPitch:lt,eSpan:ft,ePitch:ht,isRetina:x,getPixelRatio:k,getPlatform:T,getFormFactor:U,getOrientation:J,getResolution:K,isPortrait:Y,isLandscape:G,viewportMonitor:rt,containerMonitor:nt,isMobile:W,isNonMobile:H,isPhone:B,isTablet:F,isPC:V,isTV:q,isIOS:D,isApple:L,isAndroid:M,isSymbian:O,isBlackberry:$,isWindows:j,isWindowsPhone:N,resize:it,resizeContainer:ot}}(window,document,jQuery);!function(e,t,r){Function.prototype.getFuncBody=function(){var e=this.toString().match(/\{([\s\S]*)\}/m)[1];return e.replace(/^\s*\/\/.*$/gm,"")};var n={init:function(t){try{n._multiConstructorCounter(),n._multiConstructorManager();var i,o,a=t,s=["all","ios","android","symbian","blackberry","windows"],c=["all","pc","tv","tablet","phone"],u=t.platform,l=t.formfactor,p=Restive.store("rstv_multi_start"),d=Restive.store("rstv_multi_count"),f=Restive.store("rstv_multi_abort_2");switch(!0){case in_array(u,s)===!1:return n._error("rstv_error_001",'"'+u+'" is not a valid Platform option!'),!1}switch(!0){case in_array(l,c)===!1:return n._error("rstv_error_002",'"'+l+'" is not a valid Form Factor option!'),!1}switch(!0){case f:return n._error("rstv_error_003","If you are calling the Restive.JS Constructor more than once, you must call $.restive.endMulti() at the end!"),!1}var h=[],m=[],g=[];m=t.breakpoints,g=t.classes,h=n.getBreakpoints(m,g);var v=[];switch(v.platform=n.getPlatform(),v.formfactor=n.getFormFactor(),v.is_mobile=n.isMobile(),v.pixelratio=n.getPixelRatio(),v.orientation=n.getOrientation(),v.selector=getSelector(this),v.tagname=this.prop("tagName").toLowerCase(),i=n._responsiveBasis(a,v),o=!("c"!=i),v.is_resp_basis_container=o,!0){case o:n._containerMonitor(h,this,a,v);break;default:switch(!0){case!p:n._viewportMonitor(h,this,a,v),n._callbackManager(a,["ready","init"]);break;default:e.parent.rstv_store.main["rstv_breakpoints_"+d]=h,e.parent.rstv_store.main["rstv_this_"+d]=this,e.parent.rstv_store.main["rstv_options_"+d]=a,e.parent.rstv_store.main["rstv_core_info_"+d]=v,e.rstv_store.main=e.parent.rstv_store.main}}return Restive.store("rstv_turbo_classes_reflow_status_in",null),this.each(function(){var e=r(this);n.setBreakpoints(h,e,a,v)})}catch(y){}},_error:function(e,t){var r=!("true"!==String(Restive.store(e+"_init")).toLowerCase());switch(!0){case!r:throw Restive.store(e+"_init",!0),new Error(t)}},_callbackManager:function(){var e,t,i=Array.prototype.slice.call(arguments),o=i[0],a=i[1];switch(!0){case in_array("ready",a):var s=o.onReady,c=o.onReady.getFuncBody().length;switch(!0){case r.isFunction(s)&&c>0:s()}}switch(!0){case in_array("resize",a):var u=o.onResize,l=o.onResize.getFuncBody().length;switch(!0){case r.isFunction(u)&&l>0:u()}}switch(!0){case in_array("turboclassesreflow",a):var p=a[1],d=o.onTurboClassReflow,f=o.onTurboClassReflow.getFuncBody().length;switch(!0){case r.isFunction(d)&&f>0:d()}var h=o.onTurboClassReflowIn,m=o.onTurboClassReflowIn.getFuncBody().length;switch(!0){case r.isFunction(h)&&m>0:switch(!0){case"in"==p:h()}}var g=o.onTurboClassReflowOut,v=o.onTurboClassReflowOut.getFuncBody().length;switch(!0){case r.isFunction(g)&&v>0:switch(!0){case"out"==p:g()}}}switch(!0){case in_array("rotate",a):var y=Restive.getOrientation(),b=o.onRotate,_=o.onRotate.getFuncBody().length;switch(!0){case r.isFunction(b)&&_>0:b()}var w=o.onRotateToP,C=o.onRotateToP.getFuncBody().length;switch(!0){case r.isFunction(w)&&C>0:switch(!0){case"portrait"==y:w()}}var S=o.onRotateToL,A=o.onRotateToL.getFuncBody().length;switch(!0){case r.isFunction(S)&&A>0:switch(!0){case"landscape"==y:S()}}}switch(!0){case in_array("addclass",a)||in_array("removeclass",a):var I=a[0],k=a[1],x={addclass:"onAddClass",removeclass:"onRemoveClass"};switch(e=o[x[""+I]],t=e.getFuncBody().length,!0){case r.isFunction(e)&&t>0:e(k)}}switch(!0){case in_array("init",a):switch(!0){case in_array("init",a):for(var E=["onPortrait","onLandscape","onRetina","onPhone","onTablet","onPC","onTV","onIOS","onAndroid","onSymbian","onBlackberry","onWindows","onWindowsPhone","onMobile","onNonMobile"],R=["isPortrait","isLandscape","isRetina","isPhone","isTablet","isPC","isTV","isIOS","isAndroid","isSymbian","isBlackberry","isWindows","isWindowsPhone","isMobile","isNonMobile"],T=0;T<count(R);T++)switch(e=o[E[T]],t=e.getFuncBody().length,!0){case r.isFunction(e)&&t>0:var P=n[R[T]],D=P();switch(!0){case D:e()}}}}},_URLMonitor:function(){var e=Restive.store("rstv_url"),t=Restive.store("rstv_url_hash"),r=md5(e);switch(!0){case r!=t:Restive.store("rstv_multi_bpm_idx rstv_cache_bpm rstv_cache_bpm_lock rstv_cache_req rstv_cache_bpm_viewport_diff",null),Restive.store("rstv_url_hash",r)}},_responsiveBasis:function(e,t){var r,n=t.selector,i=/^#[^\s]+$/i.test(n),o=elementIsChildOf("body",n),a=e.anchor;try{switch(!0){case o&&("element"==a||"e"==a):switch(!0){case!i:throw new Error("You must use only the JQuery ID selector when the 'anchor' option is set to 'e' or 'element'!")}r="c";break;default:r="v",Restive.store("rstv_resp_basis_viewport_init",!0)}return r}catch(s){}},_viewportMonitor:function(t,i,o,a){var s="resize_viewport",c="change_orientation";r(e).on(s,function(){n._onResizeViewport(t,i,o,a)}),r(e).on(c,function(){n._onChangeOrientation(t,i,o,a)}),Restive.viewportMonitor()},_containerMonitor:function(e,t,r,i){var o="resizecontainer";t.on(o,function(){n._onResizeContainer(e,t,r,i)})},_onResizeViewport:function(e,t,i,o){try{return t.each(function(){var t=r(this);n.setBreakpoints(e,t,i,o,"rv"),n._callbackManager(i,["resize"])})}catch(a){}},_onResizeContainer:function(e,t,i,o){try{return t.each(function(){var t=r(this);n.setBreakpoints(e,t,i,o,"rc")})}catch(a){}},_onChangeOrientation:function(e,t,i,o){try{return t.each(function(){var t=r(this);n.setBreakpoints(e,t,i,o,"co"),n._callbackManager(i,["rotate"])})}catch(a){}},getBreakpoints:function(e,t){return Restive.getBreakpoints(e,t)},setBreakpoints:function(){var e=Array.prototype.slice.call(arguments),t=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=!1,c=!1,u=!1,l=o.is_resp_basis_container,p=Restive.store("rstv_multi_abort_1");switch(!0){case"co"==a:s=!0}switch(!0){case"rv"==a:c=!0}switch(!0){case"rc"==a:u=!0}switch(!0){case p:return n._error("rstv_error_004","If you are calling the Restive.JS Constructor more than once, you must call $.restive.startMulti() before calling these constructors!"),!1}var d=Restive.store("rstv_multi_start"),f=parseInt(Restive.store("rstv_multi_count")),h=parseInt(Restive.store("rstv_multi_bpm_idx")),m=Restive.store("rstv_cache_bpm_lock");switch(!0){case!l:switch(!0){case d&&!s&&m:switch(!0){case isNumber(f)&&isNumber(h)&&f!=h:return!1}}}var g,v,y,b,_,w,C,S=(Restive.getUserAgent(),i.platform,i.formfactor,i.force_dip),A=o.platform,I=o.formfactor,k=(o.pixelratio,1==o.is_mobile?"true":"false",Restive.store("rstv_ort_init"),Restive.store("rstv_ort_curr"),Restive.isPortrait()),x=k===!0?!1:!0,E=[],R=!1,T=t.bp_w,P=t.bp_h,D=t.bp_o,L=t.bp_t,M=t.bp_c,O=[],$=[],j=[],N=[];switch(g=Restive.viewportW(),C=g,v=Restive.viewportH(),y=Restive.screenW(),b=Restive.screenH(),_=Restive.pixelW(),w=Restive.pixelH(),!0){case 1==S:C=Restive.pixelW()}switch(O=arrayToInteger(explode("|",T)),$=arrayToInteger(explode("|",P)),j=explode("|",D),N=explode("|",L),!0){case"undefined"!=typeof M||null!=M:R=!0,E=explode("|",M)}var z,U,B,F,q,V,W,H,J,Q,Y,G,K,Z,X,et,tt,rt,nt,it,ot="",at=!0,st=!0,ct=!1,ut=!1,lt=!1,pt=!0,dt=!0,ft="",ht=count(O);z=arrayHasDuplicates(O),U=z?!1:!0;for(var mt=0;ht>mt;mt++){switch(!0){case"all"!=i.platform&&i.platform!=A:pt=!1}switch(!0){case"all"!=i.formfactor&&i.formfactor!=I:dt=!1}if(!pt||!dt)break;var gt=mt-1;switch(B=O[mt],!0){case mt>0:F=O[gt];break;default:F=0,q=0}switch(J=$[mt],Z=N[mt],X=j[mt],st=at,!0){case"p"==X:nt=k?!0:!1,ct=!0,at=nt,ot=st===!1?q:ot;break;case"l"==X:nt=x?!0:!1,ct=!0,at=nt,ot=st===!1?q:ot;break;default:ot=ct===!0&&st===!1?q:ot,q=mt>0?B:0,nt=!0,at=nt}switch(!0){case 0==mt:V=0,ot=B;break;case mt>=1:switch(!0){case B!==F:ot=B+"-!"+ot}V=parseInt(getValueAfterExplode(ot,"-!",1))}switch(et=E[mt],!0){case 0==mt:W=V,H=B;break;default:W=0==V?V:V+1,H=B}switch(!0){case l:rt=Restive.eSpan(W,H,r,i.anchor_e_df,i.force_dip);break;default:rt=1==S?Restive.cSpan(W,H):Restive.vSpan(W,H)}switch(!0){case rt&&nt:switch(!0){case l:ut=!0;break;default:switch(Q=H-C,Y=Math.abs(Q),G=C-W,K=.1*H,K=Math.round(K),!0){case s:switch(!0){case Q>K:ft="4";break;default:ft="2"}break;default:switch(!0){case Q>K:ft="3";break;default:ft="1"}}switch(ut=!0,!0){case ut:switch(lt=!0,tt=et,!0){case"x"!=X:U=!0}}}break;default:ut=!1}if(ut&&U)break}switch(!0){case lt:ut=!0,et=tt}switch(!0){case!ut:switch(!0){case l:return n.unsetElementDOM(r,i),void 0}switch(W=0,H=0,!0){case!Restive.store("rstv_multi_start")||s:n.unsetElementDOM(r,i)}switch(!0){case!pt&&dt:ft="7";break;case!dt&&pt:ft="8";break;case!dt&&!pt:ft="9";break;default:switch(!0){case s:ft="6";break;default:ft="5"}}switch(it=n._addTurboClasses("",i.turbo_classes),it=n._addTurboClassesReflow(it,i),!0){case!Restive.store("rstv_multi_start")||s:n.setElementDOM(r,it,i)}Restive.store("rstv_breakpoint_match_curr",!1);break;case ut:switch(it=n._addTurboClasses(et,i.turbo_classes),it=n._addTurboClassesReflow(it,i),!0){case l:return n.setElementDOM(r,it,i),void 0}switch(!0){case Restive.store("rstv_multi_start"):var vt=parseInt(Restive.store("rstv_bpm_h_counter"));switch(!0){case s:n.setElementDOM(r,it,i);break;default:switch(!0){case vt>1:var yt=parseInt(Restive.store("rstv_cache_bpm_viewport_diff"));switch(!0){case yt>Y:switch(n.setElementDOM(r,it,i),!0){case!m:Restive.store("rstv_multi_bpm_idx",f)}Restive.store("rstv_cache_bpm_viewport_diff",Y)}break;default:switch(n.setElementDOM(r,it,i),!0){case!m:Restive.store("rstv_multi_bpm_idx",f)}Restive.store("rstv_cache_bpm_viewport_diff",Y)}vt++,Restive.store("rstv_bpm_h_counter",vt,"",{expires:1e3})}break;default:n.setElementDOM(r,it,i)}Restive.store("rstv_breakpoint_match_curr",!0)}var bt=Restive.store("rstv_cache_bpm_lock");switch(!0){case d&&!s&&!(isString(bt)&&""!=bt||isBool(bt)):Restive.store("rstv_breakpoint_match_curr")?n._extVarTracker("rstv_cache_bpm","h","ls",!1,"",!1):n._extVarTracker("rstv_cache_bpm","m","ls",!1,"",!1)}switch(!0){case ut:return!0}return!1},_addTurboClassesReflow:function(e,t){switch(!0){case n.isPC():switch(!0){case t.turbo_classes_reflow&&isString(t.turbo_classes)&&""!=t.turbo_classes:var r,i,o,a,s,c,u,l,p,d=[],f=[],h=e,m=!1,g=Restive.store("rstv_turbo_classes_reflow_status_in");switch(d=explode(",",t.turbo_classes_reflow_limits),c=parseInt(d[0]),s=parseInt(d[1]),r=/is_mobile=/i.test(t.turbo_classes),!0){case r:f=explode(",",t.turbo_classes);for(var v=0;v<count(f);v++){switch(l=getValueAfterExplode(f[v],"=",0),p=getValueAfterExplode(f[v],"=",1),!0){case"is_mobile"==l:switch(i=1==t.force_dip?Restive.cSpan(0,s):Restive.vSpan(0,s),!0){case i:switch(h+=" "+p,m=!0,!0){case!g&&m:Restive.store("rstv_turbo_classes_reflow_status_in",!0),n._callbackManager(t,["turboclassesreflow","in"])}break;default:switch(m=!1,!0){case g&&!m:Restive.store("rstv_turbo_classes_reflow_status_in",!1),n._callbackManager(t,["turboclassesreflow","out"])}}}switch(!0){case"is_phone"==l:o=1==t.force_dip?Restive.cSpan(0,c):Restive.vSpan(0,c),h=o?h+" "+p:h
}switch(!0){case"is_tablet"==l:u=c+1,a=1==t.force_dip?Restive.cSpan(u,s):Restive.vSpan(u,s),h=a?h+" "+p:h}}return h}}}return e},_addTurboClasses:function(e,t){switch(!0){case!isString(t)||""==t:return e}var r,i,o,a,s=[],c=[],u="",l="",p={is_mobile:"isMobile",is_non_mobile:"isNonMobile",is_retina:"isRetina",is_phone:"isPhone",is_tablet:"isTablet",is_tv:"isTV",is_pc:"isPC",is_portrait:"isPortrait",is_landscape:"isLandscape"};s=explode(",",t);for(var d=0;d<count(s);d++)switch(r=getValueAfterExplode(s[d],"=",0),i=getValueAfterExplode(s[d],"=",1),o=p[r],!0){case isString(o)&&""!=o:switch(a=n[o],!0){case a():c.push(i)}}return u=implode(" ",c,!0),l=""!=u?u+" "+e:e},setElementDOM:function(e,t,r){var i,o=md5(getSelector(e)),a="rstv_bpm_class_"+o;switch(i=isString(Restive.store(a))&&""!=Restive.store(a)?Restive.store(a):"",!0){case""!=i:switch(e.removeClass(i).addClass(t),!0){case i!=t:n._callbackManager(r,["removeclass",""+i])}break;default:e.addClass(t)}Restive.store(a,t),n._callbackManager(r,["addclass",""+t])},unsetElementDOM:function(e,t){var r,i=md5(getSelector(e)),o="rstv_bpm_class_"+i;r=isString(Restive.store(o))&&""!=Restive.store(o)?Restive.store(o):"",e.removeClass(r),n._callbackManager(t,["removeclass",""+r])},_extVarTracker:function(e,t){var r=Array.prototype.slice.call(arguments),n=isString(r[2])&&""!=r[2]?r[2]:"ck",i=isBool(r[3])?r[3]:!1,o=isNumber(r[4])||isString(r[4])?parseInt(r[4]):"",a=isBool(r[5])?r[5]:!0,s=isString(r[6])&&""!=r[6]?r[6]:"-!",c=isNumber(r[7])||isString(r[7])?parseInt(r[7]):80;return Restive.storeVarTracker(e,t,n,i,o,a,s,c)},_multiConstructorSelectPos:function(){var e,t=Restive.store("rstv_cache_bpm"),r=explode("-!",t),n=parseInt(Restive.store("rstv_multi_bpm_idx"));e=implode("",r);var i,o,a=new RegExp("^[^h]*h[^h]*$","gi"),s=new RegExp("^m+$","gi");switch(!0){case a.test(e):i=strrpos(e,"h");break;case s.test(e):Restive.store("rstv_cache_bpm_all_miss",!0,"",{expires:2e3}),i=strrpos(e,"m");break;case substr_count(e,"h")>1:i=n-1}return o=i+1,Restive.store("rstv_multi_bpm_idx",o),i},_multiConstructorManageEvents:function(t){r(e).off("resize");var i=parseInt(t)+1,o=e.parent.rstv_store.main["rstv_breakpoints_"+i],a=e.parent.rstv_store.main["rstv_this_"+i],s=e.parent.rstv_store.main["rstv_options_"+i],c=e.parent.rstv_store.main["rstv_core_info_"+i];switch(!0){case Restive.store("rstv_resp_basis_viewport_init"):n._viewportMonitor(o,a,s,c),n._callbackManager(s,["ready","init"])}},_multiConstructorFinalize:function(){var e=n._multiConstructorSelectPos();n._multiConstructorManageEvents(e),Restive.store("rstv_cache_bpm_lock",!0),Restive.store("rstv_cache_req",null),Restive.store("rstv_multi_count",null)},_multiConstructorStart:function(){switch(Restive.store("rstv_multi_count",0),Restive.store("rstv_multi_start",!0),Restive.store("rstv_multi_abort_1",!1),Restive.store("rstv_multi_abort_2",!1),Restive.store("rstv_bpm_h_counter",1,"",{expires:1e3}),Restive.store("rstv_bpm_m_counter",1,"",{expires:1e3}),!0){case!Restive.isStorageValueSet("rstv_multi_start_count"):Restive.store("rstv_multi_start_count",1),Restive.store("rstv_multi_end",!1);break;default:Restive.incrementStorageValue("rstv_multi_start_count")}},_multiConstructorManager:function(){var e=Restive.store("rstv_multi_start"),t=Restive.store("rstv_multi_end"),r=parseInt(Restive.store("rstv_multi_count")),i=parseInt(Restive.store("rstv_multi_start_count"));switch(!0){case r>1:switch(!0){case e===!1:Restive.store("rstv_multi_abort_1",!0)}}switch(!0){case i>1&&t===!1:Restive.store("rstv_multi_abort_2",!0)}n._URLMonitor()},_multiConstructorCounter:function(){Restive.incrementStorageValue("rstv_multi_count")},_multiConstructorEnd:function(){Restive.store("rstv_multi_start_count",0),Restive.store("rstv_multi_end",!0),n._multiConstructorFinalize()},getUserAgent:function(){return Restive.getUserAgent()},getPlatform:function(){return Restive.getPlatform()},getFormFactor:function(){return Restive.getFormFactor()},getOrientation:function(){return Restive.getOrientation()},getResolution:function(){return Restive.getResolution()},getPixelRatio:function(e){return Restive.getPixelRatio(e)},getViewportW:function(){return Restive.viewportW()},getViewportH:function(){return Restive.viewportH()},getScreenW:function(){return Restive.screenW()},getScreenH:function(){return Restive.screenH()},getPixelW:function(){return Restive.pixelW()},getPixelH:function(){return Restive.pixelH()},isRetina:function(){return Restive.isRetina()},isMobile:function(){return Restive.isMobile()},isNonMobile:function(){return Restive.isNonMobile()},isPhone:function(){return Restive.isPhone()},isTablet:function(){return Restive.isTablet()},isTV:function(){return Restive.isTV()},isPC:function(){return Restive.isPC()},isIOS:function(){return Restive.isIOS()},isApple:function(){return Restive.isApple()},isAndroid:function(){return Restive.isAndroid()},isSymbian:function(){return Restive.isSymbian()},isBlackberry:function(){return Restive.isBlackberry()},isWindows:function(){return Restive.isWindows()},isWindowsPhone:function(){return Restive.isWindowsPhone()},isPortrait:function(){return Restive.isPortrait()},isLandscape:function(){return Restive.isLandscape()}};r.fn.restive=function(e){if(n[e])return n[e].apply(this,Array.prototype.slice.call(arguments,1));if("object"==typeof e||!e){var t=r.extend({},r.fn.restive.defaults,e),i=new Array(t);return n.init.apply(this,i)}r.error("Method "+e+" does not exist on Restive.JS")},r.fn.restive.defaults={breakpoints:[],classes:[],anchor:"window",anchor_e_df:"w",platform:"all",formfactor:"all",turbo_classes:"",turbo_classes_reflow:!1,turbo_classes_reflow_limits:"480,960",force_dip:!1,onReady:function(){},onResize:function(){},onRotate:function(){},onRotateToP:function(){},onRotateToL:function(){},onPortrait:function(){},onLandscape:function(){},onRetina:function(){},onPhone:function(){},onTablet:function(){},onPC:function(){},onTV:function(){},onIOS:function(){},onAndroid:function(){},onSymbian:function(){},onBlackberry:function(){},onWindows:function(){},onWindowsPhone:function(){},onMobile:function(){},onNonMobile:function(){},onTurboClassReflow:function(){},onTurboClassReflowIn:function(){},onTurboClassReflowOut:function(){},onAddClass:function(){},onRemoveClass:function(){}};var i=r.restive=function(){};r.extend(i,{getUserAgent:function(){return n.getUserAgent()},getPlatform:function(){return n.getPlatform()},getFormFactor:function(){return n.getFormFactor()},getOrientation:function(){return n.getOrientation()},getResolution:function(){return n.getResolution()},getPixelRatio:function(e){return n.getPixelRatio(e)},getViewportW:function(){return n.getViewportW()},getViewportH:function(){return n.getViewportH()},getScreenW:function(){return n.getScreenW()},getScreenH:function(){return n.getScreenH()},getPixelW:function(){return n.getPixelW()},getPixelH:function(){return n.getPixelH()},isRetina:function(){return n.isRetina()},isMobile:function(){return n.isMobile()},isNonMobile:function(){return n.isNonMobile()},isPhone:function(){return n.isPhone()},isTablet:function(){return n.isTablet()},isTV:function(){return n.isTV()},isPC:function(){return n.isPC()},isIOS:function(){return n.isIOS()},isApple:function(){return n.isIOS()},isAndroid:function(){return n.isAndroid()},isSymbian:function(){return n.isSymbian()},isBlackberry:function(){return n.isBlackberry()},isWindows:function(){return n.isWindows()},isWindowsPhone:function(){return n.isWindowsPhone()},isPortrait:function(){return n.isPortrait()},isLandscape:function(){return n.isLandscape()},startMulti:function(){n._multiConstructorStart()},endMulti:function(){n._multiConstructorEnd()}})}(window,document,jQuery),function(e){function t(){}function r(e){function r(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function i(t,r){e.fn[t]=function(i){if("string"==typeof i){for(var a=n.call(arguments,1),s=0,c=this.length;c>s;s++){var u=this[s],l=e.data(u,t);if(l)if(e.isFunction(l[i])&&"_"!==i.charAt(0)){var p=l[i].apply(l,a);if(void 0!==p)return p}else o("no such method '"+i+"' for "+t+" instance");else o("cannot call methods on "+t+" prior to initialization; attempted to call '"+i+"'")}return this}return this.each(function(){var n=e.data(this,t);n?(n.option(i),n._init()):(n=new r(this,i),e.data(this,t,n))})}}if(e){var o="undefined"==typeof console?t:function(){};return e.bridget=function(e,t){r(t),i(e,t)},e.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],r):"object"==typeof exports?r(require("jquery")):r(e.jQuery)}(window),function(e){function t(t){var r=e.event;return r.target=r.target||r.srcElement||t,r}var r=document.documentElement,n=function(){};r.addEventListener?n=function(e,t,r){e.addEventListener(t,r,!1)}:r.attachEvent&&(n=function(e,r,n){e[r+n]=n.handleEvent?function(){var r=t(e);n.handleEvent.call(n,r)}:function(){var r=t(e);n.call(e,r)},e.attachEvent("on"+r,e[r+n])});var i=function(){};r.removeEventListener?i=function(e,t,r){e.removeEventListener(t,r,!1)}:r.detachEvent&&(i=function(e,t,r){e.detachEvent("on"+t,e[t+r]);try{delete e[t+r]}catch(n){e[t+r]=void 0}});var o={bind:n,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",o):"object"==typeof exports?module.exports=o:e.eventie=o}(window),function(){"use strict";function e(){}function t(e,t){for(var r=e.length;r--;)if(e[r].listener===t)return r;return-1}function r(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,i=this,o=i.EventEmitter;n.getListeners=function(e){var t,r,n=this._getEvents();if(e instanceof RegExp){t={};for(r in n)n.hasOwnProperty(r)&&e.test(r)&&(t[r]=n[r])}else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,r=[];for(t=0;t<e.length;t+=1)r.push(e[t].listener);return r},n.getListenersAsObject=function(e){var t,r=this.getListeners(e);return r instanceof Array&&(t={},t[e]=r),t||r},n.addListener=function(e,r){var n,i=this.getListenersAsObject(e),o="object"==typeof r;for(n in i)i.hasOwnProperty(n)&&-1===t(i[n],r)&&i[n].push(o?r:{listener:r,once:!1});return this},n.on=r("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=r("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,r){var n,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&(n=t(o[i],r),-1!==n&&o[i].splice(n,1));return this},n.off=r("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,r){var n,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=r.length;n--;)o.call(this,t,r[n]);else for(n in t)t.hasOwnProperty(n)&&(i=t[n])&&("function"==typeof i?o.call(this,n,i):a.call(this,n,i));return this},n.removeEvent=function(e){var t,r=typeof e,n=this._getEvents();if("string"===r)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=r("removeEvent"),n.emitEvent=function(e,t){var r,n,i,o,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(n=a[i].length;n--;)r=a[i][n],r.once===!0&&this.removeListener(e,r.listener),o=r.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},n.trigger=r("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:i.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof n[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,i=0,o=r.length;o>i;i++)if(t=r[i]+e,"string"==typeof n[t])return t}}var r="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e),r=-1===e.indexOf("%")&&!isNaN(t);return r&&t}function r(){}function n(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,r=a.length;r>t;t++){var n=a[t];e[n]=0}return e}function i(r){function i(){if(!d){d=!0;var n=e.getComputedStyle;if(u=function(){var e=n?function(e){return n(e,null)}:function(e){return e.currentStyle};return function(t){var r=e(t);return r||o("Style returned "+r+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),r}}(),l=r("boxSizing")){var i=document.createElement("div");i.style.width="200px",i.style.padding="1px 2px 3px 4px",i.style.borderStyle="solid",i.style.borderWidth="1px 2px 3px 4px",i.style[l]="border-box";var a=document.body||document.documentElement;a.appendChild(i);var s=u(i);p=200===t(s.width),a.removeChild(i)}}}function s(e){if(i(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=u(e);if("none"===r.display)return n();var o={};o.width=e.offsetWidth,o.height=e.offsetHeight;for(var s=o.isBorderBox=!(!l||!r[l]||"border-box"!==r[l]),d=0,f=a.length;f>d;d++){var h=a[d],m=r[h];m=c(e,m);var g=parseFloat(m);o[h]=isNaN(g)?0:g}var v=o.paddingLeft+o.paddingRight,y=o.paddingTop+o.paddingBottom,b=o.marginLeft+o.marginRight,_=o.marginTop+o.marginBottom,w=o.borderLeftWidth+o.borderRightWidth,C=o.borderTopWidth+o.borderBottomWidth,S=s&&p,A=t(r.width);A!==!1&&(o.width=A+(S?0:v+w));var I=t(r.height);return I!==!1&&(o.height=I+(S?0:y+C)),o.innerWidth=o.width-(v+w),o.innerHeight=o.height-(y+C),o.outerWidth=o.width+b,o.outerHeight=o.height+_,o}}function c(t,r){if(e.getComputedStyle||-1===r.indexOf("%"))return r;var n=t.style,i=n.left,o=t.runtimeStyle,a=o&&o.left;return a&&(o.left=t.currentStyle.left),n.left=r,r=n.pixelLeft,n.left=i,a&&(o.left=a),r}var u,l,p,d=!1;return s}var o="undefined"==typeof console?r:function(){},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],i):"object"==typeof exports?module.exports=i(require("desandro-get-style-property")):e.getSize=i(e.getStyleProperty)}(window),function(e){function t(e){"function"==typeof e&&(t.isReady?e():a.push(e))}function r(e){var r="readystatechange"===e.type&&"complete"!==o.readyState;t.isReady||r||n()}function n(){t.isReady=!0;for(var e=0,r=a.length;r>e;e++){var n=a[e];n()}}function i(i){return"complete"===o.readyState?n():(i.bind(o,"DOMContentLoaded",r),i.bind(o,"readystatechange",r),i.bind(e,"load",r)),t}var o=e.document,a=[];t.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],i):"object"==typeof exports?module.exports=i(require("eventie")):e.docReady=i(e.eventie)}(window),function(e){"use strict";function t(e,t){return e[a](t)}function r(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function n(e,t){r(e);for(var n=e.parentNode.querySelectorAll(t),i=0,o=n.length;o>i;i++)if(n[i]===e)return!0;return!1}function i(e,n){return r(e),t(e,n)}var o,a=function(){if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],r=0,n=t.length;n>r;r++){var i=t[r],o=i+"MatchesSelector";if(e[o])return o}}();if(a){var s=document.createElement("div"),c=t(s,"div");o=c?t:i}else o=n;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return o}):"object"==typeof exports?module.exports=o:window.matchesSelector=o}(Element.prototype),function(e,t){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(r,n){return t(e,r,n)}):"object"==typeof exports?module.exports=t(e,require("doc-ready"),require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.docReady,e.matchesSelector)}(window,function(e,t,r){var n={};n.extend=function(e,t){for(var r in t)e[r]=t[r];return e},n.modulo=function(e,t){return(e%t+t)%t};var i=Object.prototype.toString;n.isArray=function(e){return"[object Array]"==i.call(e)},n.makeArray=function(e){var t=[];if(n.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var r=0,i=e.length;i>r;r++)t.push(e[r]);else t.push(e);return t},n.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1},n.removeFrom=function(e,t){var r=n.indexOf(e,t);-1!=r&&e.splice(r,1)},n.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},n.setText=function(){function e(e,r){t=t||(void 0!==document.documentElement.textContent?"textContent":"innerText"),e[t]=r}var t;return e}(),n.getParent=function(e,t){for(;e!=document.body;)if(e=e.parentNode,r(e,t))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,t){e=n.makeArray(e);for(var i=[],o=0,a=e.length;a>o;o++){var s=e[o];if(n.isElement(s))if(t){r(s,t)&&i.push(s);for(var c=s.querySelectorAll(t),u=0,l=c.length;l>u;u++)i.push(c[u])}else i.push(s)}return i},n.debounceMethod=function(e,t,r){var n=e.prototype[t],i=t+"Timeout";e.prototype[t]=function(){var e=this[i];e&&clearTimeout(e);var t=arguments,o=this;this[i]=setTimeout(function(){n.apply(o,t),delete o[i]},r||100)}},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,r){return t+"-"+r}).toLowerCase()};e.console;return n.htmlInit=function(r,i){t(function(){for(var t=n.toDashed(i),o=document.querySelectorAll(".js-"+t),a="data-"+t+"-options",s=0,c=o.length;c>s;s++){var u,l=o[s],p=l.getAttribute(a);try{u=p&&JSON.parse(p)}catch(d){continue}var f=new r(l,u),h=e.jQuery;h&&h.data(l,i,f)}})},n}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(r,n,i,o){return t(e,r,n,i,o)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(e.Outlayer={},e.Outlayer.Item=t(e,e.EventEmitter,e.getSize,e.getStyleProperty,e.fizzyUIUtils))}(window,function(e,t,r,n,i){"use strict";function o(e){for(var t in e)return!1;return t=null,!0}function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}function s(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var c=e.getComputedStyle,u=c?function(e){return c(e,null)}:function(e){return e.currentStyle},l=n("transition"),p=n("transform"),d=l&&p,f=!!n("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],m=["transform","transition","transitionDuration","transitionProperty"],g=function(){for(var e={},t=0,r=m.length;r>t;t++){var i=m[t],o=n(i);o&&o!==i&&(e[i]=o)}return e}();i.extend(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.getSize=function(){this.size=r(this.element)},a.prototype.css=function(e){var t=this.element.style;for(var r in e){var n=g[r]||r;t[n]=e[r]}},a.prototype.getPosition=function(){var e=u(this.element),t=this.layout.options,r=t.isOriginLeft,n=t.isOriginTop,i=e[r?"left":"right"],o=e[n?"top":"bottom"],a=parseInt(i,10),s=parseInt(o,10),c=this.layout.size;a=-1!=i.indexOf("%")?a/100*c.width:a,s=-1!=o.indexOf("%")?s/100*c.height:s,a=isNaN(a)?0:a,s=isNaN(s)?0:s,a-=r?c.paddingLeft:c.paddingRight,s-=n?c.paddingTop:c.paddingBottom,this.position.x=a,this.position.y=s},a.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,r={},n=t.isOriginLeft?"paddingLeft":"paddingRight",i=t.isOriginLeft?"left":"right",o=t.isOriginLeft?"right":"left",a=this.position.x+e[n];r[i]=this.getXValue(a),r[o]="";var s=t.isOriginTop?"paddingTop":"paddingBottom",c=t.isOriginTop?"top":"bottom",u=t.isOriginTop?"bottom":"top",l=this.position.y+e[s];r[c]=this.getYValue(l),r[u]="",this.css(r),this.emitEvent("layout",[this])},a.prototype.getXValue=function(e){var t=this.layout.options;return t.percentPosition&&!t.isHorizontal?e/this.layout.size.width*100+"%":e+"px"},a.prototype.getYValue=function(e){var t=this.layout.options;return t.percentPosition&&t.isHorizontal?e/this.layout.size.height*100+"%":e+"px"},a.prototype._transitionTo=function(e,t){this.getPosition();var r=this.position.x,n=this.position.y,i=parseInt(e,10),o=parseInt(t,10),a=i===this.position.x&&o===this.position.y;if(this.setPosition(e,t),a&&!this.isTransitioning)return this.layoutPosition(),void 0;var s=e-r,c=t-n,u={};u.transform=this.getTranslate(s,c),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.getTranslate=function(e,t){var r=this.layout.options;return e=r.isOriginLeft?e:-e,t=r.isOriginTop?t:-t,e=this.getXValue(e),t=this.getYValue(t),f?"translate3d("+e+", "+t+", 0)":"translate("+e+", "+t+")"},a.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},a.prototype.moveTo=d?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},a.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},a.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(e),void 0;var t=this._transn;for(var r in e.onTransitionEnd)t.onEnd[r]=e.onTransitionEnd[r];for(r in e.to)t.ingProperties[r]=!0,e.isCleaning&&(t.clean[r]=!0);if(e.from){this.css(e.from);var n=this.element.offsetHeight;n=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var v="opacity,"+s(g.transform||"transform");a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},a.prototype.onotransitionend=function(e){this.ontransitionend(e)};var y={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,r=y[e.propertyName]||e.propertyName;if(delete t.ingProperties[r],o(t.ingProperties)&&this.disableTransition(),r in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[r]),r in t.onEnd){var n=t.onEnd[r];n.call(this),delete t.onEnd[r]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(e){var t={};for(var r in e)t[r]="";this.css(t)};var b={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(b)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var e=this;this.once("transitionEnd",function(){e.removeElem()}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={},r=this.getHideRevealTransitionEndProperty("visibleStyle");t[r]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},a.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},a.prototype.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var r in t)return r},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={},r=this.getHideRevealTransitionEndProperty("hiddenStyle");t[r]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},a.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(r,n,i,o,a){return t(e,r,n,i,o,a)}):"object"==typeof exports?module.exports=t(e,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=t(e,e.eventie,e.EventEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,function(e,t,r,n,i,o){"use strict";function a(e,t){var r=i.getQueryElement(e);if(r){this.element=r,s&&(this.$element=s(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t);var n=++u;this.element.outlayerGUID=n,l[n]=this,this._create(),this.options.isInitLayout&&this.layout()}}var s=(e.console,e.jQuery),c=function(){},u=0,l={};return a.namespace="outlayer",a.Item=o,a.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},i.extend(a.prototype,r.prototype),a.prototype.option=function(e){i.extend(this.options,e)},a.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},a.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},a.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),r=this.constructor.Item,n=[],i=0,o=t.length;o>i;i++){var a=t[i],s=new r(a,this);n.push(s)}return n},a.prototype._filterFindItemElements=function(e){return i.filterFindElements(e,this.options.itemSelector)},a.prototype.getItemElements=function(){for(var e=[],t=0,r=this.items.length;r>t;t++)e.push(this.items[t].element);return e},a.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},a.prototype._init=a.prototype.layout,a.prototype._resetLayout=function(){this.getSize()},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype._getMeasurement=function(e,t){var r,o=this.options[e];o?("string"==typeof o?r=this.element.querySelector(o):i.isElement(o)&&(r=o),this[e]=r?n(r)[t]:o):this[e]=0},a.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},a.prototype._getItemsForLayout=function(e){for(var t=[],r=0,n=e.length;n>r;r++){var i=e[r];i.isIgnored||t.push(i)}return t},a.prototype._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){for(var r=[],n=0,i=e.length;i>n;n++){var o=e[n],a=this._getItemLayoutPosition(o);a.item=o,a.isInstant=t||o.isLayoutInstant,r.push(a)}this._processLayoutQueue(r)}},a.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},a.prototype._processLayoutQueue=function(e){for(var t=0,r=e.length;r>t;t++){var n=e[t];this._positionItem(n.item,n.x,n.y,n.isInstant)}},a.prototype._positionItem=function(e,t,r,n){n?e.goTo(t,r):e.moveTo(t,r)},a.prototype._postLayout=function(){this.resizeContainer()},a.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},a.prototype._getContainerSize=c,a.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var r=this.size;r.isBorderBox&&(e+=t?r.paddingLeft+r.paddingRight+r.borderLeftWidth+r.borderRightWidth:r.paddingBottom+r.paddingTop+r.borderTopWidth+r.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},a.prototype._emitCompleteOnItems=function(e,t){function r(){i.dispatchEvent(e+"Complete",null,[t])}function n(){a++,a===o&&r()}var i=this,o=t.length;if(!t||!o)return r(),void 0;for(var a=0,s=0,c=t.length;c>s;s++){var u=t[s];u.once(e,n)}},a.prototype.dispatchEvent=function(e,t,r){var n=t?[t].concat(r):r;if(this.emitEvent(e,n),s)if(this.$element=this.$element||s(this.element),t){var i=s.Event(t);i.type=e,this.$element.trigger(i,r)}else this.$element.trigger(e,r)},a.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},a.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},a.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,r=e.length;r>t;t++){var n=e[t];this.ignore(n)}}},a.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,r=e.length;r>t;t++){var n=e[t];i.removeFrom(this.stamps,n),this.unignore(n)}},a.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=i.makeArray(e)):void 0},a.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var r=this.stamps[e];this._manageStamp(r)}}},a.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},a.prototype._manageStamp=c,a.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),r=this._boundingRect,i=n(e),o={left:t.left-r.left-i.marginLeft,top:t.top-r.top-i.marginTop,right:r.right-t.right-i.marginRight,bottom:r.bottom-t.bottom-i.marginBottom};return o},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.bindResize=function(){this.isResizeBound||(t.bind(e,"resize",this),this.isResizeBound=!0)},a.prototype.unbindResize=function(){this.isResizeBound&&t.unbind(e,"resize",this),this.isResizeBound=!1},a.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},a.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},a.prototype.needsResizeLayout=function(){var e=n(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},a.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},a.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))
},a.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var r=this.items.slice(0);this.items=t.concat(r),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(r)}},a.prototype.reveal=function(e){this._emitCompleteOnItems("reveal",e);for(var t=e&&e.length,r=0;t&&t>r;r++){var n=e[r];n.reveal()}},a.prototype.hide=function(e){this._emitCompleteOnItems("hide",e);for(var t=e&&e.length,r=0;t&&t>r;r++){var n=e[r];n.hide()}},a.prototype.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},a.prototype.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},a.prototype.getItem=function(e){for(var t=0,r=this.items.length;r>t;t++){var n=this.items[t];if(n.element===e)return n}},a.prototype.getItems=function(e){e=i.makeArray(e);for(var t=[],r=0,n=e.length;n>r;r++){var o=e[r],a=this.getItem(o);a&&t.push(a)}return t},a.prototype.remove=function(e){var t=this.getItems(e);if(this._emitCompleteOnItems("remove",t),t&&t.length)for(var r=0,n=t.length;n>r;r++){var o=t[r];o.remove(),i.removeFrom(this.items,o)}},a.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,r=this.items.length;r>t;t++){var n=this.items[t];n.destroy()}this.unbindResize();var i=this.element.outlayerGUID;delete l[i],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace)},a.data=function(e){e=i.getQueryElement(e);var t=e&&e.outlayerGUID;return t&&l[t]},a.create=function(e,t){function r(){a.apply(this,arguments)}return Object.create?r.prototype=Object.create(a.prototype):i.extend(r.prototype,a.prototype),r.prototype.constructor=r,r.defaults=i.extend({},a.defaults),i.extend(r.defaults,t),r.prototype.settings={},r.namespace=e,r.data=a.data,r.Item=function(){o.apply(this,arguments)},r.Item.prototype=new o,i.htmlInit(r,e),s&&s.bridget&&s.bridget(e,r),r},a.Item=o,a}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],t):"object"==typeof exports?module.exports=t(require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window,function(e){"use strict";function t(){e.Item.apply(this,arguments)}t.prototype=new e.Item,t.prototype._create=function(){this.id=this.layout.itemGUID++,e.Item.prototype._create.call(this),this.sortData={}},t.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e=this.layout.options.getSortData,t=this.layout._sorters;for(var r in e){var n=t[r];this.sortData[r]=n(this.element,this)}}};var r=t.prototype.destroy;return t.prototype.destroy=function(){r.apply(this,arguments),this.css({display:""})},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):"object"==typeof exports?module.exports=t(require("get-size"),require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window,function(e,t){"use strict";function r(e){this.isotope=e,e&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}return function(){function e(e){return function(){return t.prototype[e].apply(this.isotope,arguments)}}for(var n=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],i=0,o=n.length;o>i;i++){var a=n[i];r.prototype[a]=e(a)}}(),r.prototype.needsVerticalResizeLayout=function(){var t=e(this.isotope.element),r=this.isotope.size&&t;return r&&t.innerHeight!=this.isotope.size.innerHeight},r.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},r.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},r.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},r.prototype.getSegmentSize=function(e,t){var r=e+t,n="outer"+t;if(this._getMeasurement(r,n),!this[r]){var i=this.getFirstItemSize();this[r]=i&&i[n]||this.isotope.size["inner"+t]}},r.prototype.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},r.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},r.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},r.modes={},r.create=function(e,t){function n(){r.apply(this,arguments)}return n.prototype=new r,t&&(n.options=t),n.prototype.namespace=e,r.modes[e]=n,n},r}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):e.Masonry=t(e.Outlayer,e.getSize,e.fizzyUIUtils)}(window,function(e,t,r){var n=e.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],r=e&&e.element;this.columnWidth=r&&t(r).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,o=i/n,a=n-i%n,s=a&&1>a?"round":"floor";o=Math[s](o),this.cols=Math.max(o,1)},n.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,r=t(e);this.containerWidth=r&&r.innerWidth},n.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=t&&1>t?"round":"ceil",i=Math[n](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var o=this._getColGroup(i),a=Math.min.apply(Math,o),s=r.indexOf(o,a),c={x:this.columnWidth*s,y:a},u=a+e.size.outerHeight,l=this.cols+1-o.length,p=0;l>p;p++)this.colYs[s+p]=u;return c},n.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],r=this.cols+1-e,n=0;r>n;n++){var i=this.colYs.slice(n,n+e);t[n]=Math.max.apply(Math,i)}return t},n.prototype._manageStamp=function(e){var r=t(e),n=this._getElementOffset(e),i=this.options.isOriginLeft?n.left:n.right,o=i+r.outerWidth,a=Math.floor(i/this.columnWidth);a=Math.max(0,a);var s=Math.floor(o/this.columnWidth);s-=o%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var c=(this.options.isOriginTop?n.top:n.bottom)+r.outerHeight,u=a;s>=u;u++)this.colYs[u]=Math.max(c,this.colYs[u])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},n.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},n}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],t):"object"==typeof exports?module.exports=t(require("../layout-mode"),require("masonry-layout")):t(e.Isotope.LayoutMode,e.Masonry)}(window,function(e,t){"use strict";function r(e,t){for(var r in t)e[r]=t[r];return e}var n=e.create("masonry"),i=n.prototype._getElementOffset,o=n.prototype.layout,a=n.prototype._getMeasurement;r(n.prototype,t.prototype),n.prototype._getElementOffset=i,n.prototype.layout=o,n.prototype._getMeasurement=a;var s=n.prototype.measureColumns;n.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,s.call(this)};var c=n.prototype._manageStamp;return n.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,c.apply(this,arguments)},n}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("fitRows");return t.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth+this.gutter,r=this.isotope.size.innerWidth+this.gutter;0!==this.x&&t+this.x>r&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=t,n},t.prototype._getContainerSize=function(){return{height:this.maxY}},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("vertical",{horizontalAlignment:0});return t.prototype._resetLayout=function(){this.y=0},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,r=this.y;return this.y+=e.size.outerHeight,{x:t,y:r}},t.prototype._getContainerSize=function(){return{height:this.y}},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(r,n,i,o,a,s){return t(e,r,n,i,o,a,s)}):"object"==typeof exports?module.exports=t(e,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):e.Isotope=t(e,e.Outlayer,e.getSize,e.matchesSelector,e.fizzyUIUtils,e.Isotope.Item,e.Isotope.LayoutMode)}(window,function(e,t,r,n,i,o,a){function s(e,t){return function(r,n){for(var i=0,o=e.length;o>i;i++){var a=e[i],s=r.sortData[a],c=n.sortData[a];if(s>c||c>s){var u=void 0!==t[a]?t[a]:t,l=u?1:-1;return(s>c?1:-1)*l}}return 0}}var c=e.jQuery,u=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},l=document.documentElement,p=l.textContent?function(e){return e.textContent}:function(e){return e.innerText},d=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=o,d.LayoutMode=a,d.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var e in a.modes)this._initLayoutMode(e)},d.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},d.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),r=0,n=e.length;n>r;r++){var i=e[r];i.id=this.itemGUID++}return this._updateItemsSortData(e),e},d.prototype._initLayoutMode=function(e){var t=a.modes[e],r=this.options[e]||{};this.options[e]=t.options?i.extend(t.options,r):r,this.modes[e]=new t(this)},d.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?(this.arrange(),void 0):(this._layout(),void 0)},d.prototype._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},d.prototype.arrange=function(e){function t(){n.reveal(r.needReveal),n.hide(r.needHide)}this.option(e),this._getIsInstant();var r=this._filter(this.items);this.filteredItems=r.matches;var n=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(t):t(),this._sort(),this._layout()},d.prototype._init=d.prototype.arrange,d.prototype._getIsInstant=function(){var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=e,e},d.prototype._bindArrangeComplete=function(){function e(){t&&r&&n&&i.dispatchEvent("arrangeComplete",null,[i.filteredItems])}var t,r,n,i=this;this.once("layoutComplete",function(){t=!0,e()}),this.once("hideComplete",function(){r=!0,e()}),this.once("revealComplete",function(){n=!0,e()})},d.prototype._filter=function(e){var t=this.options.filter;t=t||"*";for(var r=[],n=[],i=[],o=this._getFilterTest(t),a=0,s=e.length;s>a;a++){var c=e[a];if(!c.isIgnored){var u=o(c);u&&r.push(c),u&&c.isHidden?n.push(c):u||c.isHidden||i.push(c)}}return{matches:r,needReveal:n,needHide:i}},d.prototype._getFilterTest=function(e){return c&&this.options.isJQueryFiltering?function(t){return c(t.element).is(e)}:"function"==typeof e?function(t){return e(t.element)}:function(t){return n(t.element,e)}},d.prototype.updateSortData=function(e){var t;e?(e=i.makeArray(e),t=this.getItems(e)):t=this.items,this._getSorters(),this._updateItemsSortData(t)},d.prototype._getSorters=function(){var e=this.options.getSortData;for(var t in e){var r=e[t];this._sorters[t]=f(r)}},d.prototype._updateItemsSortData=function(e){for(var t=e&&e.length,r=0;t&&t>r;r++){var n=e[r];n.updateSortData()}};var f=function(){function e(e){if("string"!=typeof e)return e;var r=u(e).split(" "),n=r[0],i=n.match(/^\[(.+)\]$/),o=i&&i[1],a=t(o,n),s=d.sortDataParsers[r[1]];return e=s?function(e){return e&&s(a(e))}:function(e){return e&&a(e)}}function t(e,t){var r;return r=e?function(t){return t.getAttribute(e)}:function(e){var r=e.querySelector(t);return r&&p(r)}}return e}();d.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},d.prototype._sort=function(){var e=this.options.sortBy;if(e){var t=[].concat.apply(e,this.sortHistory),r=s(t,this.options.sortAscending);this.filteredItems.sort(r),e!=this.sortHistory[0]&&this.sortHistory.unshift(e)}},d.prototype._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw new Error("No layout mode: "+e);return t.options=this.options[e],t},d.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},d.prototype._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},d.prototype._manageStamp=function(e){this._mode()._manageStamp(e)},d.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},d.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},d.prototype.appended=function(e){var t=this.addItems(e);if(t.length){var r=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(r)}},d.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){this._resetLayout(),this._manageStamps();var r=this._filterRevealAdded(t);this.layoutItems(this.filteredItems),this.filteredItems=r.concat(this.filteredItems),this.items=t.concat(this.items)}},d.prototype._filterRevealAdded=function(e){var t=this._filter(e);return this.hide(t.needHide),this.reveal(t.matches),this.layoutItems(t.matches,!0),t.matches},d.prototype.insert=function(e){var t=this.addItems(e);if(t.length){var r,n,i=t.length;for(r=0;i>r;r++)n=t[r],this.element.appendChild(n.element);var o=this._filter(t).matches;for(r=0;i>r;r++)t[r].isLayoutInstant=!0;for(this.arrange(),r=0;i>r;r++)delete t[r].isLayoutInstant;this.reveal(o)}};var h=d.prototype.remove;return d.prototype.remove=function(e){e=i.makeArray(e);var t=this.getItems(e);h.call(this,e);var r=t&&t.length;if(r)for(var n=0;r>n;n++){var o=t[n];i.removeFrom(this.filteredItems,o)}},d.prototype.shuffle=function(){for(var e=0,t=this.items.length;t>e;e++){var r=this.items[e];r.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},d.prototype._noTransition=function(e){var t=this.options.transitionDuration;this.options.transitionDuration=0;var r=e.call(this);return this.options.transitionDuration=t,r},d.prototype.getFilteredItemElements=function(){for(var e=[],t=0,r=this.filteredItems.length;r>t;t++)e.push(this.filteredItems[t].element);return e},d}),function(){"use strict";var e,t,r,n={}.hasOwnProperty;e=jQuery,t=function(){function t(t,r){var n;null==r&&(r={}),this.$img=e(t),this.loaded=!1,this.loading=!1,n=e.extend(!0,{},e.bttrlazyloading.constructor.options),this.options=e.extend(!0,n,r),this.breakpoints=e.bttrlazyloading.constructor.breakpoints,this.$container=e(this.options.container),"number"==typeof window.devicePixelRatio&&(this.constructor.dpr=window.devicePixelRatio),this.whiteList=["lg","md","sm","xs"],this.blackList=[],l.call(this),this.$wrapper=e('<span class="bttrlazyloading-wrapper"></span>'),this.options.wrapperClasses&&"string"==typeof this.options.wrapperClasses&&this.$wrapper.addClass(this.options.wrapperClasses),this.$img.before(this.$wrapper),this.$clone=e('<canvas class="bttrlazyloading-clone"></canvas>'),f.call(this),this.$wrapper.append(this.$clone),this.$img.hide(),this.$wrapper.append(this.$img),this.options.backgroundcolor&&this.$wrapper.css("background-color",this.options.backgroundcolor),p.call(this,"on"),setTimeout(function(e){return function(){return d.call(e)}}(this),100)}var r,i,o,a,s,c,u,l,p,d,f;return t.dpr=1,f=function(){var e;return e=i.call(this),this.$clone.attr("width",e.width),this.$clone.attr("height",e.height)},l=function(){var t,r,i,o;i=this.$img.data(),o=[];for(t in i)n.call(i,t)&&(r=i[t],(null==r||0===t.indexOf("bttrlazyloading"))&&(t=t.replace("bttrlazyloading","").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().split("-"),t.length>1?"undefined"!=typeof this.options[t[0]][t[1]]?o.push(this.options[t[0]][t[1]]=r):o.push(void 0):"object"==typeof r?o.push(e.extend(this.options[t[0]],r)):"undefined"!=typeof this.options[t[0]]?o.push(this.options[t[0]]=r):o.push(void 0)));return o},p=function(t){var n,o,a,s;return a=function(e){return function(){return e.$clone.hide(),e.$img.show(),e.$wrapper.addClass("bttrlazyloading-loaded"),e.options.animation&&e.$img.addClass("animated "+e.options.animation),e.loaded=e.$img.attr("src"),e.$img.trigger("bttrlazyloading.afterLoad")}}(this),this.$img[t]("load",a),n=function(e){return function(){var t;return e.loading?void 0:(e.loading=!0,t=i.call(e),e.loaded?(e.$wrapper.removeClass("bttrlazyloading-loaded"),e.options.animation&&e.$img.removeClass("animated "+e.options.animation),e.$img.removeAttr("src"),e.$img.hide(),e.$clone.attr("width",t.width),e.$clone.attr("height",t.height),e.$clone.show()):e.$wrapper.css("background-image","url('"+e.options.placeholder+"')"),setTimeout(function(){return e.$img.trigger("bttrlazyloading.beforeLoad"),e.$img.data("bttrlazyloading.range",t.range),e.$img.attr("src",r.call(e,t.src,t.range)),e.loading=!1},e.options.delay))}}(this),this.$img[t]("bttrlazyloading.load",n),o=function(e){return function(){var t,r;if(r=e.$img.attr("src"),t=e.$img.data("bttrlazyloading.range"),e.constructor.dpr>=2&&e.options.retina&&r.match(/@2x/gi))e.blackList.push(t+"@2x");else if(e.blackList.push(t),e.whiteList.splice(e.whiteList.indexOf(t),1),0===e.whiteList.length)return e.$img.trigger("bttrlazyloading.error"),!1;return e.$img.trigger("bttrlazyloading.load")}}(this),this.$img[t]("error",o),s=function(e){return function(){return d.call(e)}}(this),this.$container[t](this.options.event,s),this.options.container!==window&&e(window)[t](this.options.event,s),e(window)[t]("resize",s)},s=function(){var e;return e=window.innerWidth,e<=this.breakpoints.xs?"xs":this.breakpoints.sm<=e&&e<this.breakpoints.md?"sm":this.breakpoints.md<=e&&e<this.breakpoints.lg?"md":this.breakpoints.lg<=e?"lg":void 0},i=function(){return this.range=s.call(this),a.call(this)},r=function(e,t){return this.constructor.dpr>=2&&this.options.retina&&-1===this.blackList.indexOf(t+"@2x")?e.replace(/\.\w+$/,function(e){return"@2x"+e}):e},o=function(e){return"undefined"!=typeof this.options[e].src&&null!==this.options[e].src?this.options[e]:null},a=function(){var e,t,r,n,i,a;if(e=this.whiteList.indexOf(this.range),e>-1&&(r=o.call(this,this.range)))return r.range=this.range,r;for(a=this.whiteList,e=n=0,i=a.length;i>n;e=++n)if(t=a[e],r=o.call(this,t))return r.range=t,r;return""},c=function(){var t,n,o;return!this.loaded&&this.options.triggermanually?!1:this.loaded&&this.options.updatemanually?!1:(t=i.call(this),t.src&&this.loaded!==r.call(this,t.src,t.range)?(o=0,this.loaded||(o=this.options.threshold),n=u.call(this,e(window),{top:e(window).scrollTop()+o,left:e(window).scrollLeft()}),this.options.container!==window?n&&u.call(this,this.$container,{top:this.$container.offset().top+o,left:this.$container.offset().left}):n):!1)},u=function(e,t){var r;return null==t&&(t={}),t.right=t.left+e.width(),t.bottom=t.top+e.height(),r=this.$wrapper.offset(),r.right=r.left+this.$wrapper.outerWidth(),r.bottom=r.top+this.$wrapper.outerHeight(),!(t.right<r.left||t.left>r.right||t.bottom<r.top||t.top>r.bottom)},d=function(){return this.range!==s.call(this)&&f.call(this),c.call(this)?this.$img.trigger("bttrlazyloading.load"):void 0},t.prototype.get$Img=function(){return this.$img},t.prototype.get$Clone=function(){return this.$clone},t.prototype.get$Wrapper=function(){return this.$wrapper},t.prototype.destroy=function(){return this.$wrapper.before(this.$img),this.$wrapper.remove(),p.call(this,"off"),this.$img.off("bttrlazyloading"),this.$wrapper.removeClass("bttrlazyloading-loaded"),this.options.animation&&this.$img.removeClass("animated "+this.options.animation),this.$img.removeData("bttrlazyloading"),this.$img},t}(),e.fn.extend({bttrlazyloading:function(r){return this.each(function(){var n,i;return n=e(this),i=n.data("bttrlazyloading"),"undefined"==typeof i&&(i=new t(this,r),n.data("bttrlazyloading",i)),"string"==typeof r&&"undefined"!=typeof i[r]?i[r].call(i):void 0})}}),e.fn.bttrlazyloading.Constructor=t,r=function(){function t(){}return t.prototype.version="1.0.8",t.breakpoints={xs:767,sm:768,md:992,lg:1200},t.options={xs:{src:null,width:100,height:100,animation:null},sm:{src:null,width:100,height:100,animation:null},md:{src:null,width:100,height:100,animation:null},lg:{src:null,width:100,height:100,animation:null},retina:!1,animation:"bounceIn",delay:0,event:"scroll",container:window,threshold:0,triggermanually:!1,updatemanually:!1,wrapperClasses:null,backgroundcolor:"#EEE",placeholder:"data:image/gif;base64,R0lGODlhEAALAPQAAP/391tbW+bf3+Da2vHq6l5dXVtbW3h2dq6qqpiVldLMzHBvb4qHh7Ovr5uYmNTOznNxcV1cXI2Kiu7n5+Xf3/fw8H58fOjh4fbv78/JycG8vNzW1vPs7AAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA"},t.prototype.setOptions=function(t){return null==t&&(t={}),e.extend(!0,this.constructor.options,t),this},t.prototype.setRanges=function(t){return null==t&&(t={}),e.extend(!0,this.constructor.breakpoints,t),this},t.prototype.setBreakPoints=function(t){return null==t&&(t={}),e.extend(!0,this.constructor.breakpoints,t),this},t}(),e.bttrlazyloading=new r}.call(this);var s_rc=new TagContainerLoader;s_rc.tagContainerDC="d1",s_rc.tagContainerNamespace="rogerscommunicationspartnership",s_rc.tagContainerName="RogersCommunications",s_rc.loadTagContainer(),function(){"use strict";angular.module("ute.ui").directive("uteContentInjector",["$rootScope","$templateCache","uteContentLoader","$cookies","uteLocale","uteEndpoint",function(e,t,r,n,i,o){return{scope:{localContentId:"@",contentId:"@",compile:"=",province:"@",language:"@"},replace:!0,restrict:"EA",controller:["$scope","$element",function(t,n){var a=!1,s=n[0].offsetWidth;500>=s&&n.addClass("cms-content-width-narrow");var c=function(){a=!a;var e={scope:t,element:n,method:"GET",dataType:"json",fileType:".json",contentId:t.contentId,compile:angular.isDefined(t.compile)&&t.compile||!1,language:t.language||i.language(),province:t.province||i.province(),localContentId:t.localContentId,teamsiteUrl:o("","teamsite")};a?r.makeRequest(e):n.children().children()[0].remove()},u=function(){$(this).toggleClass("active")},l=function(){$("ins").off().on("click",".cms-metadata",u),n.addClass("preloader loading"),e.ute||(e.ute={language:"en",province:"on"}),p(),angular.element(document.getElementById("cms-metadata-toggle")).bind("click",c)},p=function(){var e={scope:t,element:n,method:"GET",dataType:"html",fileType:".html",contentId:t.contentId,compile:angular.isDefined(t.compile)&&t.compile||!1,language:t.language||i.language(),province:t.province||i.province(),localContentId:t.localContentId,teamsiteUrl:o("","teamsite")};r.makeRequest(e)},d=function(e,t){e!==t&&p()};l(),t.$watch("language",d),t.$watch("province",d),t.$watch("contentId",d)}]}}])}(),function(){"use strict";angular.module("ute.ui").factory("uteContentLoader",["$http","uteEndpoint","$compile","moment",function(e,t,r,n){var i={};return i.contentObjects=[],i.localizedUrl=function(e){var t=e.localContentId||e.contentId,r=-1===t.indexOf("intergration")?"_":"-";return t+r+e.language+r+e.province},i.unescapeHTML=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/\\"/g,'"')},i.onCMSLoadSuccess=function(e,t){var o,a=null;if(_.some(i.contentObjects,function(t){return e.rid===t.rid&&e.element===t.element&&(a=e)}),angular.isUndefinedOrNull(a))throw new Error('uteContentLoader error "matchedContent" was not defined');a.compile?(a.element.html(t.data),r(a.element.contents())(a.scope.$parent)):".json"===a.fileType?("undefined"!==e.teamsiteUrl&&(t.data.cmsContentURL=e.teamsiteUrl+t.data.cmsContentURL),a.element.children().prepend('<div class="cms-metadata"><span class="content-url">'+i.path.replace(".json",".html")+'</span><span class="edit-date">'+n().format("MMMM Do YYYY, h:mm:ss a",t.data.editDate)+'</span><span class="version">'+t.data.version+'</span><span class="is-published">'+t.data.is_active+'</span><span class="content-edit-url"><a href="'+t.data.cmsContentURL+'" target="_blank">Edit</a></span></div>')):(o=i.unescapeHTML(t.data),a.element.html(o)),a.element.removeClass("preloader loading")},i.onCMSLoadError=function(e){var t='<div class="col-xs-12 cms-content" style="background-color: #f5f5f5; text-align:center; margin-bottom:25px; margin-top:25px; border:1px dashed #ccc; padding:10px;"><span id="cms-header" style="text-align:center; color:#999;">'+i.localizedUrl(e)+e.fileType+"</span></div>";e.element.removeClass("preloader loading"),e.element.html(t)},i.setOptions=function(e){return e.rid=Math.round(1e3*Math.random()),e.localContentId=angular.isDefined(e.localContentId)?i.localizedUrl(e)+".html":void 0,i.contentObjects.push(e),e},i.makeRequest=function(r){var n=i.setOptions(r);n.fileType=-1===n.contentId.indexOf("intergration")?n.fileType:".xml";var o=n.contentId.split("/"),a=n.contentId.replace(o[o.length-1],"");n.contentId="json"===n.dataType?a+"/json/"+o[o.length-1]:n.contentId,i.path=i.localizedUrl(n)+n.fileType,e({method:n.method,dataType:n.dataType,url:n.localContentId||t(i.path,"cms")}).then(i.onCMSLoadSuccess.bind(i,n),i.onCMSLoadError.bind(i,n))},i}])}(),function(){"use strict";angular.module("ute.ui").constant("PCA_KEY","ND15-HD21-KA99-KT89").constant("uteEnv",function(){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var e={name:"local",apiBaseUrl:"http://ute-qa02.fido.ca:8080/html-fido/",cmsFilesURL:"http://uteqa4.fido.ca/html-fido/cms/ute/fido/resource/",cmsContentURL:"http://ute-dev02.fido.ca:8080/html-fido/cms/content/ute/fido/views/",apiBasePath:"api/selfserve",custom:{"v2/searchCustomerDetails":"http://localhost:8888/resource/searchCustomerDetails.json","v1/createContact":"http://localhost:8888/resource/createContact.json","v1/creditCheck":"http://localhost:8888/resource/creditCheck.json","v1/createCustomer":"http://localhost:8888/resource/createCustomer.json",fullfillmentOptions:"http://localhost:8888/resource/fulfillmentOptions.json","v1/createFinancialAccount":"http://localhost:8888/resource/createFinancialAccount.json","v1/orderSummary":"http://localhost:8888/resource/orderSummary.json",iptvOffers:"http://localhost:8888/resource/tvPackages.json",getMyTimeSlots:"http://localhost:8888/resource/getMyTimeSlots.json","v1/recommendedPackages":"http://localhost:8888/resource/recommendedPackages.json","v1/cfaInfo":"http://localhost:3000/v1/cfaInfo","v1/hardwareExchange":"http://ute-qa02.fido.ca:9001/html-fido/api/selfserve/v1/hardwareExchange"},semafoneParameters:{en:"",fr:"",semafoneUrl:"https://htsqa03.rogers.com/semafone/service/capture/getSemafoneIMEcommerceFragment.html",semafoneMode:"DISABLED",gatewayId:"CYBERSOURCE",methodId:"TOKENISE",transactionReference:"1234567890",ppUserId:"fido-ca",ppPassword:"MIIBlzCCAQCgAwIBAgIEVOyMQzANBgkqhkiG9w0BAQUFADAOMQwwCgYDVQQDDANUREUwHhcNMTUwMjI0MTQzNTQ3WhcNMjUwMjIxMTQzNTQ3WjASMRAwDgYDVQQDDAdmaWRvLWNhMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDEfWYpQ1DqL90UnuzN4Y5MFqXBxoV%2FMtqfUSHh5EuoWF8cLNA%2FtMAZ8g9db3m29T%2BgdC2Xk%2BkwUOw8r65a9qCf%2FXODAPIhPtAtr64viC2iUiCUmgIqFU9rZw0d2n4g3SRyWPVgFLIHKJRrsT98aB1qMZY7oXFnd6iNWY%2BdWXyZwwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAH1tAqVXyId%2FedKUv8f76cp0ugIutoyJKQ2o5zc%2BUbhXo4fjsyeAPIJ7%2FU6Tg2uTCgaql7d9QHsixjUlXwQv9p%2B8EdfRsGrlUYmws%2BnAdgZ1k0imOMfJzehuyYJMpjozQsKWHFL804ErggcLqayMLkfVGtOm%2FoNpUoxr3Zo9r6Uy",tenantId:"RCI",clientId:"9",accountId:"541",principle:"fidop",licenseCode:"p9UnWrjEfW",transactionType:"GetTokenPan",responseType:"web",responseURL:"https://htsqa03.rogers.com/semafone/service/capture/getSemafoneIMResultsEcommerceFragment.html"}};return"object"!=typeof window.janrain&&(window.janrain={}),"object"!=typeof window.janrain.settings&&(window.janrain.settings={packages:["capture"],language:angular.isDefined(window.__ute)&&angular.isDefined(window.__ute.language)&&"fr"===window.__ute.language?"fr":"en-US",tokenUrl:"http://localhost/",tokenAction:"event",borderColor:"#ffffff",fontFamily:"Helvetica, Lucida Grande, Verdana, sans-serif",width:300,actionText:" ",appUrl:"https://fido-dev.rpxnow.com",capture:{captureServer:"https://rogers-fido-dev.janraincapture.com",appId:"r3jhdpkcm3ggrb2bjuzxewbxsv",clientId:"d2hw34rwwgynjaa3m7kyx7agh5curpc3",redirectUri:"http://localhost:8888/",flowName:"fido",flowVersion:"HEAD",screenToRender:"returnTraditional",registerFlow:"traditionalRegistration",setProfileCookie:!0,keepProfileCookieAfterLogout:!0,modalCloseHtml:"X",noModalBorderInlineCss:!0,responseType:"token",returnExperienceUserData:["displayName","userID","uuid"],federate:!0,federateServer:"https://rogers-fido-dev.janrainsso.com",federateXdReceiver:window.location.origin+"/validate/janrain/xfederate.html",federateLogoutUri:window.location.origin+"/validate/janrain/blank.html",federateLogoutCallback:function(){},federateEnableSafari:!1},ute:{widgetpath:"https:"===document.location.protocol?"https://rpxnow.com/load/fido-dev":"http://widget-cdn.rpxnow.com/load/fido-dev"}}),document.addEventListener?document.addEventListener("DOMContentLoaded",function(){window.janrain.ready=!0},!1):window.attachEvent("onload",function(){window.janrain.ready=!0}),$('<script src="'+window.janrain.settings.ute.widgetpath+'" type="text/javascript" id="janrainAuthWidget"></script>').appendTo("body"),e}())}(),function(){"use strict";angular.module("ute.ui").config(["uteEnv","uteEndpointProvider",function(e,t){t.setBaseUrl(e.apiBaseUrl),t.setCMSContentURL(e.cmsContentURL),t.setBasePath(e.apiBasePath),e.custom&&t.setEndpoints(e.custom)
}])}(),function(){"use strict";angular.module("ute.ui").constant("restive",$.restive).directive("uteRestive",["restive",function(e){return{restrict:"AE",scope:{bandwidthSource:"@",speed:"@"},replace:!1,controller:["$scope","$element",function(t,r){var n,i,o=$(r),a=["xs","sm","md","lg","xl","2k","4k","8k"],s=function(){_.each(a,function(e){o.attr("class").indexOf(e)>-1&&(i=e)}),n=e.isPhone()===!0?"xs":i,o.attr("ute-device-orientation",e.getOrientation()).attr("ute-device-platform",e.getPlatform()).attr("ute-device-formfactor",e.getFormFactor()).attr("ute-device-mobile",e.isMobile()).attr("ute-device-resolution",e.getResolution()).attr("ute-device-bandwidth",t.speed||"fast").attr("ute-device-size",n)};e.startMulti(),o.restive({breakpoints:["640","720","960","1024","1280","1920","3840","7680"],classes:["xs","sm","md","lg","xl","2k","4k","8k"],force_dip:!0,onRotate:function(){o.attr("ute-device-orientation",e.getOrientation())},onAddClass:function(){s()}}),o.restive({breakpoints:["800"],classes:["xs"],formfactor:"phone",force_dip:!0,onRotate:function(){o.attr("ute-device-orientation",e.getOrientation())},onAddClass:function(){s()}}),e.endMulti(),s()}]}}])}(),function(){"use strict";angular.module("ute.ui").factory("uteLocale",["$rootScope","$cookies",function(e,t){var r,n,i={},o="ca";return i.language=function(){return r="undefined"!=typeof e.rui&&"undefined"!=typeof e.rui.language?e.rui.language:"undefined"!=typeof e.ute&&"undefined"!=typeof e.ute.language?e.ute.language:"undefined"!=typeof t&&"undefined"!=typeof t.get("language")?t.get("language"):"en"},i.country=function(){return o},i.province=function(){return n="undefined"!=typeof e.rui&&"undefined"!=typeof e.rui.province?e.rui.province:"undefined"!=typeof e.ute&&"undefined"!=typeof e.ute.province?e.ute.province:"undefined"!=typeof t&&"undefined"!=typeof t.get("province")?t.get("province"):"on"},i.locale=function(){return i.language()+"-"+i.country()},i}])}(),function(){"use strict";angular.module("ute.ui").provider("uteEndpoint",function(){this.baseUrl="",this.basePath="",this.cmsContentURL="",this.teamsiteURL="",this.endpoints={},this.setCMSContentURL=function(e){this.cmsContentURL=e},this.setTeamsiteURL=function(e){this.teamsiteURL=e},this.configure=function(e){this.baseUrl=e.baseUrl,this.basePath=e.basePath,this.endpoints=e.endpoints},this.setBaseUrl=function(e){this.baseUrl=e},this.setBasePath=function(e){this.basePath=e},this.setEndpoints=function(e){this.endpoints=e},this.setCMSContentURL=function(e){this.cmsContentURL=e},this.setTeamsiteURL=function(e){this.teamsiteURL=e},this.set=function(e,t){this.endpoints[e]=t},this.$get=function(){var e=this;return function(t,r){if(r&&"cms"===r)return e.cmsContentURL||(e.cmsContentURL=e.baseUrl),e.cmsContentURL+t;if(r&&"teamsite"===r)return e.teamsiteURL+t;if(e.endpoints[t]){var n=e.endpoints[t];return n.match(/^http/)?n:n.match(/^\//)?e.baseUrl+n:e.baseUrl+e.basePath+"/"+n}return t.match(/^\//)?e.baseUrl+t:e.baseUrl+e.basePath+"/"+t}}})}(),function(){"use strict";angular.module("ute.ui").directive("uteHeader",["$rootScope","$http","$compile","uteEndpoint","uteEnv","commonService",function(e,t,r,n,i,o){return{restrict:"AE",scope:!0,replace:!1,controllerAs:"uteHeaderCtrl",templateUrl:"uteHeader/header.html",link:function(a,s,c){if(a.useHref=a.$eval(c.useHref)||!1,a.internetNotificationsCount=0,a.commonService=o,a.$watch(function(){return o.accountDetails},function(e){if(a.accountDetails=e,a.internetNotificationsCount=0,a.internetSubscriberNo=o.internetSubscriberNo,a.internetAccountNumber=o.internetAccountNumber,a.tvSubscriberNo=o.tvSubscriberNo,a.tvAccountNumber=o.tvAccountNumber,a.wirelessSubscriberNo=o.wirelessSubscriberNo,a.wirelessAccountNumber=o.wirelessAccountNumber,a.internetSubscriberNo){var r=n("v1/productNotificationHistory");t.post(r,{accountNumber:a.internetAccountNumber,subscriptionID:a.internetSubscriberNo}).success(function(e){a.internetNotificationsCount=e.getUsageNotifications.notification.length})}},!0),"true"===c.isCms){var u="global/header-livesite/header-livesite_"+e.rui.language+"_"+e.rui.province+".html",l=i.cmsContentURL+u;t.get(l).success(function(e){s.html(e),r(s.contents())(a)}).error(function(){})}}}}]).factory("commonService",["$http","uteEndpoint","$q","$window","$rootScope","uteJanrainService","uteCoreFactory",function(e,t,r,n,i,o,a){var s={},c={},u=a.collections;s.accountDetails=[],s.samKeys=[],s.loginFrom="",s.accessToken="",s.customerHasWirelessService=!1,s.customerHasInternetService=!1,s.customerHasTVService=!1,s.internetSubscriberNo="",s.internetAccountNumber="",s.tvSubscriberNo="",s.tvAccountNumber="",s.wirelessSubscriberNo="",s.wirelessAccountNumber="";var l=!1;return c.deferred={},c.countJanrainChecks=0,c.logOutJanrain=function(){setTimeout(function(){c.countJanrainChecks+=1,"object"==typeof n.janrain&&"object"==typeof n.janrain.capture&&"object"==typeof n.janrain.capture.ui?1==n.janrain.capture.ui.hasActiveSession()&&n.janrain.capture.ui.endCaptureSession():c.countJanrainChecks<=10&&c.logOutJanrain()},500)},s.logOutUser=function(){u.userInfo={},o.clearLocalStorageValue(),i.payment={},s.resetServiceData(),c.countJanrainChecks=0,c.logOutJanrain()},s.getAccountDetails=function(n,i){if(1==i&&(s.accountDetails=[]),l)return c.deferred.promise;if((s.accountDetails||[]).length>0){var o=r.defer();return setTimeout(function(){o.resolve()},20),o.promise}l=!0;var a=[];return c.deferred=r.defer(),s.accountDetails=[],s.samKeys=[],s.customerHasWirelessService=!1,s.customerHasInternetService=!1,s.customerHasTVService=!1,s.internetSubscriberNo="",s.internetAccountNumber="",s.tvSubscriberNo="",s.tvAccountNumber="",s.wirelessSubscriberNo="",s.wirelessAccountNumber="",_.each(n,function(r){if(r&&r.accountNumber&&"TENTATIVE"!==r.status){var n=e({method:"POST",url:t("v2/accountOverview"),data:{accountNumber:r.accountNumber}});a.push(n)}}),r.all(a).then(function(e){_.each(e,function(e,t){var r={};r.accountNumber=n[t].accountNumber,r.hasInternetTV=!1,r.hasWireless=!1,"Internet/TV"===n[t].serviceName?r.hasInternetTV=!0:"Wireless"===n[t].serviceName&&(r.hasWireless=!0),r.balance=e.data.getAccountInfo.balance,r.paymentDueDate=e.data.getAccountInfo.paymentDueDate,r.LOB=e.data.getAccountInfo.lob,r.nextCycleDueIn=e.data.getAccountInfo.nextCycleDueIn,r.contactEmail=e.data.getAccountInfo.primaryEmailID,r.MOPType=e.data.getAccountInfo.mop,r.subscriberServices=[],r.hasError=e.data.getAccountInfo.error,_.each(e.data.getAccountInfo.subscriberService,function(e){var t={serviceAddress:e.serviceAddress};e&&e.serviceAddress&&e.serviceAddress.samKey&&s.samKeys.push(e.serviceAddress.samKey),_.each(e.service,function(e){"Hi-Speed Internet"===e.serviceName||"HSI"===e.serviceName?(t.internet=e,s.customerHasInternetService=!0,s.internetSubscriberNo=e.subscriberNo,s.internetAccountNumber=r.accountNumber):"IPTV"==e.serviceName?(t.tv=e,s.customerHasTVService=""!==(e.subscriberNo||""),s.tvSubscriberNo=e.subscriberNo,s.tvAccountNumber=r.accountNumber):"CTN"==e.serviceName&&(t.wireless=e,s.customerHasWirelessService=!0,s.wirelessSubscriberNo=e.subscriberNo,s.wirelessAccountNumber=r.accountNumber)}),r.subscriberServices.push(t)}),s.accountDetails.push(r)}),(s.samKeys||[]).length>0&&(u.userPref.samKey=s.samKeys[0]),c.deferred.resolve(),l=!1},function(e){c.deferred.reject(),l=!1,401===e.status&&s.logOutUser()}),0===a.length&&(l=!1,c.deferred.resolve()),c.deferred.promise},s.loadPaymentDetails=function(n){var i=r.defer(),o=[];return _.each(n,function(r){if(r&&r.accountNumber&&"TENTATIVE"!==r.status){var n=e({method:"POST",url:t("v1/billingArrangementData"),data:{billingArrangementId:r.accountNumber}});o.push(n)}}),r.all(o).then(function(e){_.each(e,function(e,t){var r="invoice";"pac"===e.data.methodOfPayment?r="pac":"pacc"===e.data.methodOfPayment?r="pacc":"invoice"===e.data.methodOfPayment&&(r="invoice"),_.each(s.accountDetails,function(e){e.accountNumber==n[t].accountNumber&&(e.MOPType=r)})}),i.resolve()},function(){i.reject()}),i.promise},s.resetServiceData=function(){l=!1,c.countJanrainChecks=0,s.accountDetails=[],s.samKeys=[],s.loginFrom="",s.accessToken="",s.customerHasWirelessService=!1,s.customerHasInternetService=!1,s.customerHasTVService=!1,s.internetSubscriberNo="",s.internetAccountNumber="",s.tvSubscriberNo="",s.tvAccountNumber="",s.wirelessSubscriberNo="",s.wirelessAccountNumber="",u.userPref.samKey="default"},s}])}(),function(){"use strict";angular.module("ute.ui").controller("uteHeaderCtrl",["$scope","$rootScope","$state","$window","uteUserService","uteModal","uteCartManager","uteJanrainService",function(e,t,r,n,i,o,a,s){e.openSearch=function(){o.open({templateUrl:"uteModal/search.html",size:"md",ok:function(){e.modalClickedOk=!0},cancel:function(){e.modalClickedCancel=!0}})},e.getQuantity=a.getQuantity,e.currentRouteName="",e.toggleMobileNav=function(e){e.preventDefault(),t.ruiMethods.toggleMobileMenu()},e.headerTypeClass=function(){return e.headerType},e.login=function(){s.renderLogin()},e.logout=function(){},e.headerType="default",e.$on("rciLoginStatusChange",function(){}),t.$on("$stateChangeSuccess",function(n,i){r.current=i,e.currentRouteName=r.current.name,"cartSummary"===e.currentRouteName&&t.utePopoverScope?t.utePopoverScope.disable():"cartSummary"!==e.currentRouteName&&t.utePopoverScope&&t.utePopoverScope.enable(),e.headerType=-1!==r.current.url.indexOf("profile")?"profile-header":"default"})}])}(),function(){"use strict";angular.module("ute.ui").directive("uteAcknowledge",["$rootScope","$parse",function(e,t){return{restrict:"EA",scope:!0,templateUrl:"uteAcknowledge/acknowledge.html",controller:["$scope","$element","$attrs",function(e,r,n){e.navOffset=n.navOffset,e.contentId=n.contentId,e.buttonText=n.buttonText,e.customClass=n.customClass,e.checkboxText=n.checkboxText,e.trackingId=n.trackingId,e.callback=t(n.callback),e.isSelected=!1;e.accept=function(){angular.isDefined(e.callback)&&e.callback(e)}}]}}])}(),function(){"use strict";angular.module("ute.ui").directive("uteAddressComplete",["$ocLazyLoad","$timeout",function(e,t){return{restrict:"EA",controller:["$scope","$element","$attrs",function(r,n,i){r.lazyLoaded=function(){var e=[{element:n[0],field:"Label"}];try{var o=new pca.Address(e,{key:i.key||"JJ22-BF18-BM96-CT77",culture:i.locale||"en-us",advancedFields:["{StreetNumber}","{StreetName}","{StreetType}","{StreetDirection}","{StreetNumberSuffix}","{StreetPreDirection}","{StreetPostDirection}"],bar:{visible:!1,showCountry:!1,showLogo:!1}});o.listen("populate",function(e){i.callback&&r[i.callback](e)}),o.listen("noresults",function(){i.callbackNotFound&&r[i.callbackNotFound]()}),r.processing?r.processing.loading=!1:t(function(){r.$emit("addressCompleteReady")},0),$(n[0]).attr("autocomplete","off"),$(n[0]).parents().hasClass("modal-dialog")&&($(".pca:first").insertBefore($(n[0])),$(".pca:first").addClass("formodal"))}catch(a){i.callbackError&&r[i.callbackError](a)}},e.load([window.location.protocol+"//ws1.postescanada-canadapost.ca/css/addresscomplete-2.30.min.css",window.location.protocol+"//ws1.postescanada-canadapost.ca/js/addresscomplete-2.30.min.js"]).then(r.lazyLoaded)}]}}])}(),function(){"use strict";angular.module("ute.ui").factory("uteBarOptions",["chartist",function(e){return{axisX:{offset:30,labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,scaleMinSpace:40},axisY:{offset:40,labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,scaleMinSpace:20},width:void 0,height:void 0,high:void 0,low:void 0,chartPadding:5,seriesBarDistance:15,stackBars:!1,horizontalBars:!1,reverseData:!1,classNames:{chart:"ute-ct-chart-bar ct-chart-bar",label:"ute-ct-label ct-label",labelGroup:"ute-ct-labels ct-labels",series:"ute-ct-series ct-series",bar:"ute-ct-bar ct-bar",grid:"ute-ct-grid ct-grid",gridGroup:"ute-ct-grids ct-grids",vertical:"ute-ct-vertical ct-vertical",horizontal:"ute-ct-horizontal ct-horizontal"}}}])}(),function(){"use strict";angular.module("ute.ui").directive("uteChartBadge",function(){return{restrict:"EA",replace:!0,scope:{limitValue:"@"},template:'<div class="badge ute-ct-badge"><p><b>{{limitValue | uteCapacity}}</b><br/> data limit</p></div>'}})}(),function(){"use strict";angular.module("ute.ui").constant("chartist",Chartist).directive("uteChartist",["$compile","chartist","uteLineOptions","uteBarOptions","utePieOptions",function(e,t,r,n,i){return{restrict:"EA",scope:{chartData:"=",chartOptions:"=",chartResponsiveOptions:"=",chartBreakLine:"=",chartShowLimitLine:"=",chartType:"@",onCreated:"&",onFinishedDrawing:"&",onDraw:"&"},replace:!0,template:'<div class="ct-chart ute-chart"></div>',link:function(o,a){o.chart=null,o.chartData=angular.copy(o.chartData),o.chartOptions=angular.copy(o.chartOptions);var s,c=a[0];if("line"===o.chartType){if(!(angular.isDefined(o.chartData)&&angular.isDefined(o.chartData.labels)&&angular.isDefined(o.chartData.series)))throw angular.isDefined(o.chartData)?new Error("uteChartist error: $scope.chartData is defined but does not have the correct properties: series and labels"):new Error("uteChartist error: $scope.chartData is undefined");var u,l=function(e){return _.reduce(e,function(e,t){var r=angular.isDefined(t.data)?t.data.length:t.length;return r>e?t.data:e},0)};if(null===o.chartData.series||void 0===o.chartData.series)return;if(u=l(o.chartData.series),o.chartBreakLine&&o.chartBreakLine.enabled){var p,d,f,h,m=function(e){return"number"==typeof o.chartBreakLine.breakOn?e<o.chartBreakLine.breakOn:"string"==typeof o.chartBreakLine.breakOn?o.chartBreakLine.breakOn!==o.chartData.labels[e].toLowerCase():!1},g=!0;if(angular.isDefined(o.chartBreakLine.breakOn)){if("number"!=typeof o.chartBreakLine.breakOn&&"string"!=typeof o.chartBreakLine.breakOn)throw new Error("uteChartist error: chartBreakLine.breakOn is not a number or a string, typeof value is: "+typeof o.chartBreakLine.breakOn);p=[],_.each(u,function(e,t){var r=m(t);r&&p.push(e),!r&&g&&(d=t,f=u[t-1],h=e,g=!1,p.push(e))}),o.chartData.series.push({data:p,limitData:{lastValue:h,limitValue:f,index:d,cap:o.chartBreakLine.limit}})}else if(angular.isDefined(o.chartBreakLine.limit)){if("object"!=typeof o.chartBreakLine.limit&&"number"!=typeof o.chartBreakLine.limit)throw new Error("uteChartist error: chartBreakLine.limit is not a object or a string, typeof value is: "+typeof o.chartBreakLine.limit);Array.isArray(o.chartBreakLine.limit)?_.each(o.chartBreakLine.limit.reverse(),function(e){p=[],_.each(u,function(t,r){e>t&&p.push(t),t>=e&&g&&(d=r,f=u[r-1],h=t,g=!1,p.push(t))}),o.chartData.series.push({data:p,limitData:{lastValue:h,limitValue:f,index:d,cap:e}})}):(p=[],_.each(u,function(e,t){e<=o.chartBreakLine.limit&&(p.push(e),f=u[t]),e>=o.chartBreakLine.limit&&g&&(d=t,h=e,g=!1,p.push(e))}),o.chartData.series.push({data:p,limitData:{lastValue:h,limitValue:f,index:d,cap:o.chartBreakLine.limit}}))}}if(o.chartShowLimitLine&&o.chartShowLimitLine.enabled){var v;Array.isArray(o.chartShowLimitLine.limit)?_.each(o.chartShowLimitLine.limit,function(e,t){v=[],_.each(u,function(){v.push(e)}),o.chartData.series.push({data:v,className:"ute-ct-limit-line ute-ct-limit-line-"+(t+1)})}):(v=[],_.each(u,function(){v.push(o.chartShowLimitLine.limit)}),o.chartData.series.push({data:v,className:"ute-ct-limit-line"}))}s=_.defaults({},o.chartOptions,r),s.breakLine=o.chartBreakLine||{},s.showLimitLine=o.chartShowLimitLine||{},o.chart=t.Line(c,o.chartData,s,o.chartResponsiveOptions)}else if("bar"===o.chartType)s=_.defaults({},o.chartOptions,n),o.chart=t.Bar(c,o.chartData,s,o.chartResponsiveOptions);else{if("pie"!==o.chartType)throw new Error("uteChartist error: unknown chartType, must be 'line', 'bar' or 'pie'");s=_.defaults({},o.chartOptions,i),o.chart=t.Pie(c,o.chartData,s,o.chartResponsiveOptions)}o.chart.on("created",function(){if(o.chartShowLimitLine&&o.chartShowLimitLine.showLabel&&o.chartShowLimitLine.showLabel.enabled){var t,r,n=o.chartShowLimitLine.showLabel.template,i=$(a).find(".ute-ct-limit-line"),s=e(n),c=$(s(o));c.addClass("ute-limit-line-badge"),r=$(a).find("svg"),r.css({top:0,left:0}),t=r.parent(),t.css({position:"relative"}),0===$(a).find(".badge.ute-ct-badge").length&&t.before(c),c.css({position:"absolute",left:0-i.outerWidth()+45,top:i.position().top+c.height()})}if(angular.isDefined(o.onCreated)){var u=o.onCreated();"function"==typeof u&&u(o.chart)}o.chart.eventEmitter.emit("finishedDrawing")}),o.chart.on("draw",function(e){if(angular.isDefined(o.onDraw)){var t=o.onDraw();"function"==typeof t&&t(e)}}),o.chart.on("finishedDrawing",function(){if(angular.isDefined(o.onFinishedDrawing)){var e=o.onFinishedDrawing();"function"==typeof e&&e()}})}}}])}(),function(){"use strict";angular.module("ute.ui").constant("uteLineOptions",function(e){return{axisX:{offset:30,labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop},axisY:{offset:40,labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,scaleMinSpace:20},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,allowVariableDataLengths:!1,lineSmooth:!0,low:void 0,high:void 0,chartPadding:5,fullWidth:!1,reverseData:!1,classNames:{chart:"ute-ct-chart-line ct-chart-line",label:"ute-ct-label ct-label",labelGroup:"ute-ct-labels ct-labels",series:"ute-ct-series ct-series",line:"ute-ct-line ct-line",point:"ute-ct-point ct-point",area:"ute-ct-area ct-area",grid:"ute-ct-grid ct-grid",gridGroup:"ute-ct-grids ct-grids",vertical:"ute-ct-vertical ct-vertical",horizontal:"ute-ct-horizontal ct-horizontal"}}})}(),function(){"use strict";angular.module("ute.ui").constant("utePieOptions",function(e){return{width:void 0,height:void 0,chartPadding:5,classNames:{chart:"ute-ct-chart-pie",series:"ute-ct-series ct-series",slice:"ute-ct-slice ct-slice",donut:"ute-ct-donut ct-donut",label:"ute-ct-label ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelInterpolationFnc:e.noop,labelDirection:"neutral",reverseData:!1}})}(),function(){"use strict";angular.module("ute.ui").directive("uteCurrency",["$http","$rootScope","$filter","$sce","$translate","uteLocale",function(e,t,r,n,i,o){return{scope:{fontSize:"@",price:"@",frequency:"@",tax:"=",showCents:"@"},transclude:!1,replace:!0,template:'<span ng-style="{fontSize: fontSize};"><ins ng-bind-html="currencyValue"></ins></span>',restrict:"EA",link:function(e){e.fontSize=e.fontSize||"5rem";var t=function(t){var r="<sup>$</sup>",a="",s="",c=function(){e.centsClass="false"===e.showCents?"hidden":"";var i=t.toString().replace("$","").split(".");e.currencyValue=n.trustAsHtml(r+i[0]+'<sup class="'+e.centsClass+'">.'+i[1]+"</sup>"+a+s)},u=function(){var i=t.toString().replace("$","").split(",");e.currencyValue=n.trustAsHtml(i[0]+'<sup class="'+e.centsClass+'">,'+i[1]+"</sup>"+r+a+s)};e.getCurrencyValue=function(){if(e.tax){var t=parseFloat(e.tax);if(t&&_.isNumber(t))a='<span class="plux-tax-text">+'+t.toFixed(2).toString()+"</span>";else{var r="en"===o.language()?"+ taxes":"+ taxes";a='<span class="plux-tax-text">'+r+"</span>"}}"en"===o.language()?c():"fr"===o.language()?u():c()},e.frequency?(i.use(o.language()),i(e.frequency).then(function(t){s="<sub>"+t+"</sub>",e.getCurrencyValue()})):e.getCurrencyValue()};e.$watch(function(){var t=Number(e.price.replace("$",""));return e.price=isNaN(t)?"$0.00":e.price,e.price=e.price.replace("$","").toString(),r("currency")(e.price,"$")},function(e){t(e)})}}}])}(),function(){"use strict";angular.module("ute.ui").directive("uteDatePicker",function(){return{scope:{endDate:"=",ngModel:"=",navigate:"=",preSelectDate:"@"},transclude:!0,template:'<i class="ute-icon-calendar ute-xl" show-button-bar="false" datepicker-popup="{{format}}" ng-click="open($event)" ng-model="ngModel" is-open="opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions"></i>',restrict:"E",controller:["$scope",function(e){e.open=function(t){t.preventDefault(),t.stopPropagation(),e.opened=!0},e.ngModel=e.preSelectDate||moment().format(),e.clear=function(){e=null},e.toggleMin=function(){e.minDate=e.minDate?null:moment().format()},e.toggleMin(),e.maxDate=moment().add(e.endDate,"d"),e.dateOptions={formatYear:"yy",startingDay:1,maxMode:"day",showWeeks:!1},e.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],e.format=e.formats[0]}]}})}(),function(){"use strict";angular.module("ute.ui").directive("uteGlobalMessage",function(){return{restrict:"E",transclude:!0,scope:{globalMessage:"@"},template:'<div class="alert alert-{{globalMessageObj.type}}"><div><i class="{{iconType}}"></i></div><div><h4><ins translate="{{globalMessageObj.title}}"></ins></h4><ins translate="{{globalMessageObj.code}}"></ins></div></div>',controller:["$scope",function(e){if(""!==e.globalMessage)switch(e.globalMessageObj=JSON.parse(e.globalMessage),e.globalMessageObj.type){case"success":e.iconType="ute-icon-check";break;case"error":case"warning":case"danger":e.iconType="ute-icon-error";break;case"info":e.iconType="ute-icon-info"}}]}})}(),function(){"use strict";angular.module("ute.ui").directive("uteImg",["restive",function(e){return{restrict:"AE",scope:{uteImg:"@",size:"@",prefix:"@",suffix:"@"},replace:!0,link:function(t,r){t.suffix=t.suffix||"",t.prefix=t.prefix||"",t.size=t.size||"",t.suffix="_square2"===t.suffix?"_square":t.suffix;var n,i=t.uteImg.substring(t.uteImg.lastIndexOf("/")+1),o=t.uteImg.substring(0,t.uteImg.lastIndexOf("/")+1),a=t.uteImg.split(".").pop(),s=i.substring(0,i.lastIndexOf("."));t.size=t.size||"",t.size=e.isRetina()===!0?"x2":t.size,n=o+t.prefix+s+t.suffix+t.size+"."+a,r.attr("class","bttrlazyloading"),r.attr("data-bttrlazyloading-sm-src",n),$(".bttrlazyloading").bttrlazyloading({animation:null})}}}])}(),function(){"use strict";angular.module("ute.ui").directive("uteIptvWhatyoulove",["$http","$timeout","uteEndpoint",function(e,t,r){return{restrict:"AE",scope:{imageFolder:"@",jsonSource:"@",ratioOdds:"@",data:"@",selectedShows:"=shows",selectedChannels:"=channels"},replace:!1,templateUrl:function(e,t){return t.templateUrl||"modules/tv/views/iptv.html"},controller:["$scope","$element",function(n){var i=n.jsonSource||r("v1/endeca/proxy/what-you-love?N=0&Nr=AND(Language_D:en,Record_Type:Shows)");n.imgList=["//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/TWDS4_CC.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/revolution.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/arrow.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/the-flash.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/breaking-bad.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/fringe.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/daredevil.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/falling-skies.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/vikings.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/the-100.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/brooklyn-99.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/the-big-bang-theory.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/game-of-thrones.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/simpsons.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/family-guy.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/castle.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/modern-family.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/mad-men.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/orphan-black.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/true-detective.jpeg","//ute-dev02.fido.ca:8080/html-fido/cms/ute/fido/images/iptv/grimm.jpeg"];var o={square:40,square2:10,portrait:20,landscape:30},a=n.ratioOdds||o;n.getRandomRatio=function(){var e=Math.round(100*Math.random()),t=0,r="";return _.each(a,function(n,i){var o=t;t+=n,e>=o&&t>e&&(r=i)}),r},n.getChannelName=function(e){for(var t in e)if(e.hasOwnProperty(t))return t},n.select=function(e){n.selected=e},n.isActive=function(e){return n.selected===e},n.$watch("selectedShows",function(e){n.selectedChannels=_.groupBy(_.without(e,void 0,!1,null),"channel"),n.channelCount=_.size(n.selectedChannels)},!0),n.folder=n.imageFolder||"resource/iptv/";var s=function(e){n.channelsList=_.map(e.data.mainContent[0].contents[0].records,function(e){return e.attributes.ChannelCallLetter_P?{channel:e.attributes.ChannelCallLetter_P[0],tvShow:e.attributes.ShowName_P[0],description:e.attributes.Show_ShortDescription_P[0],ratio:$.restive.isPhone()===!0||$.restive.getViewportW()<600?"square":n.getRandomRatio()}:void 0}),t(function(){$(".grid").isotope({layoutMode:"packery",itemSelector:".grid-item"})},500),n.$emit("uteIptvWhatyouloveRequestData",{loading:!1,loadError:!1})},c=function(){n.$emit("uteIptvWhatyouloveRequestData",{loading:!1,loadError:!0})};e.get(i).then(s,c)}]}}])}(),function(){"use strict";angular.module("ute.ui").directive("utePermission",["utePermissionManager","$rootScope","$compile","$animate",function(e,t,r,n){var i=function(t,r,i,o,a){var s=function(){e.getPermissionById(i.utePermission)===e.permissionsStatuses.HIDDEN||a(function(e){n.enter(e,r.parent(),r)})};t.$watch(function(){return e.utePermissions},function(){angular.isUndefinedOrNull(e.utePermissions)||s()})},o=function(r,n,i){var o;r.init=function(){e.permissionsLoaded?r.permissionsReady(null,e.utePermissions):o=t.$on(e.events.PERMISSION_DATA_READY,r.permissionsReady)},r.permissionsReady=function(){angular.isDefined(o)&&o()},e.getPermissionById(i.utePermission)!==e.permissionsStatuses.HIDDEN&&r.init()},a={};return a.multiElement=!0,a.transclude="element",a.priority=1210,a.terminal=!0,a.restrict="A",a.controller=o,a.link=i,a}]).directive("utePermission",["$parse","$compile","utePermissionManager",function(e,t,r){var n=function(e,t,n){if(r.getPermissionById(n.utePermission)===r.permissionsStatuses.DISPLAY){var i=function(e){var t=[];return e.replace(/(?:\$?[\w]+?\((?:.+?)??\))/gi,function(e){return t.push(e.slice(0,e.indexOf("("))),"null"}),t},o=function(t,r){if($(r).hasAttr("ng-click")){var n=i($(r).attr("ng-click"));$(r).removeAttr("ng-click"),_.each(n,function(t){angular.isUndefinedOrNull(e[t])||(e[t]=null)})}$(r).attr("disabled","disabled"),$.each($(r).children(),o)};$.each($(t).children(),o),$(t).append('<div class="ute-disabled"></div>')}},i={};return i.multiElement=!0,i.priority=1205,i.restrict="A",i.link=n,i}])}(),function(){"use strict";angular.module("ute.ui").factory("utePermissionManager",["$rootScope","$http","$log","$q",function(e,t,r,n){var i={};return i.utePermissions=null,i.permissionsStatuses={HIDDEN:"N",DISPLAY:"D",ENABLE:"E"},i.defaultPermissionsMap=[{id:"0",permission:i.permissionsStatuses.HIDDEN},{id:"1",permission:i.permissionsStatuses.DISPLAY},{id:"2",permission:i.permissionsStatuses.ENABLE}],i.getPermissionById=function(e){var t=null;return _.some(i.defaultPermissionsMap,function(r){return e===r.id?(t=r.permission,!0):void 0}),angular.isDefined(t)?t:i.permissionsStatuses.HIDDEN},i.permissionsLoaded=!1,i.events={PERMISSION_DATA_READY:"PERMISSION_DATA_READY"},i.nameSpace=null,i.requestPermissionJSON=function(o){angular.isUndefinedOrNull(o)&&new Error("utePermissionManager: you must specify a valid path to a json file containing tagging id information");var a=n.defer();return t.get(o).then(function(t){i.utePermissions=t.data,i.defaultPermissionsMap=[],_.each(i.utePermissions.permissions,function(e,t){i.defaultPermissionsMap.push({id:t,permission:e})}),e.$emit(i.events.PERMISSION_DATA_READY,i.utePermissions),i.permissionsLoaded=!0,a.resolve(i.utePermissions)},function(e){r.warn("could not load json file:",e)}),a.promise},i.init=function(t){var r=n.defer();return angular.isUndefinedOrNull(i.utePermissions)?i.requestPermissionJSON(t).then(function(){r.resolve(i.utePermissions)}):(e.$emit(i.events.PERMISSION_DATA_READY,i.utePermissions),r.resolve(i.utePermissions)),r.promise},i}])}(),function(){"use strict";angular.module("ute.ui").directive("utePopover",["$compile","$timeout","$document","$window","utePopoverFactory",function(e,t,r,n,i){return{restrict:"EA",scope:{popoverContent:"@",popoverBackdrop:"=",popoverClass:"@",popoverTarget:"@",popoverCloseTarget:"@",popoverPlacement:"@",popoverRemoveSelf:"=",popoverInsertMode:"@",popoverArrowPadding:"@"},controller:["$scope","$element",function(o,a){var s=o.popoverInsertMode||"append";o.popoverClass=o.popoverClass||"",o.popoverPlacement=o.popoverPlacement||"bottom";var c=o.popoverArrowPadding||10;o.show=function(){S||(r.find("popover.active")&&r.find("popover.active").removeClass("active"),w=!0,angular.isDefined(o.popoverTarget)&&(u||C)?d=$(o.popoverTarget):angular.isDefined(o.popoverTarget)||!u&&!C||(d=$(a)),C=!1,I(),angular.isDefined(o.popoverCloseTarget)&&(o.$closeTarget=$(o.popoverCloseTarget),o.$closeTarget.on("click",o.hide)),l&&($("#backdrop").length||(angular.isDefined(o.popoverTarget)?$(o.popoverTarget).parent().after(y):a.parent().after(y)),p=p||$("#backdrop"),p.addClass("active"),p.css({zIndex:10}),p.one("click",o.hide)),d.css({position:"relative",zIndex:201}),A(h,_,d),_.addClass("active"),_.css({zIndex:202,position:"absolute"}),i.pushCurrentPopover(o))},o.hide=function(){S||(w=!1,_.removeClass("active"),u&&_.remove(),p=p||r.find("#backdrop"),p.removeClass("active"),t(function(){a.one("click",function(){o.show()})},0),d&&d.css({zIndex:0}),_&&_.css({zIndex:0}),i.popCurrentPopover(o))},o.disable=function(){S=!0,o.hide(),a.css({cursor:"auto"})},o.enable=function(){S=!1,k(),a.css({cursor:"pointer"})};var u,l,p,d,f={placement:o.popoverPlacement,animation:!1,appendToBody:!1,popupDelay:0},h=f.placement,m=/\.(html)$/i.test(o.popoverContent),g=m?"<div class='popover-content' ng-include='popoverContent'></div>":o.popoverContent,v='<div class="popover ute-popover" ng-class="{ in: isOpen(), fade: animation() }">\n<div class="arrow"></div>\n<div class="popover-inner">\n<h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n'+g+"</div>\n</div>\n</div>\n",y='<div id="backdrop" class="backdrop ute-backdrop"></div>',b=e(v),_=$(b(o)),w=!1,C=!0,S=!1,A=function(e,t,r){if(o.popoverArrowPadding=o.popoverArrowPadding||10,"bottom"===e)t.css({top:0+r.outerHeight()-1+c,bottom:"auto",left:r.outerWidth()/2-t.outerWidth()/2,right:"auto"});else if("top"===e)t.css({top:0-t.outerHeight()-1-c,bottom:"auto",left:r.outerWidth()/2-t.outerWidth()/2,right:"auto"});else if("left"===e)t.css({top:0-t.outerHeight()/2+r.outerHeight()/2,bottom:"auto",left:"auto",right:0+r.outerWidth()+9-c});else{if("right"!==e)throw new Error("utePopover: positionPopover method --> placement: is undefined");t.css({top:0-t.outerHeight()/2+r.outerHeight()/2,bottom:"auto",left:0+r.outerWidth()-2+c,right:"auto"})}},I=function(){if("replace"===s)d.html(_);else if("append"===s)d.append(_);else{if("after"!==s)throw d.after(_),new Error("utePopover: unknown insert mode string: "+s+" --> $scope.popoverInsertMode should be replace, append or after, defaulting to after method");d.after(_)}},k=function(){if(!n.jQuery||!n.$)throw new Error("utePopover error: JQuery ($) is not defined, please add JQuery source to the HTML page");_.addClass(h),_.addClass(o.popoverClass),u=o.popoverRemoveSelf||!1,l=o.popoverBackdrop||!0,o.popoverCloseTarget?a.one("click",function(){o.show()}):a.on("click",function(e){e.target===this&&(w=!w,w?o.show():o.hide())})};k()}]}}])}(),function(){"use strict";angular.module("ute.ui").factory("utePopoverFactory",function(){var e={utePopoverScopes:[],popCurrentPopover:function(t){e.utePopoverScopes=e.utePopoverScopes||[],_.each(e.utePopoverScopes,function(r,n){angular.equals(t,r)&&e.utePopoverScopes.slice(n,1)})},pushCurrentPopover:function(t){e.utePopoverScopes=e.utePopoverScopes||[],e.utePopoverScopes.push(t)},hideAllOpenPopovers:function(){_.each(e.utePopoverScopes,function(e){e.hide()}),e.utePopoverScopes=[]},showAllOpenPopovers:function(){_.each(e.utePopoverScopes,function(e){e.show()})
}};return e})}(),function(){"use strict";angular.module("ute.ui").directive("uteTable",["$http","$filter","ngTableParams",function(e,t,r){return{restrict:"EA",scope:{tableData:"=",footerData:"=",language:"@",itemsPerPage:"=",initialSort:"@",order:"@",tableTemplateFolder:"@"},transclude:!0,templateUrl:function(e,t){var r=t.tableTemplateFolder||"views/uteTable/";return r+t.tableBodyTemplate+".html"},link:function(e){var n=function(n){if(angular.isDefined(n)){e.tableParams=new r({page:1,count:e.itemsPerPage>=0?e.itemsPerPage:1e3,sorting:{}},{counts:[],total:n.length,getData:function(e,r){var i=r.sorting()?t("orderBy")(n,r.orderBy()):n;e.resolve(i.slice((r.page()-1)*r.count(),r.page()*r.count()))}});var i=e.order||"desc";e.tableParams.$params.sorting[e.initialSort]=i,e.tableParams.count(e.itemsPerPage>=0?e.itemsPerPage:1e3),e.tableParams.reload()}};e.$watch("tableData",n)}}}])}(),function(){"use strict";angular.module("ute.ui").directive("uteTracking",["$rootScope","uteTrackingManager","$log","$window","$location",function(e,t,r){return{restrict:"AE",scope:!0,priority:1600,controller:["$scope","$element","$attrs",function(n,i,o){n.uteTracking=o.uteTracking,n.trackOptions=n.$eval(o.trackOptions)||{},n.$watch(o.trackOptions,function(e,t){t!==e&&(n.trackOptions=n.$eval(o.trackOptions),"pageload"===n.type&&n.sendPageLoadEvent())},!0);var a;n.init=function(){t.tagsLoaded?n.tagsReady(null,t.uteTags):a=e.$on(t.events.TAG_DATA_READY,n.tagsReady)},n.sendPageLoadEvent=function(){return t.sendPageLoadEvent({trackingId:n.uteTracking,overrideParams:n.trackOptions})},n.sendClickEvent=function(){return t.sendClickEvent({trackingId:n.uteTracking,overrideParams:n.trackOptions})},n.prepareEvents=function(){if("click"===n.type)if("A"===i[0].tagName){if(angular.isDefined(o.href)){{var e;o.href}i.on("click",function(t){e=t,n.sendClickEvent()})}}else"SELECT"===i[0].tagName?$(i).on("change",function(){var e=$(i).find("option:selected").text().toCamelCase(),r=t.getProp(n.uteTracking).data;n.selectedOption={},_.each(r,function(t,r){var i=/(<([^>]+)>)/g.test(t.toString());n.selectedOption[r]=i?t.toString().replace(/(<([^>]+)>)/g,function(){return e}):e}),n.sendClickEvent()}):i.on("click",function(){n.sendClickEvent()});else"pageload"===n.type&&n.$watch(function(){return $(i).is(":visible")},function(){$(i).is(":visible")&&n.sendPageLoadEvent()})},n.tagsReady=function(e,i){return n.tagObject=i,n.type=t.getType(n.uteTracking),n.selectedProp=t.getProp(n.uteTracking),angular.isUndefinedOrNull(n.type)?(r.warn("uteTracking error: type does not exist, is it a click or pageload type"),void 0):angular.isUndefinedOrNull(n.selectedProp)?(r.warn("uteTracking error: "+n.uteTracking+" does not exist, please look at the source tags JSON file and make sure the ID is an exact match"),void 0):(n.prepareEvents(),angular.isDefined(a)&&a(),void 0)},n.init()}]}}])}(),function(){"use strict";angular.module("ute.ui").factory("uteTrackingManager",["$rootScope","uteLocale","$http","$log","$window","$document","$interval","$state","$q",function(e,t,r,n,i,o,a,s,c){var u={};return u.uteTags=null,u.maxRetries=3,u.interval=null,u.tagsLoaded=!1,u.defaultProps={pageURL:"prop17",stateName:"prop20",idName:"prop29",province:"prop34",language:"prop35"},u.events={TAG_DATA_READY:"TAG_DATA_READY"},u.trackingTypes={CLICK:"click",PAGELOAD:"pageload"},u.nameSpace=null,u.omni=null,u.sendClickEvent=function(e){var r=c.defer();return u.interval=a(function(){if(u.omni=i.s,angular.isDefined(u.omni&&u.omni.tl)){angular.isDefined(e.element)&&(0===$(e.element).length&&n.warn("uteTrackingManager.sendClickEvent --> could not find element property"),$(e.element).attr("ute-tracking",e.trackingId));var c=u.getProp(e.trackingId),l=_.defaults({},e.overrideParams,c.data);l[u.defaultProps.stateName]=s.current.name,l[u.defaultProps.idName]=e.trackingId,l[u.defaultProps.pageURL]=i.location&&i.location.href?i.location.href:o.URL,l[u.defaultProps.province]=t.province(),l[u.defaultProps.language]=t.language(),l.linkTrackVars=_.keys(l).join(),u.omni.tl(u.omni,"o",e.trackingId,l),a.cancel(u.interval),r.resolve()}},0,u.maxRetries),r.promise},u.sendPageLoadEvent=function(e){var r=c.defer();return u.interval=a(function(){if(u.omni=i.s,angular.isDefined(u.omni&&u.omni.t)){angular.isDefined(e.element)&&(0===$(e.element).length&&n.warn("uteTrackingManager.sendPageLoadEvent --> could not find element property"),$(e.element).attr("ute-tracking",e.trackingId));var c=u.getProp(e.trackingId),l=_.defaults({},e.overrideParams,c.data);l[u.defaultProps.stateName]=s.current.name,l[u.defaultProps.idName]=e.trackingId,l[u.defaultProps.pageURL]=i.location&&i.location.href?i.location.href:o.URL,l[u.defaultProps.province]=t.province(),l[u.defaultProps.language]=t.language(),l.linkTrackVars=_.keys(l).join(),u.omni.t(l),a.cancel(u.interval),r.resolve(u.uteTags)}},100,u.maxRetries),r.promise},u.requestTagJSON=function(t){angular.isUndefinedOrNull(t)&&new Error("uteTrackingManager: you must specify a valid path to a json file containing tagging id information");var i=c.defer();return r.get(t).then(function(t){if(angular.isUndefinedOrNull(u.nameSpace))u.uteTags=t.data;else{var r=u.nameSpace.split(","),n={};_.each(r,function(e){t.data[e]&&(n[e]=t.data[e])}),u.uteTags=n}e.$emit(u.events.TAG_DATA_READY,u.uteTags),u.tagsLoaded=!0,i.resolve(u.uteTags)},function(e){n.warn("could not load json file:",e)}),i.promise},u.getType=function(e){return-1!==e.indexOf("pageload")?"pageload":-1!==e.indexOf("click")?"click":null},u.getProp=function(e){var t,r=!1;return _.some(u.uteTags,function(n){return _.some(n,function(n){return _.some(n,function(n,i){return i===e?(t=n,r=!0,!0):void 0}),r}),r}),t},u.init=function(t,r){var n=c.defer();return u.omni=i.s,u.nameSpace=r,null===u.uteTags?u.requestTagJSON(t).then(function(){n.resolve()}):(e.$emit(u.events.TAG_DATA_READY,u.uteTags),n.resolve()),n.promise},u}])}(),function(){"use strict";angular.module("ute.ui").factory("uteCartManager",["$rootScope","$q","$state","$http","uteModal","uteEndpoint","uteEnv","uteCoreFactory",function(e,t,r,n,i,o,a,s){var c=s.collections,u={};return u.STATUS={N_A:"N_A",AVAILABLE:"AVAILABLE",SELECTED:"SELECTED",IN_CART:"IN_CART",REMOVED:"REMOVED"},u.EVENTS={ADDED_TO_CART:"ADDED_TO_CART",REMOVE_FROM_CART:"REMOVE_FROM_CART",CART_CLEARED:"CART_CLEARED"},u.getQuantity=function(){return e.shoppingCart&&e.shoppingCart.quantity?e.shoppingCart.quantity:0},u.validate=function(){var e=t.defer();return n({url:o("shoppingCart"),method:"POST",params:{actionType:"validateCart",userId:c.atg.userId.value,samKey:c.userPref.samKey,hashKey:c.atg.hashKey.value}}).then(function(t){e.resolve(t)},function(){e.reject()}),e.promise},u.cleanCart=function(r){var i=t.defer();return this.getQuantity()>0?n({url:o("shoppingCart"),method:"POST",params:{actionType:"clean",province:c.userPref.province,samKey:c.userPref.samKey},cache:!1}).then(function(t){(angular.isUndefined(r)||r===!1)&&(e.shoppingCart=t.data.shoppingCart),i.resolve(t)},function(){i.reject()}):i.resolve({}),i.promise},u.addMeta=function(r,n){var i=t.defer();return e.shoppingCart||i.reject(),n?(_.extend(e.shoppingCart[c.userPref.language].services[n],r),_.isMatch(e.shoppingCart[c.userPref.language].services[n],r)?i.resolve(!0):i.reject()):(_.extend(e.shoppingCart,r),_.isMatch(e.shoppingCart,r)?i.resolve(!0):i.reject()),i.promise},u.removeMeta=function(r,n){var i=t.defer();return e.shoppingCart||i.reject(),n?(e.shoppingCart[c.userPref.language].services[n]=_.omit(e.shoppingCart[c.userPref.language].services[n],r),i.resolve(!0)):(e.shoppingCart=_.omit(e.shoppingCart,r),i.resolve(!0)),i.promise},u.internet={stockInternetTierToCart:function(t){e.shoppingCart=t,e.shoppingCart&&e.shoppingCart[c.userPref.language]&&e.shoppingCart[c.userPref.language].services&&e.shoppingCart[c.userPref.language].services.internet&&e.shoppingCart[c.userPref.language].services.internet.tier&&e.shoppingCart[c.userPref.language].services.internet.tier.length>0&&e.shoppingCart[c.userPref.language].services.internet.tier[0].products&&e.shoppingCart[c.userPref.language].services.internet.tier[0].products.length>0&&(e.shoppingCart[c.userPref.language].services.internet.tier[0].selectedOffer=e.shoppingCart[c.userPref.language].services.internet.tier[0].products[0].offers[0],e.shoppingCart[c.userPref.language].services.internet.tier[0].selectedOffer.tierId=e.shoppingCart[c.userPref.language].services.internet.tier[0].tierId,e.shoppingCart[c.userPref.language].services.internet.tier[0].selectedOffer.productId=e.shoppingCart[c.userPref.language].services.internet.tier[0].products[0].id)},tierInCart:function(){if(u.getQuantity()>0&&e.shoppingCart&&e.shoppingCart[c.userPref.language]&&e.shoppingCart[c.userPref.language].services&&e.shoppingCart[c.userPref.language].services.internet&&e.shoppingCart[c.userPref.language].services.internet.tier&&e.shoppingCart[c.userPref.language].services.internet.tier.length>0){var t=e.shoppingCart[c.userPref.language].services.internet.tier[0];if(t.selectedOffer)return t;if(t.products&&t.products.length>0){t.offers=[];for(var r,n=0;r=t.products[n];n++)for(var i,o=0;i=r.offers[o];o++)i.productId=r.id,i.tierId=t.tierId,t.offers.push(i);return t.selectedOffer=t.offers[0],t}return!1}return!1},swapOffers:function(e,r,n,a,s,l){var p=t.defer();return i.processRequest({request:{url:o("shoppingCart"),method:"POST",params:{actionType:"addAndRemove",province:c.userPref.province,samKey:c.userPref.samKey,tierIdIn:e,productIdIn:r,offerIdIn:n,tierIdOut:a,productIdOut:s,offerIdOut:l,userId:c.atg.userId.value,hashKey:c.atg.hashKey.value},cache:!1}}).then(function(e){u.internet.stockInternetTierToCart(e.shoppingCart),p.resolve(e)},function(){p.reject()}),p.promise},removeOffer:function(e,r,n){var a=t.defer(),s={templateUrl:"uteModal/remove-from-cart.html",controller:function(e,t){e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}},ok:function(){i.processRequest({request:{url:o("shoppingCart"),method:"POST",params:{actionType:"remove",province:c.userPref.province,samKey:c.userPref.samKey,tierId:e,productId:r,offerId:n,userId:c.atg.userId.value,hashKey:c.atg.hashKey.value},cache:!1}}).then(function(e){u.internet.stockInternetTierToCart(e.shoppingCart),a.resolve(e)},function(){a.reject()})},cancel:function(){}};return i.open(s),a.promise},addOffer:function(e){var n=t.defer(),a=e;if(u.maxItemsInCart("internet")){var s=this.tierInCart(),l={oldPackage:"tier "+s.name+" with offer"+s.selectedOffer.name,newPackage:"tier "+a.name+" with offer "+a.selectedOffer.name,controller:function(e,t,r,n){e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")},e.oldPackage=r,e.newPackage=n},templateUrl:"uteModal/add-to-cart.html",ok:function(){u.internet.swapOffers(a.selectedOffer.tierId,a.selectedOffer.productId,a.selectedOffer.offerId,s.selectedOffer.tierId,s.selectedOffer.productId,s.selectedOffer.offerId).then(function(){r.go("cartSummary")})},cancel:function(){}};i.open(l)}else i.processRequest({request:{url:o("shoppingCart"),method:"POST",params:{actionType:"add",province:c.userPref.province,samKey:c.userPref.samKey,tierId:e.selectedOffer.tierId,productId:e.selectedOffer.productId,offerId:e.selectedOffer.offerId,userId:c.atg.userId.value,hashKey:c.atg.hashKey.value},cache:!1}}).then(function(e){u.internet.stockInternetTierToCart(e.shoppingCart),n.resolve(e)},function(){n.reject()});return n.promise}},u.fetch=function(){var e=t.defer();return n({url:o("shoppingCart"),method:"POST",params:{actionType:"fetch",province:c.userPref.province,samKey:c.userPref.samKey,userId:c.atg.userId.value,hashKey:c.atg.hashKey.value,auid:c.userPref.auId},cache:!1}).then(function(t){u.internet.stockInternetTierToCart(t.data.shoppingCart),e.resolve(t)},function(){e.reject()}),e.promise},u.statusSelected=function(e){return angular.isUndefined(e)?!1:angular.stringContains(e,u.STATUS.SELECTED)},u.statusInCart=function(e){return angular.isUndefined(e)?!1:angular.stringContains(e,u.STATUS.IN_CART)},u.statusAvailable=function(e){return angular.isUndefined(e)?!1:angular.stringContains(e,u.STATUS.AVAILABLE)},u.maxItemsInCart=function(t){var r={internet:1};return u.getQuantity()>0?e.shoppingCart[c.userPref.language].services[t].quantity>=r[t]:!1},u}])}(),function(){"use strict";angular.module("ute.ui").directive("uteMiniCart",function(){return{restrict:"AE",scope:!0,replace:!0,bindToController:!0,templateUrl:"uteMiniCart/mini-cart.html",controllerAs:"uteMiniCartCtrl"}})}(),function(){"use strict";angular.module("ute.ui").controller("uteMiniCartCtrl",["$scope","$rootScope","$state","$location","commonService","utePopoverFactory","uteModal","uteCartManager","uteCoreFactory",function(e,t,r,n,i,o,a,s,c){t.$watch("shoppingCart",function(t){e.cartItems=t}),e.lang=c.collections.userPref.language,e.totalPriceFrequency="monthly",e.removeOfferFromCart=function(e,t,r){s.internet.removeOffer(e,t,r).then(function(){})},e.isCartSummary=function(){return angular.isDefined(r)&&angular.isDefined(r.current.name)&&"cartSummary"===r.current.name},e.editCart=function(){angular.isDefined(r)&&r.go("internet")},e.checkout=function(){var t="buy";o.hideAllOpenPopovers(),e.processCheckout(t)}}])}(),function(){"use strict"}(),function(){"use strict";angular.module("ute.ui").directive("uteLanguageSelector",["$rootScope",function(e){return{scope:!0,replace:!0,templateUrl:"uteLanguageSelector/language-selector.html",restrict:"E",link:function(t){t.languages={en:"English",fr:"Français"},t.changeLanguage=function(){"en"===e.rui.language?e.rui.language="fr":"fr"===e.rui.language&&(e.rui.language="en")}}}}])}(),function(){"use strict";_.isUndefined(window.provinceMeta)?angular.module("ute.ui").constant("uteProvinceMeta",{ab:{services:["support","rewards"],ageOfMajority:18,driversLicense:"(\\d{6}\\-\\d{3})",language:"en"},bc:{services:["support","rewards"],driversLicense:"(\\d{7})",ageOfMajority:19,language:"en"},mb:{services:["support","rewards"],ageOfMajority:18,driversLicense:"([a-zA-Z]{2}\\-[a-zA-Z]{2}\\-[a-zA-Z]{2}\\-[a-zA-Z]{1}\\d{3}[a-zA-Z]{2})",language:"en"},nb:{services:["support","rewards"],ageOfMajority:18,driversLicense:"(\\d{7})",language:"en"},nl:{services:["support","rewards"],driversLicense:"([a-zA-Z]{1}\\d{9})",ageOfMajority:19,language:"en"},ns:{services:["support","rewards"],driversLicense:"([a-zA-Z]{5}\\d{9})",ageOfMajority:19,language:"en"},on:{services:["internet","support","rewards","iptv"],ageOfMajority:18,driversLicense:"([a-zA-Z]{1}\\d{4}\\-\\d{5}\\-\\d{5})",language:"en"},pe:{services:["support","rewards"],ageOfMajority:18,driversLicense:"(\\d{1,6})",language:"en"},qc:{services:["support","rewards"],ageOfMajority:18,driversLicense:"([a-zA-Z]{1}\\d{4}\\-\\d{6}\\-\\d{2})",language:"fr"},sk:{services:["support","rewards"],ageOfMajority:18,driversLicense:"(\\d{8})",language:"en"}}):angular.module("ute.ui").constant("uteProvinceMeta",window.provinceMeta)}(),function(){"use strict";angular.module("ute.ui").directive("uteProvinceSelector",function(){return{restrict:"E",scope:!0,replace:!0,bindToController:!0,templateUrl:"uteProvinceSelector/province-selector.html",controllerAs:"uteProvinceSelectorCtrl"}})}(),function(){"use strict";angular.module("ute.ui").controller("uteProvinceSelectorCtrl",["$scope","$element","$rootScope","$state","uteModal","uteMiniCartCtrl","uteProvinceServices",function(e,t,r,n,i,o,a){$(t).on("click",function(e){e.preventDefault()}),e.provinces=_.keys(a),e.selectedProvince=r.rui.province;var s=function(e){o.cleanCart(!0).then(function(){r.rui.samKey="default",r.atg={userId:{value:"default"},hashKey:{value:"default"}},r.rui.province=e})},c=function(t){var o=null;n.current.data&&n.current.data.service&&(o=n.current.data.service),o&&!r.ruiMethods.serviceAvailable(o,t)?i.open({title:"Service Not Available on Province Selected",message:"Unfortunately "+o+" is not available in "+t.toUpperCase()+".",ok:function(){s(t)},cancel:function(){e.selectedProvince=r.rui.province},okButtonLabel:"View Services Available in "+t.toUpperCase()}):s(t)};e.saveProvince=function(t){return angular.isUndefined(t)&&(t=e.selectedProvince),o.getQuantity()>0?(i.open({title:"Caution",message:"Your shopping cart will be empty if you decide to change the province.",ok:function(){c(t,!0)},cancel:function(){e.selectedProvince=r.rui.province}}),void 0):(c(t),void 0)}}])}(),function(){"use strict";angular.module("ute.ui").factory("uteProvinceService",["$rootScope","uteModal","$state","$translate","$q","uteMiniCartCtrl","uteProvinceMeta","uteCoreFactory",function(e,t,r,n,i,o,a,s){var c=(_.keys(a),s.collections),u={update:function(e){o.cleanCart(!0).then(function(){c.userPref.samKey="default",c.atg={userId:{value:"default"},hashKey:{value:"default"}},c.userPref.province=e})},checkFootPrint:function(o){var a=null,s=i.defer();if(r.current.data&&r.current.data.service&&(a=r.current.data.service),a&&!e.ruiMethods.serviceAvailable(a,o)){var c=[n("non-serviceable-province-modal-heading"),n("non-serviceable-province-modal-message"),n("service-"+a),n("global.province."+o+".name"),n("non-serviceable-province-modal-right-button"),n("global.province."+o+".abbrev")];i.all(c).then(function(r){t.open({title:r[0],message:r[1].replace("[service]",r[2]).replace("[prov]",r[3]),ok:function(){s.resolve(o)},cancel:function(){s.reject(e.rui.province)},okButtonLabel:"BC"===r[5]?r[4].replace("[prov]","B.C."):r[4].replace("[prov]",r[5])})})}else s.resolve(o);return s.promise}};return u}])}(),function(){"use strict";angular.module("ute.ui").directive("uteGlobalSearch",["uteModal",function(e){return{restrict:"E",scope:{templateUrl:"@"},template:'<div ng-click="openSearch()"><i class="ute-icon-search"></i></div>',controller:["$scope",function(t){t.openSearch=function(){e.open({templateUrl:"views/uteModal/global-search.html",message:"text for custom modal",listOfStuff:[10,!0,20,"apples"],ok:function(){t.modalClickedOk=!0},cancel:function(){t.modalClickedCancel=!0}})}}]}}])}(),function(){"use strict";function e(){var e={restrict:"AE",templateUrl:"bower_components/ute-ui/dist/views/semafone-creditcard.html",scope:!0,replace:!1,controller:"uteSemafoneCreditCardCtrl",controllerAs:"sm",bindToController:!0};return e}angular.module("ute.ui").directive("uteSemafoneCreditCard",e)}(),function(){"use strict";function e(e){function t(t,r,n){var i=e.semafoneParameters.semafoneUrl,o=e.semafoneParameters.semafoneMode,a=e.semafoneParameters.gatewayId,s=e.semafoneParameters.methodId,c=e.semafoneParameters.ppUserId,u=e.semafoneParameters.ppPassword,l=e.semafoneParameters.tenantId,p=e.semafoneParameters.clientId,d=e.semafoneParameters.accountId,f=e.semafoneParameters.principle,h=e.semafoneParameters.licenseCode,m=e.semafoneParameters.transactionType,g=e.semafoneParameters.responseType,v=e.semafoneParameters.responseURL,y="en",b="18",_="400",w="16",C=e.semafoneParameters[y],S="";return t.length>0&&(C=t),"UNKNOWN"!=o&&"UNKNOWN"!=s&&"TOKENISE"==s&&"DISABLED"==o?S=i+"?semafoneMode="+o+"&gatewayId="+a+"&methodId="+s+"&ppUserId="+c+"&ppPassword="+u+"&tenantId="+l+"&clientId="+p+"&accountId="+d+"&principle="+f+"&licenseCode="+h+"&responseType="+g+"&transactionType="+m+"&maskedPan="+C+"&isPanFocusedOnInitialise="+r+"&isPanResetOnInitialFocus="+n+"&elementFontSize="+b+"&elementWidth="+_+"&elementMaxLength="+w+"&responseURL="+v:void 0}var r={loadSemafoneCapturePageUrl:t};return r}angular.module("ute.ui").factory("uteSemafoneCreditCardService",e),e.$inject=["env"]}(),function(){"use strict";function e(e,t,r,n,i){function o(){h.months=r.months,h.years=r.expireYears(),h.cards={visa:{id:0,name:"VISA",image:"/html-fido/cms/ute/fido/images/visa.png"},mc:{id:1,name:"MASTER",image:"/html-fido/cms/ute/fido/images/mc.png"},amex:{id:2,name:"AMEX",image:"/html-fido/cms/ute/fido/images/am.png"}},h.creditPaymentObj={creditCardType:null,creditCardNo:null,expireDate:{month:null,year:null},securityCode:null},h.semafoneIframeUrl=u(),h.payNowRule={amount:{type:"number",min:.01},ccNumber:{pattern:"([0-9]{4}[ -]?){4}"},expMonth:{type:"number",min:1,max:12},expYear:{type:"number",min:2015,max:2025},securityCode:{type:"number",minlength:3,maxlength:4},ccName:{pattern:"VISA|MASTER|AMEX"}},h.listenSemafoneCaptureIframeEvents()}function a(){}function s(){}function c(){e.$$phase||e.$digest()}function u(){var e=t.trustAsHtml('<iframe src="'+t.trustAsResourceUrl(n.loadSemafoneCapturePageUrl(h.maskedCardNumber,h.isPanFocusedOnInitialise,h.isPanResetOnInitialFocus)+"#"+encodeURIComponent(document.location.href))+'" class="ute-input-text", scrolling="no" transparency="true" offset="0" border="0" outline="0" frameBorder="0" frameborder="0" marginwidth="0" marginheight="0"></iframe>');return e}function l(e){return e=e.replace(/\+/g," ")}function p(){h.semafoneIframeUrl="",h.callDigest(),h.semafoneIframeUrl=t.trustAsHtml('<iframe src="'+t.trustAsResourceUrl(n.loadSemafoneCapturePageUrl(h.maskedCardNumber,h.isPanFocusedOnInitialise,h.isPanResetOnInitialFocus)+"#"+encodeURIComponent(document.location.href))+'" class="ute-input-text", scrolling="no" transparency="true" offset="0" border="0" outline="0" frameBorder="0" frameborder="0" marginwidth="0" marginheight="0"></iframe>'),h.callDigest(),h.listenSemafoneCaptureIframeEvents()}function d(e){e.semafoneState&&e.semafoneState.length>0&&(h.semafoneState=e.semafoneState),e.semafoneValidationState&&e.semafoneValidationState.length>0&&(h.semafoneValidationState=e.semafoneValidationState),h.semafoneValidationErrorCode=e.semafoneValidationErrorCode&&e.semafoneValidationErrorCode.length>0?e.semafoneValidationErrorCode:"",e.semafoneValidationErrorDesc&&e.semafoneValidationErrorDesc.length>0?h.semafoneValidationErrorDesc=e.semafoneValidationErrorDesc:h.semafoneTokeniseErrorDesc="",e.semafoneState&&e.semafoneState.length>0&&"ACTIVE"==e.semafoneState&&(h.token="",h.cardScheme="",h.maskedCardNumber="",h.semafoneTokeniseReasonCode="",h.semafoneTokeniseResponseCode="",h.semafoneTokeniseErrorCode="",h.semafoneTokeniseErrorDesc="",h.cybersourceTokeniseResponseCode="",h.cybersourceTokeniseReasonCode="",h.cybersourceTokeniseMessage="",h.cybersourceTokeniseErrorCause="",i.setToken(""),i.setCardScheme(""),i.setMaskedCardNumber(""),i.setSemafoneValidationState("Unknown"),i.setExpectedSecurityCodeLength(""),h.isNotValidCard=!1,h.isCybersourceError=!1,h.creditPaymentObj.creditCardType=null,h.callDigest()),e.semafoneState&&e.semafoneState.length>0&&"COMPLETE"!=e.semafoneState&&(h.semafoneState=e.semafoneState),e.semafoneValidationState&&e.semafoneValidationState.length>0&&"SUCCESS"!=e.semafoneValidationState&&(h.semafoneValidationState=e.semafoneValidationState),e.semafoneValidationState&&e.semafoneValidationState.length>0&&"FAIL"==e.semafoneValidationState&&(i.setToken(""),i.setMaskedCardNumber(""),i.setCardScheme(""),i.setSemafoneValidationState("FAIL"),h.isNotValidCard=!0,h.isCybersourceError=!1,h.creditPaymentObj.creditCardType=null,h.callDigest()),e.semafoneReasonCode&&e.semafoneReasonCode.length>0&&(h.semafoneTokeniseReasonCode=e.semafoneReasonCode),e.semafoneResponseCode&&e.semafoneResponseCode.length>0&&(h.semafoneTokeniseResponseCode=e.semafoneResponseCode,"SUCCESS"!=e.semafoneResponseCode&&(!e.serviceResponseCode||e.serviceResponseCode.length<1)&&(h.isPanResetOnInitialFocus=!0,h.loadSemafoneCapturePageIframe())),e.semafoneErrorCode&&e.semafoneErrorCode.length>0&&(angular.element("#semafoneTokeniseErrorCode").val(e.semafoneErrorCode),(200101==e.semafoneErrorCode||201999==e.semafoneErrorCode)&&(h.isCybersourceError=!0,h.callDigest())),e.semafoneErrorCause&&e.semafoneErrorCause.length>0&&(h.semafoneTokeniseErrorDesc=e.semafoneErrorCause),e.serviceResponseCode&&e.serviceResponseCode.length>0&&(h.cybersourceTokeniseResponseCode=e.serviceResponseCode,100!=e.serviceResponseCode&&(h.isPanResetOnInitialFocus=!0,h.loadSemafoneCapturePageIframe())),e.serviceErrorCause&&e.serviceErrorCause.length>0&&(h.cybersourceTokeniseErrorCause=e.serviceErrorCause),e.serviceReasonCode&&e.serviceReasonCode.length>0&&(h.cybersourceTokeniseReasonCode=e.serviceReasonCode),e.serviceMessage&&e.serviceMessage.length>0&&(h.cybersourceTokeniseMessage=e.serviceMessage),e.semafoneState&&e.semafoneState.length>0&&"COMPLETE"==e.semafoneState&&e.semafoneValidationState&&e.semafoneValidationState.length>0&&"SUCCESS"==e.semafoneValidationState&&(i.setSemafoneValidationState("SUCCESS"),e.cardScheme&&e.cardScheme.length>0&&(h.cardScheme=e.cardScheme,e.token&&e.token.length>0&&i.setCardScheme(e.cardScheme)),e.token&&e.token.length>0&&(h.token=e.token,i.setToken(e.token)),e.expectedSecurityCodeLength&&e.expectedSecurityCodeLength.length>0&&i.setExpectedSecurityCodeLength(e.expectedSecurityCodeLength),e.maskedPan&&e.maskedPan.length>0&&(h.maskedCardNumber=e.maskedPan,i.setMaskedCardNumber(e.maskedPan),h.isPanResetOnInitialFocus=!0,h.creditPaymentObj.creditCardType="VISA"===i.getCardScheme()?"VISA":"MASTERCARD"===i.getCardScheme()?"MASTER":"AMEX"===i.getCardScheme()?"AMEX":null,h.isNotValidCard=!1,h.isCybersourceError=!1,h.loadSemafoneCapturePageIframe()))}function f(){h.semafoneEvents={semafoneState:"",semafoneValidationState:"",semafoneValidationErrorCode:"",semafoneValidationErrorDesc:"",cardScheme:"",currentCardNumberLength:"",expectedCardNumberLength:"",expectedSecurityCodeLength:"",token:"",maskedPan:"",processResultState:"",semafoneResponseCode:"",semafoneReasonCode:"",semafoneErrorCode:"",semafoneErrorName:"",semafoneErrorCause:"",semafoneErrorRemedy:"",semafoneWarningCode:"",semafoneWarningName:"",semafoneWarningCause:"",semafoneWarningRemedy:"",serviceReasonCode:"",serviceResponseCode:"",serviceMessage:"",serviceErrorCode:"",serviceErrorName:"",serviceErrorCause:"",serviceErrorRemedy:""},$.receiveMessage(function(e){for(var t=e.data.split("&"),r=0;r<t.length;r++){var n=t[r].split("="),i=n[0],o=n[1];"semafoneState"==i?h.semafoneEvents.semafoneState=o:"semafoneValidationState"==i?h.semafoneEvents.semafoneValidationState=o:"semafoneValidationErrorCode"==i?h.semafoneEvents.semafoneValidationErrorCode=o:"semafoneValidationErrorDesc"==i?h.semafoneEvents.semafoneValidationErrorDesc=decodeURIComponent(h.decodeSpaces(o)):"cardScheme"==i?h.semafoneEvents.cardScheme=decodeURIComponent(h.decodeSpaces(o)):"currentCardNumberLength"==i?h.semafoneEvents.currentCardNumberLength=o:"expectedCardNumberLength"==i?h.semafoneEvents.expectedCardNumberLength=o:"expectedSecurityCodeLength"==i?h.semafoneEvents.expectedSecurityCodeLength=o:"token"==i?h.semafoneEvents.token=decodeURIComponent(o):"maskedPan"==i?h.semafoneEvents.maskedPan=decodeURIComponent(h.decodeSpaces(o)):"processResultState"==i?h.semafoneEvents.processResultState=o:"semafoneResponseCode"==i?h.semafoneEvents.semafoneResponseCode=decodeURIComponent(h.decodeSpaces(o)):"semafoneReasonCode"==i?h.semafoneEvents.semafoneReasonCode=decodeURIComponent(h.decodeSpaces(o)):"semafoneErrorCode"==i?h.semafoneEvents.semafoneErrorCode=decodeURIComponent(h.decodeSpaces(o)):"semafoneErrorName"==i?h.semafoneEvents.semafoneErrorName=decodeURIComponent(h.decodeSpaces(o)):"semafoneErrorCause"==i?h.semafoneEvents.semafoneErrorCause=decodeURIComponent(h.decodeSpaces(o)):"semafoneErrorRemedy"==i?h.semafoneEvents.semafoneErrorRemedy=decodeURIComponent(h.decodeSpaces(o)):"semafoneWarningCode"==i?h.semafoneEvents.semafoneWarningCode=decodeURIComponent(h.decodeSpaces(o)):"semafoneWarningName"==i?h.semafoneEvents.semafoneWarningName=decodeURIComponent(h.decodeSpaces(o)):"semafoneWarningCause"==i?h.semafoneEvents.semafoneWarningCause=decodeURIComponent(h.decodeSpaces(o)):"semafoneWarningRemedy"==i?h.semafoneEvents.semafoneWarningRemedy=decodeURIComponent(h.decodeSpaces(o)):"serviceReasonCode"==i?h.semafoneEvents.serviceReasonCode=decodeURIComponent(h.decodeSpaces(o)):"serviceResponseCode"==i?h.semafoneEvents.serviceResponseCode=decodeURIComponent(h.decodeSpaces(o)):"serviceMessage"==i?h.semafoneEvents.serviceMessage=decodeURIComponent(h.decodeSpaces(o)):"serviceErrorCode"==i?h.semafoneEvents.serviceErrorCode=decodeURIComponent(h.decodeSpaces(o)):"serviceErrorName"==i?h.semafoneEvents.serviceErrorName=decodeURIComponent(h.decodeSpaces(o)):"serviceErrorCause"==i?h.semafoneEvents.serviceErrorCause=decodeURIComponent(h.decodeSpaces(o)):"serviceErrorRemedy"==i&&(h.semafoneEvents.serviceErrorRemedy=decodeURIComponent(h.decodeSpaces(o)))}h.semafoneCapturePageEventHandlers(h.semafoneEvents)})}var h=this;h.isNotValidCard=!1,h.isCybersourceError=!1,h.months,h.years,h.cards={},h.creditPaymentObj={},h.validateSecurityCode=a,h.validateExpireDate=s,h.callDigest=c,h.semafoneIframeUrl,h.payNowRule={},h.decodeSpaces=l,h.loadSemafoneCapturePageIframe=p,h.semafoneCapturePageEventHandlers=d,h.listenSemafoneCaptureIframeEvents=f,h.token="",h.cardScheme="",h.maskedCardNumber="",h.semafoneTokeniseErrorCode="",h.semafoneTokeniseReasonCode="",h.isPanResetOnInitialFocus=!0,h.isPanFocusedOnInitialise=!1,h.semafoneTokeniseResponseCode="",h.semafoneTokeniseErrorDesc="",h.semafoneValidationState="",h.semafoneState="",h.cybersourceTokeniseResponseCode="",h.cybersourceTokeniseReasonCode="",h.cybersourceTokeniseMessage="",h.cybersourceTokeniseErrorCause="",o()}angular.module("ute.ui").controller("uteSemafoneCreditCardCtrl",e),e.$inject=["$scope","$sce","uteSemafonePaymentService","uteSemafoneCreditCardService","uteSemafoneService"]}(),function(){"use strict";function e(){function e(){if(t.length>0)return t;var e=(new Date).getFullYear();t.push(e);for(var r=1;10>=r;r++)t.push(e+r);return t}var t=[],r=10,n=["01","02","03","04","05","06","07","08","09","10","11","12"],i=["V","M","A"],o={postExpireYearsNum:r,months:n,ccType:i,expireYears:e};return o}angular.module("ute.ui").factory("uteSemafonePaymentService",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e){f=e}function t(){return f}function r(e){h=e}function n(){return h}function i(e){m=e}function o(){return m}function a(e){v=e}function s(){return v}function c(e){g=e}function u(){return g}function l(){f="",h="",m="",g=!0,v=""}function p(){return y}function d(e){y=e}var f="",h="",m="",g=!0,v="",y="",b={setToken:e,getToken:t,setCardScheme:r,getCardScheme:n,setMaskedCardNumber:i,getMaskedCardNumber:o,setSemafoneValidationState:a,getSemafoneValidationState:s,setValidCard:c,isValidCard:u,clearData:l,getExpectedSecurityCodeLength:p,setExpectedSecurityCodeLength:d};return b}angular.module("ute.ui").factory("uteSemafoneService",e),e.$inject=[]}(),function(){"use strict";angular.module("ute.ui").factory("uteCoreFactory",["$rootScope","$window",function(e,t){var r={collections:{}},n=[{windowObjName:"__userPref",rootScopeVarName:"userPref",watchMethod:function(e,r){e!==r&&($.cookie("userPref",e,{expires:30}),e.province!==r.province&&t.location.reload(),e.language!==r.language&&t.location.reload())},deepWatch:!0},{windowObjName:"__atg",rootScopeVarName:"atg",watchMethod:function(e,t){if(e!==t)if(e.userId.name&&e.userId.value&&e.userId.expire&&e.hashKey.name&&e.hashKey.value&&e.hashKey.expire){if("-1"!==e.userId.expire.toString()){var r=null;r=moment(e.userId.expire).diff(moment(),"days",!0),$.cookie("atg",e,{expires:r})}}else $.removeCookie("atg")},deepWatch:!0},{windowObjName:"__userInfo",rootScopeVarName:"userInfo",watchMethod:function(e,t){if(e!==t)if(e==={})$.removeCookie("userInfo");else if(e.expiry){var r=new Date;e.expiry!==t.expiry&&(r=moment(e.expiry).toDate()),$.cookie("userInfo",e,{expires:r})}else $.cookie("userInfo",e)},deepWatch:!0}],i=this;i.ready=!1;var o=function(){_.each(n,function(n){r.collections[n.rootScopeVarName]=t[n.windowObjName],e.$watch(function(){return r.collections[n.rootScopeVarName]},n.watchMethod,n.deepWatch)}),i.ready=!0};return r&&i.ready!==!1||o(),r}]).run(["uteCoreFactory","uteCartManager","$rootScope",function(e,t,r){angular.isDefined(e.collections.userPref)&&e.collections.userPref.cartQuantity>0&&t.fetch(),r.$watch("shoppingCart.quantity",function(t,r){t!==r&&(e.collections.userPref.cartQuantity=t)})}]).factory("uteUtil",["$rootScope","$window","commonService","uteProvinceMeta","uteCoreFactory","$http","$state","$q","uteEndpoint",function(e,t,r,n,i,o,a,s,c){var u=i.collections;return{isValidProvince:function(e){return n[e]?!0:!1
},isValidLanguage:function(e){return-1!==["en","fr"].indexOf(e.toLowerCase())?!0:!1},isPromise:function(e){return!!e&&angular.isFunction(e.then)},startAgentSession:function(){var e=s.defer(),t=this;return o({method:"GET",url:c("v1/cfaInfo"),cache:!1}).success(function(n){return n.cfaInfo?(u.userInfo={cfaInfo:n.cfaInfo,type:"cfa"},n.cfaInfo.getCustomerAccounts&&(u.userInfo.accounts=n.cfaInfo.getCustomerAccounts.accounts?n.cfaInfo.getCustomerAccounts.accounts:[],u.userInfo.firstName=n.cfaInfo.getCustomerAccounts.firstName?n.cfaInfo.getCustomerAccounts.firstName:"",u.userInfo.lastName=n.cfaInfo.getCustomerAccounts.lastName?n.cfaInfo.getCustomerAccounts.lastName:"",r.getAccountDetails(u.userInfo.accounts,!0)),t.renewAgentSession(),e.resolve(n),void 0):(e.reject("No cfaInfo"),void 0)}).error(function(t){e.reject(t)}),e.promise},renewAgentSession:function(){e.$broadcast("timer-clear"),u.userInfo.expiry=moment().add(15,"m"),e.$broadcast("timer-start"),o.post(u.userInfo.cfaInfo.sourceURL+u.userInfo.cfaInfo.heartBeatURL+";jsessionid="+u.userInfo.cfaInfo.jSessionID);var t=u.userInfo.cfaInfo.uteHeartBeatURL;t&&"/"===t.substring(0,1)&&o.post(c(u.userInfo.cfaInfo.uteHeartBeatURL.substring(1)))},endAgentSession:function(){var e=u.userInfo.cfaInfo.sourceURL?u.userInfo.cfaInfo.sourceURL+u.userInfo.cfaInfo.signOutURL+";jsessionid="+u.userInfo.cfaInfo.jSessionID:!1;u.userInfo={},e?t.location=e:a.go("home")},formatPhoneNumber:function(e){return"undefined"==typeof e?e:(e.indexOf(".")>0?e=e.split(".").join(""):e.indexOf(" ")>0?e=e.split(" ").join(""):e.indexOf("-")>0&&(e=e.split("-").join("")),e)},objectToArray:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t},setCookiesOnRootScope:function(r){_.each(r,function(r){e[r.rootScopeVarName]=t[r.windowObjName],e.$watch(r.rootScopeVarName,r.watchMethod,r.deepWatch)})},arrayToObject:function(e){var t={};return e.forEach(function(e,r){t[r]=e}),t},clearLocalStorageValue:function(){var e=["janrainCaptureReturnExperienceData","janrainCaptureReturnExperienceData_Expires"],r={};$.each(e,function(e,n){r[n]=t.localStorage.getItem(n)}),t.localStorage.clear(),$.each(e,function(e,n){t.localStorage.setItem(n,r[n])})},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=t.exec(location.href);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))},getCCType:function(e){if(e.length>3){if(e.match(/^(34|37)/))return"AMEX";if(e.match(/^(4[0-9])/))return"VISA";if(e.match(/^5[1-5]/))return"MASTER"}else if(e.length<3)return""},validateFormOnSubmit:function(e){if(e.$invalid){for(var t in e)"$"!=t[0]&&e[t].$pristine&&e[t].$setTouched();return!1}return!0},setCacheVariable:function(e,t){return this[e]=t,!0},getCacheVariable:function(e){return this[e]},calculateAge:function(e){e=new Date(e);var t=new Date,r=t.getFullYear()-e.getFullYear();return(t.getMonth()<e.getMonth()||t.getMonth()==e.getMonth()&&t.getDay()<e.getDay())&&r--,r}}}])}(),function(){angular.module("ute.ui").factory("uteEncryption",function(){function e(){this.i=0,this.j=0,this.S=[]}function t(e){var t,r,n;for(t=0;256>t;++t)this.S[t]=t;for(r=0,t=0;256>t;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0}function r(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function n(){return new e}function i(e){st[ct++]^=255&e,st[ct++]^=e>>8&255,st[ct++]^=e>>16&255,st[ct++]^=e>>24&255,ct>=ut&&(ct-=ut)}function o(){i((new Date).getTime())}function a(){if(null==at){for(o(),at=n(),at.init(st),ct=0;ct<st.length;++ct)st[ct]=0;ct=0}return at.next()}function s(e){var t;for(t=0;t<e.length;++t)e[t]=a()}function c(){}function u(e,t){return new g(e,t)}function l(e,t){if(t<e.length+11)throw"encryption, Message too long for RSA";for(var r=[],n=e.length-1;n>=0&&t>0;){var i=e.charCodeAt(n--);128>i?r[--t]=i:i>127&&2048>i?(r[--t]=63&i|128,r[--t]=i>>6|192):(r[--t]=63&i|128,r[--t]=i>>6&63|128,r[--t]=i>>12|224)}r[--t]=0;for(var o=new c,a=[];t>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);r[--t]=a[0]}return r[--t]=2,r[--t]=0,new g(r)}function p(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function d(e,t){if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=u(e,16),this.e=parseInt(t,16)}function f(e){return e.modPowInt(this.e,this.n)}function h(e){var t=l(e,this.n.bitLength()+7>>3);if(null==t)return null;var r=this.doPublic(t);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n}function m(e){var t,r,n="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),n+=ft.charAt(r>>6)+ft.charAt(63&r);for(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),n+=ft.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),n+=ft.charAt(r>>2)+ft.charAt((3&r)<<4));(3&n.length)>0;)n+=ht;return n}function g(e,t){null!=e&&("number"==typeof e?this.fromInt(e):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function v(){return new g(null)}function y(e,t,r,n,i,o){for(;--o>=0;){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=67108863&a}return i}function b(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var c=32767&this[e],u=this[e++]>>15,l=s*c+u*a;c=a*c+((32767&l)<<15)+r[n]+(1073741823&i),i=(c>>>30)+(l>>>15)+s*u+(i>>>30),r[n++]=1073741823&c}return i}function _(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var c=16383&this[e],u=this[e++]>>14,l=s*c+u*a;c=a*c+((16383&l)<<14)+r[n]+i,i=(c>>28)+(l>>14)+s*u,r[n++]=268435455&c}return i}function w(e){return _t.charAt(e)}function C(e,t){var r=wt[e.charCodeAt(t)];return null==r?-1:r}function S(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function A(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+this.DV:this.t=0}function I(e){var t=v();return t.fromInt(e),t}function k(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return this.fromRadix(e,t),void 0;r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=8==r?255&e[n]:C(e,n);0>a?"-"==e.charAt(n)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&g.ZERO.subTo(this,this)}function x(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function E(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-->0)for(s<this.DB&&(r=this[a]>>s)>0&&(i=!0,o=w(r));a>=0;)t>s?(r=(this[a]&(1<<s)-1)<<t-s,r|=this[--a]>>(s+=this.DB-t)):(r=this[a]>>(s-=t)&n,0>=s&&(s+=this.DB,--a)),r>0&&(i=!0),i&&(o+=w(r));return i?o:"0"}function R(){var e=v();return g.ZERO.subTo(this,e),e}function T(){return this.s<0?this.negate():this}function P(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(t=r-e.t,0!=t)return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0}function D(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function L(){return this.t<=0?0:this.DB*(this.t-1)+D(this[this.t-1]^this.s&this.DM)}function M(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s}function O(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s}function $(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+a+1]=this[r]>>i|s,s=(this[r]&o)<<n;for(r=a-1;r>=0;--r)t[r]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function j(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)return t.t=0,void 0;var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<i,t[a-r]=this[a]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}function N(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);i>r;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=0>n?-1:0,-1>n?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()}function z(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&g.ZERO.subTo(t,t)}function U(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()}function B(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),null!=r&&this.copyTo(r),void 0;null==r&&(r=v());var o=v(),a=this.s,s=e.s,c=this.DB-D(n[n.t-1]);c>0?(n.lShiftTo(c,o),i.lShiftTo(c,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,l=o[u-1];if(0!=l){var p=l*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),d=this.FV/p,f=(1<<this.F1)/p,h=1<<this.F2,m=r.t,y=m-u,b=null==t?v():t;for(o.dlShiftTo(y,b),r.compareTo(b)>=0&&(r[r.t++]=1,r.subTo(b,r)),g.ONE.dlShiftTo(u,b),b.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--y>=0;){var _=r[--m]==l?this.DM:Math.floor(r[m]*d+(r[m-1]+h)*f);if((r[m]+=o.am(0,_,r,y,0,u))<_)for(o.dlShiftTo(y,b),r.subTo(b,r);r[m]<--_;)r.subTo(b,r)}null!=t&&(r.drShiftTo(u,t),a!=s&&g.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),0>a&&g.ZERO.subTo(r,r)}}}function F(e){var t=v();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(g.ZERO)>0&&e.subTo(t,t),t}function q(e){this.m=e}function V(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function W(e){return e}function H(e){e.divRemTo(this.m,null,e)}function J(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function Q(e,t){e.squareTo(t),this.reduce(t)}function Y(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function G(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function K(e){var t=v();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(g.ZERO)>0&&this.m.subTo(t,t),t}function Z(e){var t=v();return e.copyTo(t),this.reduce(t),t}function X(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function et(e,t){e.squareTo(t),this.reduce(t)}function tt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function rt(){return 0==(this.t>0?1&this[0]:this.s)}function nt(e,t){if(e>4294967295||1>e)return g.ONE;var r=v(),n=v(),i=t.convert(this),o=D(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}function it(e,t){var r;return r=256>e||t.isEven()?new q(t):new G(t),this.exp(e,r)}function ot(e,t,r){var n=new p;n.setPublic(t,r);var i=n.encrypt(e);return m(i)}e.prototype.init=t,e.prototype.next=r;var at,st,ct,ut=256;if(null==st){st=[],ct=0;var lt;if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var pt=window.crypto.random(32);for(lt=0;lt<pt.length;++lt)st[ct++]=255&pt.charCodeAt(lt)}for(;ut>ct;)lt=Math.floor(65536*Math.random()),st[ct++]=lt>>>8,st[ct++]=255&lt;ct=0,o()}c.prototype.nextBytes=s,p.prototype.doPublic=f,p.prototype.setPublic=d,p.prototype.encrypt=h;var dt,ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ht="=",mt=0xdeadbeefcafe,gt=15715070==(16777215&mt);gt&&"Microsoft Internet Explorer"==navigator.appName?(g.prototype.am=b,dt=30):gt&&"Netscape"!=navigator.appName?(g.prototype.am=y,dt=26):(g.prototype.am=_,dt=28),g.prototype.DB=dt,g.prototype.DM=(1<<dt)-1,g.prototype.DV=1<<dt;var vt=52;g.prototype.FV=Math.pow(2,vt),g.prototype.F1=vt-dt,g.prototype.F2=2*dt-vt;var yt,bt,_t="0123456789abcdefghijklmnopqrstuvwxyz",wt=[];for(yt="0".charCodeAt(0),bt=0;9>=bt;++bt)wt[yt++]=bt;for(yt="a".charCodeAt(0),bt=10;36>bt;++bt)wt[yt++]=bt;for(yt="A".charCodeAt(0),bt=10;36>bt;++bt)wt[yt++]=bt;return q.prototype.convert=V,q.prototype.revert=W,q.prototype.reduce=H,q.prototype.mulTo=J,q.prototype.sqrTo=Q,G.prototype.convert=K,G.prototype.revert=Z,G.prototype.reduce=X,G.prototype.mulTo=tt,G.prototype.sqrTo=et,g.prototype.copyTo=S,g.prototype.fromInt=A,g.prototype.fromString=k,g.prototype.clamp=x,g.prototype.dlShiftTo=M,g.prototype.drShiftTo=O,g.prototype.lShiftTo=$,g.prototype.rShiftTo=j,g.prototype.subTo=N,g.prototype.multiplyTo=z,g.prototype.squareTo=U,g.prototype.divRemTo=B,g.prototype.invDigit=Y,g.prototype.isEven=rt,g.prototype.exp=nt,g.prototype.toString=E,g.prototype.negate=R,g.prototype.abs=T,g.prototype.compareTo=P,g.prototype.bitLength=L,g.prototype.mod=F,g.prototype.modPowInt=it,g.ZERO=I(0),g.ONE=I(1),ot})}(),function(){"use strict";angular.module("ute.ui").factory("uteModal",["$modal","$q",function(e,t){var r={};return r.config={},r.controllerScope=null,r.defaultController=function(e,t){return r.controllerScope=e,e.title=angular.isDefined(r.config.resolve)&&angular.isDefined(r.config.resolve.title)?r.config.resolve.title():"Confirm",e.message=angular.isDefined(r.config.resolve)&&angular.isDefined(r.config.resolve.message)?r.config.resolve.message():"Please confirm",e.okButtonLabel=angular.isDefined(r.config.resolve)&&angular.isDefined(r.config.resolve.okButtonLabel)?r.config.resolve.okButtonLabel():"Continue",e.cancelButtonLabel=angular.isDefined(r.config.resolve)&&angular.isDefined(r.config.resolve.cancelButtonLabel)?r.config.resolve.cancelButtonLabel():"Cancel",e.ok=function(){t.close(),r.closeThisModal(t)},e.cancel=function(){t.dismiss("cancel"),r.closeThisModal(t)},{$scope:e,$modalInstance:t}},r.closeThisModal=function(e){_.each(r.modalInstancesArray,function(t,n){angular.equals(e,t)&&r.modalInstancesArray.splice(n,1)})},r.closeAllModals=function(){_.each(r.modalInstancesArray,function(e){e.dismiss("cancel")}),r.modalInstancesArray=[]},r.modalInstancesArray=[],r.processRequest=function(n){var i=t.defer();return e.open({templateUrl:"uteModal/processing-request.html",backdrop:"static",resolve:{def:function(){return i}},controller:["$scope","$http","$modalInstance","def","$timeout",function(e,t,r,i,o){var a=n.delay?n.delay:1e4;e.cancel=function(){r.close(),o.cancel(e.loadingSegment),i.reject("Cancelled")},e.makeRequest=function(){n.request.timeout=i.promise,e.loadingView=!0,e.processingView=!1,e.errorView=!1,e.loadingSegment=o(function(){},a),e.loadingSegment.then(function(){e.loadingView=!1,e.processingView=!0,e.errorView=!1},function(){}),t(n.request).success(function(t){i.resolve(t),r.close(),o.cancel(e.loadingSegment)}).error(function(){e.loadingView=!1,e.processingView=!1,e.errorView=!0,o.cancel(e.loadingSegment)})},e.makeRequest()}]}),r.config=n,i.promise},r.defaultConfigObject={backdrop:!0,cp:!1,templateUrl:"views/uteModal/modal.html",controller:r.defaultController,ok:null,cancel:null,opened:null,size:"md",keyboard:!0},r.open=function(t){var n=_.defaults({},t?t:{},r.defaultConfigObject),i={};angular.isDefined(n.resolve)?_.each(n.resolve,r.loopResolveFunction.bind(r,i)):_.each(t,r.loopResolveFunction.bind(r,i)),_.keys(i).length&&(n.resolve=i),r.config=n;var o=e.open(r.config);if(r.modalInstancesArray.push(o),r.config.cp){var a=function(){$(".pca:first").insertAfter($("#janrainModal")),$(".pca:first").removeClass("formodal")};o.result.then(a,a)}return r.config.ok&&r.config.cancel&&o.result.then(t.ok,t.cancel),r.config.opened&&o.opened.then(r.config.opened,function(){}),o},r.isNotDefaultProperty=function(e){return!angular.isDefined(r.defaultConfigObject[e])},r.loopResolveFunction=function(e,t,n){return r.isNotDefaultProperty(n)&&(e[n]="function"==typeof t&&"undefined"==typeof t()?t:function(){return t}),e},r}])}(),function(){"use strict";angular.module("ute.ui").factory("uteJanrainEvents",["$timeout","$window","$rootScope","$state","uteUserService","$http","$translate","uteEndpoint","uteJanrainService","commonService","cartManager","$compile","util",function(e,t,r,n,i,o,a,s,c,u,l,p,d){var f,h=!1,m=function(e,p){return u.accessToken?(o({method:"POST",url:s("v3/login"),data:$.param({accessToken:u.accessToken,uuid:e}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(o){if(o.error&&"ERR-MIGRATED"===o.error)a("ERR-MIGRATED").then(function(e){t.janrain.capture.ui.endCaptureSession(),c.displayMessage(),c.showErrorMessage(e.replace("EMAIL_REPLACE",o.email))});else if(o.error&&"50000"===o.error)a("50000").then(function(e){c.hideSuccessMessage(),c.showErrorMessage(e),c.hideProcessing(),c.focusElement("signIn","userID"),t.janrain.capture.ui.endCaptureSession()});else if(o.getCustomerAccounts&&o.getCustomerAccounts.error&&"50000"===o.getCustomerAccounts.error)a("50000").then(function(e){c.hideSuccessMessage(),c.showErrorMessage(e),c.hideProcessing(),c.focusElement("signIn","userID"),t.janrain.capture.ui.endCaptureSession()});else{var s={uuid:e,userID:p};"false"==o.isLinked||0==o.isLinked?(s.firstName="",s.lastName="",s.janrainOnlylogin=!0,i.login(s),n.go("linkAccounts")):(s.firstName=o.getCustomerAccounts.firstName,s.lastName=o.getCustomerAccounts.lastName,s.accounts=o.getCustomerAccounts.accounts,s.profileType=o.getCustomerAccounts.profileType,i.login(s),"home"===n.current.name?(u.getAccountDetails(r.userInfo.accounts),o.getCustomerAccounts.profileType&&o.getCustomerAccounts.profileType.prepaid?n.go("myAccount.groupID"):n.go("myAccount.overview")):u.getAccountDetails(r.userInfo.accounts).then(function(){"internet"===n.current.name?u.customerHasInternetService&&l.cleanCart().then(function(){}):"cartSummary"===n.current.name||"createUser"===n.current.name?u.customerHasInternetService?l.cleanCart().then(function(){n.go("internet",{})}):n.go("buy"):n.go("myAccount.overview")})),t.janrain.capture.ui.modal.close()}}).error(function(){t.janrain.capture.ui.endCaptureSession(),a("50000").then(function(e){c.hideSuccessMessage(),c.showErrorMessage(e),c.hideProcessing(),c.focusElement("signIn","userID"),t.janrain.capture.ui.endCaptureSession()})}),void 0):(a("50000").then(function(e){c.hideSuccessMessage(),c.showErrorMessage(e),c.hideProcessing(),c.focusElement("signIn","userID"),t.janrain.capture.ui.endCaptureSession()}),void 0)},g={onCaptureLoginSuccess:[function(e){m(e.userData.uuid,e.userData.userID)}],onCaptureSessionEnded:[function(){i.logout(!1)}],onCaptureRenderStart:[function(){}],onCaptureSessionCreated:[function(e){u.accessToken=e&&e.accessToken?e.accessToken:""}],onCaptureFieldsChanged:[function(e){e.emailAddress&&e.emailAddress.newValue!=e.emailAddress.oldValue&&t.janrain.capture.ui.setFieldAttribute("emailAddress","tip","Your email address has changed. Please check your email for a verification link.")}],onCaptureValidationSuccess:[function(e){!e.field||"capture_editProfile_emailAddress"!=e.field.id||2!=janrain.capture.ui.getProfileCookieData("profileType")&&3!=janrain.capture.ui.getProfileCookieData("profileType")||e.field.defaultValue==e.field.value||-1!=e.field.defaultValue.indexOf("@")||(document.getElementById("capture_editProfile_msisdn").value=e.field.defaultValue)}],onCaptureEmailSent:[function(e){f=e}],onCaptureProfileSaveSuccess:[function(e){"editProfileForm"==e.form?o({method:"POST",url:s("v1/updateProfile"),data:$.param({accountNumber:d.getCacheVariable("selectedAccount"),userName:e.userData.email}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(){}).error(function(){}):"changePasswordForm"==e.form?$("#passwordEditSuccess").show():"changeSecurityQuestionForm"==e.form&&$("#securityQAEditSuccess").show()}],onCaptureRenderComplete:[function(e){if(window.janrain.loginUiModalReady=!0,e.flow.form)switch(e.screen){case"signIn":case"returnTraditional":window.janrain.lastScreen="signIn",window.janrain.lastScreenUpdated=0,c.displayMessage(),delete e.flow.fields.signInForm.errors;break;case"forgotPasswordSuccess":$("#passwordResetEmail").html(f.to);break;case"resendVerificationSuccess":delete e.flow.fields.resetPasswordUserID.value,$("#resendVerificationEmail").html(f.to);break;case"emailNotVerified":delete e.flow.fields.emailConfirm.value,delete e.flow.fields.resendVerificationEmailAddress.value,delete e.flow.fields.signInEmailAddress.value,delete e.flow.fields.emailAddress.value,delete e.flow.fields.userIDData.value,delete e.flow.fields.emailAddressData.value,delete e.flow.fields.securityQuestion.value,delete e.flow.fields.securityQuestionData.value,delete e.flow.fields.resetPasswordUserID.value,t.janrain.capture.ui.getReturnExperienceData("userID")&&$(".notVerifiedEmail").html(janrain.capture.ui.getReturnExperienceData("userID")),"registrationForm"==e.flow.form&&($(".thankYouRegisteration").show(),$(".emailVerifiedForm").hide(),t.janrain.capture.ui.getReturnExperienceData("userID")&&$("#emailRegisteredRecently").html(janrain.capture.ui.getReturnExperienceData("userID"))),"signInForm"==e.flow.form&&($(".emailVerifiedForm").show(),$(".thankYouRegisteration").hide())}else switch(e.screen){case"signIn":case"returnTraditional":c.displayMessage();{var r=document.getElementById("capture_"+e.screen+"_userID");document.getElementById("capture_traditionalRegistration_emailAddress")}r&&"string"==typeof janrain.capture.ui.getReturnExperienceData("userID")&&janrain.capture.ui.getReturnExperienceData("userID")&&(r.value=janrain.capture.ui.getReturnExperienceData("userID"))}if("editProfile"==e.screen&&0==e.renderingBuiltInScreen&&($("#editProfileOuter").show(),$("#janrainEditProfileLoading").hide()),"signIn"==e.screen){1==h&&($("#capture_signIn_currentPassword").val(""),h=!1);var n=document.getElementById("capture_signIn_userID");if(n){var i=n.value.indexOf("@sms.fido.ca");i>-1&&(n.value=n.value.substring(0,i))}}"forgotPassword"==e.screen&&(window.janrain.globalResult={},delete e.flow.fields.forgotPasswordForm.errors,window.janrain.globalResult.userIdValidation=e.flow.fields.userID.validation.messages),("forgotPassword"==e.screen||"forgotPasswordSuccess"==e.screen)&&delete e.flow.fields.resetPasswordUserID.value}],onCaptureEmailVerificationSuccess:[function(e){"traditionalRegistration"==e.screen&&janrain.capture.ui.endCaptureSession()}],onCaptureScreenShow:[function(e){if("returnTraditional"==e.screen){var t=document.getElementById("traditionalWelcomeName"),r=janrain.capture.ui.getReturnExperienceData("displayName");t&&r&&(t.innerHTML="Welcome back, "+r+"!")}"signIn"==e.screen&&c.focusElement(e.screen,"userID")}],onCaptureContentChange:[function(){}],onCaptureSaveSuccess:[function(e){"resendVerificationEmail"==e.controlName&&"editProfile"==e.screen&&(document.getElementById("capture_editProfile_resendLink").style.display="none")}],onCaptureModalReady:[function(){window.janrain.loginUiModalReady=!0}],onCaptureSessionFound:[function(){r.ruiMethods.user.is.loggedIn()||m(janrain.capture.ui.getProfileCookieData("uuid"),janrain.capture.ui.getProfileCookieData("userID"))}],onCaptureRegistrationSuccessNoLogin:[function(){}],onCaptureLoginFailed:[function(e){h=!0,"accountDeactivated"==e.statusMessage&&a("ERR-DISABLED-ACCOUNT").then(function(e){c.showErrorMessage(e),c.hideProcessing(),t.janrain.capture.ui.endCaptureSession()}),"invalidCredentials"==e.statusMessage&&(t.localStorage.removeItem("janrainCaptureReturnExperienceData"),t.localStorage.removeItem("janrainCaptureReturnExperienceData_Expires"))}],onCaptureAccountDeactivateSuccess:[function(e){"success"==e.status&&a("ERR-DISABLED-ACCOUNT").then(function(e){c.showErrorMessage(e),c.hideProcessing(),t.janrain.capture.ui.endCaptureSession()})}]},v=function(e){window.starttime=new Date,setTimeout(function(){"object"==typeof t.janrain.events&&"function"==typeof janrain.capture.ui.start?(_.each(g,function(e,r){_.each(e,function(e){t.janrain.events[r].addHandler(e)})}),janrain.capture.ui.start(),window.janrain.captureReady=!0):v(e)},250)};return{checkJanrainUiReady:v}}])}(),function(){"use strict";angular.module("ute.ui").service("uteJanrainService",["$window",function(e){this.janrainStatus={linkExpired:!1,loginRendered:!1,successErrorMessage:!1,janrainMessage:""},this.focusElement=function(e,t){var r=$("#capture_"+e+"_"+t);r.focus(),r.val(r.val())},this.showErrorMessage=function(e){$(".capture_rightText .capture_secondary").show(),$(".capture_rightText .capture_processing").hide(),this.clearPasswordField(),$("#capture_signIn_signInForm_errorMessages").children().first().length?$("#capture_signIn_signInForm_errorMessages").children().first().html(e):(e='<div data-capturefield="undefined" class="capture_form_error capture_formerror_1426861805991" id="capture_signIn_formerror_1426861805991">'+e+"</div>",$("#capture_signIn_signInForm_errorMessages").html(e))},this.displayMessage=function(){1==this.janrainStatus.successErrorMessage?($("#capture_signIn_signInForm_successMessages .capture_form_success").html(this.janrainStatus.janrainMessage),$("#capture_signIn_signInForm_successMessages").show(),$("#capture_signIn_signInForm_successMessages").show(),this.janrainStatus.successErrorMessage=!1):$("#capture_signIn_signInForm_successMessages").hide()},this.showSuccessMessage=function(e){$("#capture_signIn_signInForm_successMessages").html(e),$("#capture_signIn_signInForm_successMessages").show(),this.setSuccessErrorMessage(!0)},this.hideProcessing=function(){$(".capture_processing").hide(),$(".capture_btn ").css({display:"auto"})},this.hideSuccessMessage=function(){$("#capture_signIn_signInForm_successMessages").hide()},this.hideAllErrorMessage=function(){$("#capture_signIn_signInForm_errorMessages").hide(),$(".capture_form_error").hide()},this.setLinkExpired=function(){this.janrainStatus.linkExpired="demo here"},this.closeJanrainModal=function(){e.janrain.capture.ui.modal.close()},this.getStatus=function(){return this.janrainStatus},this.setSuccessErrorMessage=function(e){this.janrainStatus.successErrorMessage=e},this.setJanrainMessage=function(e){this.janrainStatus.janrainMessage=e},this.clearPasswordField=function(){document.getElementById("capture_signIn_currentPassword").value=""},this.clearLocalStorageValue=function(){var t=["janrainCaptureReturnExperienceData","janrainCaptureReturnExperienceData_Expires"],r={};$.each(t,function(t,n){r[n]=e.localStorage.getItem(n)}),e.localStorage.clear(),$.each(t,function(t,n){e.localStorage.setItem(n,r[n])})};var t=0;this.checkJanrainModalReady=function(e){var r=function(){1==window.janrain.loginUiModalReady&&1==janrain.captureReady?e():setTimeout(function(){t+=1,1==window.janrain.loginUiModalReady&&1==janrain.captureReady?e():r()},300)};r()},this.renderEditProfile=function(){window.endtime=new Date,$("#janrainCaptureWidget").hide(),$("#janrainCaptureWidget .janrain-capture-ui").hide(),this.checkJanrainModalReady(function(){e.janrain.capture.ui.renderScreen("editProfile")})},this.renderLogin=function(){this.checkJanrainModalReady(function(){e.janrain.capture.ui.renderScreen("signIn")})}}])}(),function(){"use strict";angular.module("ute.ui").factory("uteUserService",["uteCoreFactory","uteUtil","$modal","$window","$rootScope","$state","uteModal","commonService",function(e,t,r,n,i,o,a,s){var c={},u={},l=e.collections;return u.confirmLogOut=function(){var e={templateUrl:"modules/user/views/confirm-logout.html",controller:function(e,t){e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}},ok:function(){u.logOut()},cancel:function(){}};a.open(e)},u.logOut=function(){1==janrain.capture.ui.hasActiveSession()&&n.janrain.capture.ui.endCaptureSession(),l.userInfo={},t.clearLocalStorageValue(),o.go("home"),i.payment={},s.resetServiceData()},c.promptResetPassword=function(){r.open({templateUrl:"modules/user/views/reset-password.html",controller:"resetPasswordCtrl",size:"md",backdrop:!1})},c.promptAutoRegComplete=function(){r.open({templateUrl:"modules/user/views/registration-complete.html",controller:"registrationCompleteCtrl",size:"md",backdrop:!1})},c.logout=function(e){e===!0?u.confirmLogOut():u.logOut()},c.login=function(e){l.userInfo=e},c}])}(),function(){"use strict";angular.module("ute.ui").filter("uteCapacity",["$rootScope","uteLocale",function(e,t){return function(e,r,n){var i,o,a=r||t.language()||"en",s=function(e){return e>=1e3?n===!1?Math.round(Number(e)/1024)+" "+o:Math.round(Number(e)/1024*100)/100+" "+o:e+" "+i};return"en"===a?(i="MB",o="GB",s(e)):"fr"===a?(i="Mo",o="Go",s(e)):void 0}}])}(),function(){"use strict";angular.module("ute.ui").filter("uteDateFormatter",["moment","uteLocale",function(e,t){return function(r,n,i){angular.isUndefinedOrNull(n)&&(n="LLLL"),angular.isUndefinedOrNull(i)&&(i="en");var o=e(r);return o.locale(t.locale(i)),o.format(n)}}])}(),function(){"use strict";var e=function(e){return e.match(/^4[0-9]{12}(?:[0-9]{3})?$/)?"VISA":e.match(/^5[1-5][0-9]{14}$/)?"MASTER":e.match(/^3[47][0-9]{13}$/)?"AMEX":e?"":void 0},t=function(e){return 15==e.length?"**** ****** *"+e.substr(11):"**** **** **** "+e.substr(12)},r=function(t,r,n){var i=r(t,n.modulus,n.publicExponent),o={pan:i,sig:n.signature,si:n.systemIndicator,ts:n.timestamp,type:e(t).substr(0,1),service:n.serviceVal},a=JSON.stringify(o),s=n.url+"?merchantID="+n.applicationId+"&jsonstring="+encodeURIComponent(a)+"&callback=JSON_CALLBACK";return s};angular.module("ute.ui").provider("uteCyberSource",function(){this.setSignatureUrl=function(e){this.signatureUrl=e},this.setDecryptionUrl=function(e){this.decryptionUrl=e},this.$get=["$http","uteEncryption","$q",function(n,i,o){var a=this;return{getCardType:e,getMaskedToken:t,getEncryptedToken:function(e){var t=o.defer();return n.post(a.signatureUrl).success(function(o){var a=r(e,i,o);t.resolve(n.jsonp(a))}).error(function(){t.reject("invalid cybersource environment, could not get uteEncryption signature")}),t.promise},getDecryptedToken:function(e,t){var r=a.decryptionUrl+"?encryptedToken="+e.token+"&bin="+e.iin+"&result="+e.rc+"&creditCardType="+t;return n.post(r)}}}]})}();